ˇˇo"contentBÅå/*_M:mezZFd*/
try{
_.m("mezZFd");

var WS,pod,qod,rod,sod,tod,uod;_.ood=function(a){try{return a.$?a.$.responseXML:null}catch(b){return null}};WS=function(a){a.ua||(a.ua=new _.Vl(a));return a.ua};pod=function(a){return 0<a?1:0>a?-1:a};qod=function(a,b){for(var c=[],d=0;d<a.length;d++)c.push(a[d]^b[d]);return c};
rod=function(a){for(var b=new _.uf(arguments[0].y,arguments[0].x,arguments[0].y,arguments[0].x),c=1;c<arguments.length;c++){var d=b,e=arguments[c];d.top=Math.min(d.top,e.y);d.right=Math.max(d.right,e.x);d.bottom=Math.max(d.bottom,e.y);d.left=Math.min(d.left,e.x)}return b};
sod=function(a,b,c,d,e,f){if(_.jd&&e)return _.cyb(a);if(e&&!d)return!1;if(!_.gd){"number"===typeof b&&(b=_.eyb(b));var h=17==b||18==b||_.jd&&91==b;if((!c||_.jd)&&h||_.jd&&16==b&&(d||f))return!1}if((_.hd||_.fd)&&d&&c)switch(a){case 220:case 219:case 221:case 192:case 186:case 189:case 187:case 188:case 190:case 191:case 192:case 222:return!1}if(_.uc&&d&&b==a)return!1;switch(a){case 13:return _.gd?f||e?!1:!(c&&d):!0;case 27:return!(_.hd||_.fd||_.gd)}return _.gd&&(d||e||f)?!1:_.cyb(a)};
tod=function(a){return _.hd&&(_.jd||_.Oda)&&0!=a%40?a:a/40};uod=function(a,b,c,d){_.Gh.call(this,b);this.type="mousewheel";this.detail=a;this.deltaX=c;this.deltaY=d};_.Gc(uod,_.Gh);var vod=function(a,b){_.Oh.call(this);this.Cd=a;a=_.le(this.Cd)?this.Cd:this.Cd?this.Cd.body:null;this.ma=!!a&&_.OC(a);this.$=_.Kh(this.Cd,_.gd?"DOMMouseScroll":"mousewheel",this,b)};_.Gc(vod,_.Oh);
vod.prototype.handleEvent=function(a){var b=0,c=0,d=a.Dj;"mousewheel"==d.type?(a=tod(-d.wheelDelta),void 0!==d.wheelDeltaX?(b=tod(-d.wheelDeltaX),c=tod(-d.wheelDeltaY)):c=a):(a=d.detail,100<a?a=3:-100>a&&(a=-3),void 0!==d.axis&&d.axis===d.HORIZONTAL_AXIS?b=a:c=a);"number"===typeof this.ha&&(b=_.Dd(b,-this.ha,this.ha));"number"===typeof this.ka&&(c=_.Dd(c,-this.ka,this.ka));this.ma&&(b=-b);b=new uod(a,d,b,c);this.dispatchEvent(b)};
vod.prototype.Td=function(){vod.eg.Td.call(this);_.Nh(this.$);this.$=null};
var ZS,wod,$S,xod,aT,XS,YS,Bod,Cod,zod,yod;ZS=function(a,b){if(2>a.$.length)return 0;for(var c=0,d=1;d<a.$.length;++d)if(XS(a.$[d])>b.width||YS(a.$[d])>b.height){c=d-1;break}d=a.$[c];var e=a.$[c+1];return _.Dd(c+Math.min(Math.log(b.width/XS(d))/Math.log(XS(e)/XS(d)),Math.log(b.height/YS(d))/Math.log(YS(e)/YS(d))),0,a.$.length-1)};wod=function(a,b){var c=a.$[a.$.length-1];c=XS(c)/YS(c);var d=b.width/b.height;return ZS(a,new _.Pd(c<=d?b.width:Number.MAX_VALUE,c>d?b.height:Number.MAX_VALUE))};
$S=function(a,b){var c=_.Dd(Math.ceil(b),0,a.$.length-1),d=_.Dd(Math.floor(b),0,a.$.length-1);b-=Math.floor(b);return new _.Pd(XS(a.$[d])*Math.pow(XS(a.$[c])/XS(a.$[d]),b),YS(a.$[d])*Math.pow(YS(a.$[c])/YS(a.$[d]),b))};
_.Aod=class{constructor(a,b){this.na=a;this.ka=this.ma=this.ha=0;this.origin="";this.$=[];this.timestamp=0;this.parse(b)}Mb(){return this.na}parse(a){if(void 0!==this.na){if(null===this.na)throw Error("Ne");var b=this.na.documentElement;this.ha=aT(b,"tile_width");this.ma=aT(b,"tile_height");this.origin=xod(b,"origin","TOP_LEFT");if(!(this.origin in yod))throw Error("Oe`"+this.origin);this.timestamp=aT(b,"timestamp");var c=b.childNodes,d=0;this.$=[];for(var e=0;e<c.length;++e)_.le(c[e])&&this.$.push(new zod(d++,
c[e],this.ha,this.ma,this.origin));if(2>aT(b,"tiler_version_number")&&void 0!==a&&a&&0<this.$.length)for(a=this.$[this.$.length-1],b=XS(a),d=YS(a),e=0;e<c.length;++e){var f=Math.pow(2,c.length-e-1),h=Math.floor(b/f);f=Math.floor(d/f);var k=b/h,l=d/f;k>l?f=YS(a)/k:h=XS(a)/l;this.$[e].TE=Math.ceil(h/this.ha);this.$[e].lQ=this.$[e].TE*this.ha-h;this.$[e].UE=Math.ceil(f/this.ma);this.$[e].mQ=this.$[e].UE*this.ma-f}this.ka=this.$.length}}};
xod=function(a,b,c){c=null!=c?c:"";if(null==a)return c;var d=c;null!=a.attributes&&null!=a.attributes.getNamedItem(b)?d=a.attributes.getNamedItem(b).value:null!=a.Ub&&null!=a.Ub("@"+b)&&(d=a.Ub("@"+b).get());return null!=d?d:c};aT=function(a,b){a=xod(a,b,"");a=parseInt(a,10);return isNaN(a)?0:a};XS=function(a){return a.TE*a.ha-a.lQ};YS=function(a){return a.UE*a.ma-a.mQ};
Bod=function(a,b,c){b instanceof _.Jd&&(c=b.y,b=b.x);return new _.Jd(Math.floor((b*XS(a)-a.ka.x)/a.ha),Math.floor((c*YS(a)-a.ka.y)/a.ma))};Cod=function(a,b,c){b instanceof _.Jd&&(c=b.y,b=b.x);return new _.Jd((b*a.ha+a.ka.x)/XS(a),(c*a.ma+a.ka.y)/YS(a))};
zod=class{constructor(a,b,c,d,e){this.$=a;this.ha=c;this.ma=d;this.Cd=b;this.mQ=this.lQ=this.UE=this.TE=0;this.rotation=null;this.na=e;this.ka=new _.$I(0,0);this.parse()}Ia(){return this.Cd}initialize(a,b,c,d,e){this.TE=a;this.UE=b;this.lQ=c;this.mQ=d;b=a=this.na=e||this.na;this.ka=new _.$I("TOP_LEFT"==a||"BOTTOM_LEFT"==a?0:-this.lQ,"TOP_LEFT"==b||"TOP_RIGHT"==b?0:-this.mQ)}parse(){null!=this.Cd&&this.initialize(aT(this.Cd,"num_tiles_x"),aT(this.Cd,"num_tiles_y"),aT(this.Cd,"empty_pels_x"),aT(this.Cd,
"empty_pels_y"))}};yod={BOTTOM_LEFT:"BOTTOM_LEFT",BOTTOM_RIGHT:"BOTTOM_RIGHT",TOP_LEFT:"TOP_LEFT",TOP_RIGHT:"TOP_RIGHT"};
_.bT=function(a){this.baseUrl=a};_.bT.prototype.isValid=function(a){return 0<a.ka};_.bT.prototype.S1=function(){return!1};_.bT.prototype.eS=function(){return!1};
var Dod=function(a){this.baseUrl="";this.url=a};_.Gc(Dod,_.bT);_.g=Dod.prototype;_.g.tX=function(){return this.url.tX()};_.g.AH=function(a){return this.url.AH(a)};_.g.getTileUrl=function(a,b,c){return this.url.getTileUrl(a,b,c)};_.g.rH=function(a,b,c,d,e){return this.url.rH(a,b,c,d,e)};_.g.isValid=function(a){return this.url.isValid(a)};_.g.S1=function(a){return this.url.S1(a)};_.g.eS=function(a){return this.url.eS(a)};
var Eod;Eod=function(a,b){if(b&&b.$&&b.$.length){var c=b.$[0],d=b.$[b.$.length-1],e=Math.max(XS(d),YS(d));a.$=0;for(var f=2;f<=e;f*=2){var h=XS(c)/(XS(d)/f),k=YS(c)/(YS(d)/f);if(!(1>=h&&1>=k)){var l=new zod(0,null,c.ha/h,c.ma/k,b.origin);l.initialize(1,1,c.lQ/h,c.mQ/k);b.$.unshift(l);a.$+=1}}for(a=0;a<b.$.length;++a)b.$[a].$=a;b.ka=b.$.length}};
_.Fod=class extends Dod{constructor(a){super(a);this.$=0}eS(a){return this.url.eS((0,_.Dc)(function(b){Eod(this,b);a&&a(b)},this))}AH(a){a=this.url.AH(a);Eod(this,a);return a}getTileUrl(a,b,c){return this.url.getTileUrl(a,b,Math.max(0,c-this.$))}rH(a,b,c,d,e){return this.url.rH(a,b,Math.max(0,c-this.$),d,e)}};
_.God=function(a,b,c,d,e,f){this.imageUrl=a;this.size=new _.Pd(b,c);this.SF=d||"";a=null;e&&f&&(a=new _.Pd(e,f));this.$=a;this.ha=-1;this.ka=Math.min(512,e||b,f||c)};_.Gc(_.God,_.bT);_.g=_.God.prototype;_.g.tX=function(){return""};
_.g.AH=function(){var a=new _.Aod;a.ha=this.size.width;a.ma=this.size.height;a.ka=Math.ceil(Math.log(Math.max(this.size.width+1,this.size.height+1)/this.ka)/Math.log(2))+1;a.origin="TOP_LEFT";for(var b=0;b<a.ka;++b){var c=1/Math.pow(2,a.ka-1-b),d=this.size.width*c;c*=this.size.height;this.SF&&this.$.height>=c&&this.$.width>=d&&(this.ha=b);d=new zod(b,null,d,c,a.origin);d.TE=1;d.UE=1;d.lQ=0;d.mQ=0;a.$.push(d)}return a};_.g.getTileUrl=function(a,b,c){return c<=this.ha?this.SF:this.imageUrl};
_.g.rH=function(a,b,c){return this.getTileUrl(a,b,c)};_.g.eS=function(a){null!=a&&a(this.AH(null));return!0};
var cT=function(a,b){this.baseUrl=a;this.ha=b||"nt0";this.$={}};_.Gc(cT,_.bT);cT.prototype.tX=function(){return this.baseUrl+"=g"};cT.prototype.AH=function(a){return new _.Aod(a,!0)};cT.prototype.getTileUrl=function(a,b,c){return this.baseUrl+"=x"+(a+"-y"+b+"-z"+c)};
cT.prototype.rH=function(a,b,c,d,e){var f=a+"-"+b+"-"+c;f in this.$||(d=(new _.An(this.baseUrl)).getPath().substr(1)+"=x"+(a+"-y"+b+"-z"+c)+"-"+this.ha+(Math.floor(d/86400)+"-d"+e.location.hostname.split(".").slice(-3).join(".")),d=_.o7b(new _.oH(new _.pH,[123,43,78,35,222,44,197,197],64),_.ega(d)),d=_.vb(d),d=d.substring(0,d.length-1),d=d.replace(/\+/g,"_").replace(/\//g,"_"),e=this.baseUrl,0==e.indexOf("http://lh3.ggpht.com")&&(e=e.replace("http://lh3.ggpht.com",Hod[(a+b+1)%Hod.length])),this.$[f]=
e+"=x"+(a+"-y"+b+"-z"+c)+"-"+this.ha+d);return this.$[f]};var Hod=["http://lh3.ggpht.com","http://lh4.ggpht.com","http://lh5.ggpht.com","http://lh6.ggpht.com"];
var Iod=class{constructor(a,b){var c=a.$[a.$.length-1];this.size=this.size=new _.Pd(XS(c),YS(c));this.maxZoomLevel=this.$=a.ka-1;this.minZoomLevel=this.ha=b}};_.tc("MicroscopeImageMetadata",Iod,void 0);
_.tc("MicroscopeMaximizeMode",{Lbb:"fit",uAa:"fill"},void 0);
_.tc("MicroscopeBackgroundStyle",{sib:"transparent",rab:"checkered"},void 0);
var dT=function(a){var b=a;"function"==typeof a.Ia&&(b=b.Ia());if(null==b)throw Error("Pe");return b},eT=function(a){var b=a.Dj,c=null;b.targetTouches&&0<b.targetTouches.length?c=b.targetTouches:b.changedTouches&&0<b.changedTouches.length&&(c=b.changedTouches);return c?(a=_.Ef(a.target),new _.Jd(c[0].pageX-a.x,c[0].pageY-a.y)):new _.Jd(a.offsetX,a.offsetY)};
var Jod=class extends _.Fh{constructor(a){super("drag_end");this.position=a}};
var Kod=class extends _.Fh{constructor(a){super("drag_hover");this.position=a}};
var Lod=class extends _.Fh{constructor(a,b){super("drag_move");this.position=a;this.$=b}};
var Mod=class extends _.Fh{constructor(a){super("drag_start");this.position=a}};
var Nod=function(a){a=a.Dj.targetTouches;return null!=a&&1<a.length?!1:!0},Ood=class extends _.Oh{constructor(a){super();this.element=dT(a);this.ha=!1;this.ma=this.oa=0;this.ka=new _.Vl(this);this.Qd(this.ka);this.na=!1;this.$=null;this.ka.listen(this.element,["mousedown","touchstart"],this.Ja);this.ka.listen(this.element,["mouseup","touchend"],this.ua);this.ka.listen(this.element,["mousemove","touchmove"],this.La);this.ka.listen(document,["mouseup","touchend"],this.ua)}Ja(a){"touchstart"!=a.type&&
a.preventDefault();if(Nod(a))if(a.button&&0!=a.Dj.button)this.ha&&this.ua(a);else{this.ha=!0;var b=eT(a);this.oa=b.x;this.ma=b.y;this.dispatchEvent(new Mod(eT(a)))}}ua(a){a.currentTarget!=document&&"touchend"!=a.type&&a.preventDefault();this.ha&&(this.ha=!1,this.$=null,this.dispatchEvent(new Jod(eT(a))))}La(a){a.preventDefault();this.$=a;this.na||(this.dispatchEvent(new Kod(eT(a))),Nod(a)&&this.ha&&(this.na=!0,setTimeout((0,_.Dc)(this.Na,this),1)))}Na(){this.na=!1;if(this.ha&&this.$){var a=eT(this.$),
b=new _.$I(a.x-this.oa,a.y-this.ma);this.dispatchEvent(new Lod(eT(this.$),b));this.$=null;this.oa=a.x;this.ma=a.y}}};
var Pod=class extends _.Oh{constructor(){super();this.ha=new _.$I(0,0);this.ka=null;this.$={};this.$[40]=!1;this.$[37]=!1;this.$[39]=!1;this.$[38]=!1;this.oa=0;this.ma=new _.Ph(1/60*1E3);this.Qd(this.ma);this.na=new _.Vl(this);this.Qd(this.na);this.na.listen(this.ma,"tick",this.La)}stop(){this.$[40]=!1;this.$[37]=!1;this.$[39]=!1;this.$[38]=!1;this.ma.stop();this.ha=new _.$I(0,0)}La(){var a;if(!(a=0!=_.bJ(this.ha)))a:{for(var b in this.$)if(this.$[Number(b)]){a=!0;break a}a=!1}if(a){b=new _.$I((this.$[37]?
1:0)-(this.$[39]?1:0),(this.$[38]?1:0)-(this.$[40]?1:0));0<_.bJ(b)&&b.scale(1/_.bJ(b));var c=Date.now();a=(c-this.oa)/1E3;this.oa=c;pod(b.x)!=pod(this.ha.x)&&(this.ha.x=0);0!=b.x&&(this.ha.x+=b.x/.2*a);pod(b.y)!=pod(this.ha.y)&&(this.ha.y=0);0!=b.y&&(this.ha.y+=b.y/.2*a);this.ha.x=_.Dd(this.ha.x,-1,1);this.ha.y=_.Dd(this.ha.y,-1,1);c=this.ha.clone();1<_.bJ(c)&&c.scale(1/_.bJ(c));b=new _.Jd(0,0);a=new _.$I(a*c.x*1500,a*c.y*1500);this.dispatchEvent(new Mod(b));this.dispatchEvent(new Lod(b,a));this.dispatchEvent(new Jod(a))}else this.ma.stop()}ua(a){this.ka&&
a.keyCode in this.$&&(this.$[a.keyCode]=!0,this.ma.enabled||(this.oa=Date.now(),this.ma.start()))}Ja(a){this.ka&&a.keyCode in this.$&&(this.$[a.keyCode]=!1)}};
var fT=class extends _.Fh{constructor(a,b,c){super("zoom");this.amount=a;this.$=void 0!==c?c:null;this.ka=void 0!==b?b:null}};
var Qod=class extends _.Oh{constructor(a){super();a=dT(a);if(null==a)throw Error("Qe");this.ka=a;this.oa=1/(.25*Math.max(window.innerWidth,window.innerHeight));this.$=0;this.ha=new _.$I(0,0);this.ma=new _.Vl(this);this.Qd(this.ma);_.$ia&&this.ma.listen(this.ka,["touchstart","touchmove"],this.na)}na(a){var b=a.Dj.touches;if(2==b.length){var c=b[0],d=b[1];var e=c.clientX-d.clientX;c=c.clientY-d.clientY;e=Math.sqrt(e*e+c*c);"touchstart"==a.type?(a=b[0],b=b[1],c=_.Ef(this.ka),this.ha.x=(a.pageX+b.pageX)/
2-c.x,this.ha.y=(a.pageY+b.pageY)/2-c.y,this.$=e):"touchmove"==a.type&&(b=(e-this.$)*this.oa,this.$=e,this.dispatchEvent(new fT(b,4,this.ha)))}}};
var Rod=class extends _.Fh{constructor(a){super("throw");this.$=a}};
var Sod=class extends _.Oh{constructor(a){super();this.ma=new _.Vl(this);this.Qd(this.ma);this.ma.listen(a,"drag_start",this.Ja);this.ma.listen(a,"drag_end",this.oa);this.ma.listen(a,"drag_move",this.ua);this.na=this.ha=0;this.ka=new _.$I(0,0);this.$=new _.$I(0,0)}Ja(a){this.ha=Date.now();this.ka=new _.$I(a.position.x,a.position.y);300<this.ha-this.na&&this.dispatchEvent(new Rod(null));this.na=this.ha}oa(){if(200>Date.now()-this.ha){this.$.scale(.2);var a=_.bJ(this.$);1E3<a&&this.$.scale(1E3/a);10<=
_.bJ(this.$)&&this.dispatchEvent(new Rod(this.$))}this.ha=0;this.ka=new _.$I(0,0);this.$=new _.$I(0,0)}ua(a){var b=Date.now(),c=b-this.ha;50>c||(this.na=0,this.$.x=a.position.x,this.$.y=a.position.y,_.Ybc(this.$,this.ka),this.$.scale(1E3/c),this.ha=b,this.ka.x=a.position.x,this.ka.y=a.position.y)}};
var Tod=class extends _.Fh{constructor(a){super("double_tap");this.position=a}};
var Uod=class extends _.Oh{constructor(a){super();this.ha=dT(a);this.ma=0;this.$=!1;this.ka=new _.Vl(this);this.Qd(this.ka);_.$ia&&this.ka.listen(this.ha,["touchstart","touchmove","touchend"],this.na)}na(a){if(1==a.Dj.changedTouches.length&&this.ha.offsetParent){var b=a.Dj.changedTouches[0];"touchend"==a.type?(a=_.Ef(this.ha),b=new _.Jd(b.pageX-a.x,b.pageY-a.y),a=Date.now(),300>=a-this.ma&&this.$&&this.dispatchEvent(new Tod(b)),this.$&&(this.ma=a,this.$=!1)):"touchstart"==a.type?this.$=!0:"touchmove"==
a.type&&(this.$=!1)}}};
/*

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/
var Vod=function(a,b,c,d){_.Gh.call(this,d);this.type="key";this.keyCode=a;this.charCode=b;this.repeat=c};_.Gc(Vod,_.Gh);
var Wod=function(a,b){_.Oh.call(this);a&&this.nj(a,b)};_.Gc(Wod,_.Oh);_.g=Wod.prototype;_.g.Cd=null;_.g.K4=null;_.g.afa=null;_.g.L4=null;_.g.qv=-1;_.g.ZC=-1;_.g.E9=!1;
var Xod={3:13,12:144,63232:38,63233:40,63234:37,63235:39,63236:112,63237:113,63238:114,63239:115,63240:116,63241:117,63242:118,63243:119,63244:120,63245:121,63246:122,63247:123,63248:44,63272:46,63273:36,63275:35,63276:33,63277:34,63289:144,63302:45},Yod={Up:38,Down:40,Left:37,Right:39,Enter:13,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,"U+007F":46,Home:36,End:35,PageUp:33,PageDown:34,Insert:45},Zod=_.jd&&_.gd;_.g=Wod.prototype;
_.g.MAa=function(a){if(_.hd||_.fd)if(17==this.qv&&!a.ctrlKey||18==this.qv&&!a.altKey||_.jd&&91==this.qv&&!a.metaKey)this.ZC=this.qv=-1;-1==this.qv&&(a.ctrlKey&&17!=a.keyCode?this.qv=17:a.altKey&&18!=a.keyCode?this.qv=18:a.metaKey&&91!=a.keyCode&&(this.qv=91));sod(a.keyCode,this.qv,a.shiftKey,a.ctrlKey,a.altKey,a.metaKey)?(this.ZC=_.eyb(a.keyCode),Zod&&(this.E9=a.altKey)):this.handleEvent(a)};_.g.OMa=function(a){this.ZC=this.qv=-1;this.E9=a.altKey};
_.g.handleEvent=function(a){var b=a.Dj,c=b.altKey;if(_.uc&&"keypress"==a.type){var d=this.ZC;var e=13!=d&&27!=d?b.keyCode:0}else(_.hd||_.fd)&&"keypress"==a.type?(d=this.ZC,e=0<=b.charCode&&63232>b.charCode&&_.cyb(d)?b.charCode:0):("keypress"==a.type?(Zod&&(c=this.E9),b.keyCode==b.charCode?32>b.keyCode?(d=b.keyCode,e=0):(d=this.ZC,e=b.charCode):(d=b.keyCode||this.ZC,e=b.charCode||0)):(d=b.keyCode||this.ZC,e=b.charCode||0),_.jd&&63==e&&224==d&&(d=191));var f=d=_.eyb(d);d?63232<=d&&d in Xod?f=Xod[d]:
25==d&&a.shiftKey&&(f=9):b.keyIdentifier&&b.keyIdentifier in Yod&&(f=Yod[b.keyIdentifier]);if(!_.gd||"keypress"!=a.type||sod(f,this.qv,a.shiftKey,a.ctrlKey,c,a.metaKey))a=f==this.qv,this.qv=f,b=new Vod(f,e,a,b),b.altKey=c,this.dispatchEvent(b)};_.g.Ia=function(){return this.Cd};_.g.nj=function(a,b){this.L4&&this.detach();this.Cd=a;this.K4=_.Kh(this.Cd,"keypress",this,b);this.afa=_.Kh(this.Cd,"keydown",this.MAa,b,this);this.L4=_.Kh(this.Cd,"keyup",this.OMa,b,this)};
_.g.detach=function(){this.K4&&(_.Nh(this.K4),_.Nh(this.afa),_.Nh(this.L4),this.L4=this.afa=this.K4=null);this.Cd=null;this.ZC=this.qv=-1};_.g.Td=function(){Wod.eg.Td.call(this);this.detach()};
var $od=class extends _.Oh{constructor(a){super();this.$=new _.Vl(this);this.Qd(this.$);this.ka=dT(a);this.ua=new vod(this.ka);this.Qd(this.ua);this.ma=new Uod(this.ka);this.Qd(this.ma);this.ha=new Wod;this.Qd(this.ha);this.La=!0;this.na=0;this.oa=100;this.$.listen(this.ma,"double_tap",this.Na);this.$.listen(this.ka,"dblclick",this.Ja);this.$.listen(this.ua,"mousewheel",this.Ta);this.$.listen(this.ha,"key",this.Qa)}Na(a){this.Ja({offsetX:a.position.x,offsetY:a.position.y})}Ja(a){this.dispatchEvent(new fT(1,
2,new _.$I(a.offsetX,a.offsetY)))}Ta(a){if(this.La){var b=Date.now();Math.abs(a.deltaY)>=Math.abs(a.deltaX)&&b-this.na>=this.oa&&(a.preventDefault(),this.dispatchEvent(new fT(.5*-pod(a.deltaY),1,new _.$I(a.offsetX,a.offsetY))),this.na=b)}}Qa(a){switch(a.charCode){case 43:case 61:this.dispatchEvent(new fT(1,3,void 0));break;case 45:case 95:this.dispatchEvent(new fT(-1,3,void 0))}}};
var apd=class extends _.Oh{constructor(a,b,c,d){super();for(var e=0;e<b.length;++e)b[e].dJ(this);for(e=0;e<a.length;++e)a[e].dJ(this),this.Qd(a[e]);this.$=c;this.ha=d}listen(a,b,c,d){return super.listen(a,b,!0,d)}},bpd=class{constructor(a){this.$=dT(a);this.ua=this.oa=this.na=this.ma=this.ka=!1;this.ha=[]}add(a){this.ha.push(a);return this}build(){var a=[],b=null;this.ua&&(b=new $od(this.$),a.push(b));var c=null;this.ma&&(c=new Pod,a.push(c));this.na&&a.push(new Qod(this.$));if(this.ka){var d=new Ood(this.$);
a.push(d);this.oa&&(d=new Sod(d),a.push(d))}return new apd(a,this.ha,b,c)}};
var cpd=class extends _.Fh{constructor(a){super("resize");this.size=a}};
var gT=function(a){var b=a.ma;if("none"!=_.Uga(b,"display"))var c=new _.Pd(b.clientWidth,b.clientHeight);else{c=b.style;var d=c.display,e=c.visibility,f=c.position;c.visibility="hidden";c.position="absolute";c.display="inline";b=new _.Pd(b.clientWidth,b.clientHeight);c.display=d;c.position=f;c.visibility=e;c=b}return 0==c.width||0==c.height?a.$||new _.Pd(0,0):c.clone()},dpd=class extends _.Oh{constructor(a,b){super();this.ma=dT(a);this.$=gT(this);this.ha=new _.Vl(this);this.Qd(this.ha);(void 0===
b||b)&&this.ha.listen(window,"resize",this.ka)}trigger(){this.ka(null)}ka(){var a=gT(this);_.Qd(this.$,a)&&0!=a.width&&0!=a.height||(this.$=a,this.dispatchEvent(new cpd(a)))}};
var hT=class{constructor(a,b,c,d){this.x=this.x=a;this.y=this.y=b;this.z=this.z=c;this.size=this.size=void 0!==d?d:null}};_.tc("MicroscopeState",hT,void 0);_.tc("MicroscopeSize",_.Pd,void 0);
var epd=function(a){a=a.ma(a.ka.$);return new _.Pd(a.width,a.height)},iT=function(a){return ZS(a.ha,epd(a))},fpd=function(a,b,c,d){d=Math.max(0,(1-d)/2,a.$);a=.5-d;d=.5+d;return c>b&&b<a?Math.min(c,a):c<b&&b>d?Math.max(c,d):b},gpd=class{constructor(a){this.ha=null;this.ka=a;this.ma=_.Lca;this.$=0}};
var hpd=class extends _.Fh{constructor(a){super("level_change");this.$=a;this.animate=!1}};
var ipd=class extends _.Fh{constructor(a,b,c,d,e){super("viewport_update");this.left=a;this.top=b;this.right=c;this.bottom=d;this.$=e}};
_.tc("MicroscopeResizeMode",{uAa:"fill",Ama:"fixed",Hgb:"scale"},void 0);
var jpd=function(){_.Hc.call(this)};_.Gc(jpd,_.Hc);jpd.prototype.cancel=function(){return!1};var jT=function(a,b){_.Hc.call(this);this.ma=a;this.na=b;this.$=0;this.ha=new _.Co;this.Oc={};this.ka=new _.Vl(this);this.Qd(this.ka)};_.Gc(jT,_.Hc);var lpd=function(a){_.Wl(a.ka);kpd(a,!0);for(var b in a.Oc)a.Oc[b].dispose();a.Oc={};a.$=0;a.ha=new _.Co};
jT.prototype.load=function(a,b,c){var d=null;a in this.Oc?(d=this.Oc[a],d.$+=1,1==d.$&&this.ha.remove(d)):(d=mpd(this,a,void 0,b),kpd(this,!1));void 0!==c&&(d.isLoaded()?c(d):this.ka.listen(d,"resource_loaded",function(e){c(e.e2a)}));return d};var mpd=function(a,b,c,d){var e=a.Oc[b];if(a.isLoaded(b)&&e)return e.$+=1,e;d=void 0!==d?d:1;e=new npd(b,d,(0,_.Dc)(a.e1a,a));a.Oc[b]=e;a.$+=d;void 0===c?a.ma.load(b,(0,_.Dc)(a.jN,a)):a.jN(b,c);e.$+=1;return e};_.g=jT.prototype;
_.g.jN=function(a,b){a in this.Oc&&this.Oc[a].jN(b)};_.g.isLoaded=function(a){return a in this.Oc&&this.Oc[a].isLoaded()};_.g.og=function(a){return a in this.Oc&&!this.Oc[a].isLoaded()};_.g.clear=function(){kpd(this,!0)};_.g.e1a=function(a){this.ha.$.push(a);kpd(this,!1)};var kpd=function(a,b){for(;(b||a.$>a.na)&&!a.ha.isEmpty();){var c=_.Do(a.ha);delete a.Oc[c.key];c.isLoaded()||a.ma.cancel(c.key);a.$-=c.JGa;c.dispose()}};jT.prototype.Td=function(){lpd(this);jT.eg.Td.call(this)};
var npd=function(a,b,c){_.Oh.call(this);this.key=a;this.JGa=b;this.data=null;this.$=0;this.ha=c};_.Gc(npd,_.Oh);npd.prototype.release=function(){--this.$;0==this.$&&this.ha(this)};npd.prototype.jN=function(a){this.data=a;this.dispatchEvent(new opd(this))};npd.prototype.isLoaded=function(){return null!=this.data};var opd=function(a){_.Fh.call(this,"resource_loaded");this.e2a=a};_.Gc(opd,_.Fh);
var ppd=class extends _.Fh{constructor(a){super("view_move");this.position=a}};
var qpd=class extends _.zD{constructor(a){super();this.$=_.he("div");_.gf(this.$,"XkWAb-CHX6zb");null!=a&&WS(this).listen(a,"resize",this.ma)}I0(){this.Cd=this.$}ma(a){_.GB(this.$,a.size.width,a.size.height)}ka(a){_.Bf(this.$,"cursor",a?"move":"auto")}};
var rpd=function(a,b){_.Qd(b,a.size)||(a.size=b,a.resize(a.size))},tpd=class extends _.Oh{constructor(a,b,c,d){super();this.y=this.x=0;this.visible=!1;this.size=new _.Pd(0,0);this.url=a;this.Ja=b;this.$=c;this.ua=d;this.ma=!0}setVisible(a){(this.visible=a)||spd(this,[])}isVisible(){return this.visible}};
var upd=class extends _.Fh{constructor(a,b){super("tile_loaded");this.$=a;this.ka=b}};
var vpd=class extends _.Hc{constructor(a,b,c,d){super();this.root=c;this.$=d;this.oa=new _.Jd(a,b)}setVisible(a){if(a!=!(!this.$||!this.$.parentNode))if(a)this.Fa(),this.root.appendChild(this.$);else try{this.Ri(),this.root.removeChild(this.$)}catch(b){}}},wpd={90:"XkWAb-xzdHvd",180:"XkWAb-hTN0Jd",270:"XkWAb-IZxJAe"};
var Apd=function(a,b,c,d,e,f,h){var k=f.isLoaded(a)?f.Oc[a].data:null;var l;if(l=k)null==xpd&&(l=_.he("canvas"),xpd=!(!l||!l.getContext)),xpd&&k.$?(l=_.he("canvas"),l.width=k.$.naturalWidth,l.height=k.$.naturalHeight,l.getContext("2d").drawImage(k.$,0,0)):l=null;return(k=l)?new ypd(b,c,e,k,h):new zpd(a,b,c,d,e,f,h)},Bpd=function(a){a.ua||_.gf(a.$,"XkWAb-Iak2Lc");_.jf(a.$,"L6cTce",!1);if(null!=a.na){var b=a.ua?500:0;a.ma=setTimeout((0,_.Dc)(a.Ta,a,a.na),b);a.na=null}},Cpd=class extends vpd{constructor(a,
b,c,d,e,f){super(a,b,d,e);_.bn(e,["L6cTce","XkWAb-LmsqOc"]);this.ua=c;this.na=null!=f?f:null;this.ma=null}Ri(){null!=this.ma&&(clearTimeout(this.ma),this.ma=null)}Ta(a){a();this.ma=null}Td(){this.Ri();super.Td()}},zpd=class extends Cpd{constructor(a,b,c,d,e,f,h){super(b,c,d&&!f.isLoaded(a),e,_.he("img"),h);this.Qa=a;this.Oc=f;this.ha=null;this.Ja=_.uc&&!_.wc("11")?"readystatechange":"load";this.ka=new _.Vl(this);this.Qd(this.ka)}Fa(){_.jf(this.$,"L6cTce",!0);this.ha=this.Oc.load(this.Qa,1);this.ha.isLoaded()?
this.Na():this.ka.Qq(this.ha,"resource_loaded",this.Na)}Ri(){this.$.removeAttribute("src");_.Wl(this.ka);this.ha&&(this.ha.release(),this.ha=null);super.Ri()}Na(){this.ka.listen(this.$,this.Ja,this.La);_.Cd(this.$,this.ha.data.getTileUrl())}La(){if(this.$.complete||"complete"==this.$.readyState)this.ka.rn(this.$,this.Ja,this.La),Bpd(this)}},ypd=class extends Cpd{constructor(a,b,c,d,e){super(a,b,!1,c,d,e)}Fa(){Bpd(this)}};
var spd=function(a,b){for(var c={},d=0;d<a.ka.length;++d){var e=a.ka[d],f=e.oa;c["("+f.x+", "+f.y+")"]=e}a.ka=[];for(d=0;d<b.length;++d){f=new _.$I(b[d].x,b[d].y);var h="("+f.x+", "+f.y+")";e=c[h];if(null!=e)delete c[h];else{e=Dpd(a,f.x,f.y);a.Qd(e);if(null==e)continue;e.setVisible(!0)}a.na(e);a.ka.push(e)}for(var k in c)c[k].setVisible(!1)},Dpd=function(a,b,c){var d=a.url.rH(b,c,a.$.$,a.Ja.timestamp,window),e=(0,_.Dc)(function(){this.dispatchEvent(new upd(this.$.$,new _.Jd(b,c)))},a);return Apd(d,
b,c,0<a.$.$&&a.ma,a.ha,a.ua,e)},Epd=class extends tpd{constructor(a,b,c,d,e,f){super(b,c,d,e);this.ha=_.he("div");this.ha.style.direction="ltr";_.Bf(this.ha,"zIndex",Math.floor(Math.log(XS(d))/Math.log(2)*10));this.ka=[];this.oa=f;_.gf(this.ha,"XkWAb-cYRDff");a.appendChild(this.ha)}remove(){spd(this,[]);this.visible=!1;this.ha.parentNode.removeChild(this.ha)}setPosition(a,b){this.x=a;this.y=b}na(a){var b=new _.$I(this.size.width/XS(this.$),this.size.height/YS(this.$)),c=this.$.ha*b.x,d=this.$.ma*
b.y,e=a.oa,f=e.x*c+this.$.ka.x*b.x-(Math.round(this.x)-this.x);e=e.y*d+this.$.ka.y*b.y-(Math.round(this.y)-this.y);var h=Math.round(f),k=Math.round(e);b=new _.$I(h,k);c=new _.Pd(Math.round(f+c)-h,Math.round(e+d)-k);d=this.$.rotation||0;f=wpd[d];this.oa&&!f?a.$.style.webkitTransform="translate3d("+b.x+"px, "+b.y+"px, 0)":(_.jf(a.$,f,!!f),a.$.style.left=b.x+"px",a.$.style.top=b.y+"px");90==d||270==d?_.GB(a.$,c.height,c.width):_.GB(a.$,c.width,c.height)}resize(a){_.GB(this.ha,a.width,a.height);_.Oa(this.ka,
this.na,this)}};
var Fpd=function(a){a.na.appendChild(a.ha)},Hpd=function(a,b){for(var c=a.ka.length-1;0<=c;--c)c!=b&&Gpd(a,a.ka[c])},Gpd=function(a,b){_.Ca(a.ka,b)&&(b.remove(),b.dispose())},Ipd=function(a,b,c,d,e){_.Oa(a.ka,function(k){k.setPosition(b,c)},a);var f=Math.round(b),h=Math.round(c);_.GB(a.ha,d);a.oa?a.ha.style.webkitTransform="translate3d("+f+"px, "+h+"px, 0)":a.ha.style.margin=h+"px 0 0 "+f+"px";a.$&&(_.GB(a.$,d),d=Math.pow(2,e-Math.floor(e)),a.oa?(a.$.style.backgroundSize="50px",a.$.style.transformOrigin=
"0% 0%",a.$.style.transform="scale3d("+d+", "+d+", 1)"):(a.$.style.backgroundSize="50px",a.$.style.backgroundPosition="0% 0%"))},Jpd=class extends _.Hc{constructor(a,b,c,d){super();this.na=a;this.na.style.overflow="hidden";this.ha=_.he("div");this.ha.style.direction="ltr";this.ha.style.overflow="hidden";this.ha.className="XkWAb-GfpNfc";this.$=null;"checkered"==d&&(this.$=_.he("div"),this.$.className="XkWAb-AHe6Kc",this.ha.appendChild(this.$));this.ka=[];this.ma=this.ua=null;this.Fa=b;this.oa=c}Td(){_.Nh(this.ma);
Hpd(this);super.Td()}oq(){}ta(){return this.na}};
var Kpd=function(a,b){a.Na=b;for(var c=0;c<a.ha.length;++c)a.ha[c].ma=b},Lpd=function(a,b,c,d,e){Ipd(a.Ja,b,c,d,e);var f=a.Ta.$;b=new _.uf(-(c/d.height),(f.width-b+d.width)/d.width-1,(f.height-c+d.height)/d.height-1,-b/d.width);c=a.ka;c.ha=c.$.$[Math.ceil(e)];c.na=!0;c=a.ka;c.oa=b.clone();c.na=!0;a.oa=e;a.ua=d;a.Fv()},Npd=class extends _.Oh{constructor(a,b,c,d){super();this.Ta=a;this.Ja=b;this.ha=[];this.$=null;this.ka=c;this.Na=!0;this.ma=null;this.na=new _.lA;this.Qa=d||function(){};this.ua=new _.Pd(0,
0);this.oa=0;this.La=new _.Vl(this);this.Qd(this.La)}load(a,b,c,d){this.$&&(Gpd(c,this.$),this.$=null);var e=void 0;d&&(e=Math.ceil(this.oa),this.$=this.ha[e]);Hpd(c,e);this.ha=[];d=0;for(e=b.ka;d<e;++d){var f=b.$[d];if(!f)throw Error("Re`"+d);var h=c;f=new Epd(h.ha,a,b,f,h.Fa,h.oa);h.ka.push(f);h=f;this.La.listen(h,"tile_loaded",this.Xa);this.ha.push(h)}Kpd(this,this.Na)}Fv(){for(var a=Math.ceil(this.oa),b=Mpd(this.ka,a),c=new _.lA,d=0;d<b.length;++d){var e=b[d];c.add(e.x+","+e.y+","+a)}d=this.na;
a=new _.lA;b=_.wn(c);for(e=0;e<b.length;e++){var f=b[e];d.contains(f)&&a.add(f)}d=this.na=a;c=c.clone();d=_.wn(d);a=d.length;for(b=0;b<a;b++)c.remove(d[b]);c.size=c.$.size;this.ma=c;for(d=0;d<this.ha.length;++d)c=this.ha[d],a=Mpd(this.ka,d),b=0<a.length,c.setVisible(b),b&&spd(c,a);for(d=0;d<this.ha.length;++d)c=this.ha[d],rpd(c,this.ua);this.$&&rpd(this.$,this.ua)}Xa(a){var b=a.ka;b=b.x+","+b.y+","+a.$;this.ma&&this.ma.has(b)&&(this.ma.delete(b),this.na.add(b),0==this.ma.size&&(this.ka.na=!0,this.Fv(),
this.Qa(),this.$&&(Gpd(this.Ja,this.$),this.$=null)));this.dispatchEvent(a)}Td(){this.$&&(Gpd(this.Ja,this.$),this.$=null);super.Td()}};
var Mpd=function(a,b){if(a.na){a.ma={};for(var c=a.ha.$,d=0;d<=a.$.$.length;++d)if(0==d){for(var e=a.ka,f=a.$.$[0],h=[],k=0;k<f.TE;++k)for(var l=0;l<f.UE;++l)h.push(new _.Jd(k,l));e[0]=h}else if(d==c)for(a.ka[c]=[],e=Opd(a,a.ha),f=0;f<e.length;++f)h=e[f],Ppd(a,c,h)?a.ka[c].push(h):(a.ma[h.x+","+h.y]=h,a.ua||a.ka[c].push(h));else a.ka[d]=[];Qpd(a);for(c=a.ha.$-1;1<=c&&!_.hb(a.ma);--c)for(d=a.$.$[c],e=Opd(a,a.$.$[c],!0),f=0;f<e.length;++f){h=e[f];k=Bod(a.ha,Cod(d,h));l=Bod(a.ha,Cod(d,new _.Jd(h.x+1,
h.y+1)));for(var n=!1,r=k.x;r<l.x;++r)for(var u=k.y;u<l.y;++u){var x=r+","+u;x in a.ma&&(n=!0,delete a.ma[x])}n&&a.ka[c].push(h)}a.na=!1}return a.ka[b]||[]},Rpd=function(a,b,c){a.$=b;a.Fa=c;a.na=!0},Qpd=function(a){var b=a.ha.$+1;if(!(b>=a.$.$.length)){var c=Opd(a,a.$.$[b],!0);if(0!=c.length){var d={};_.Oa(c,function(u){d[u.x+","+u.y]=u},a);for(var e in a.ma){c=a.ma[e];c=rod(Cod(a.ha,c),Cod(a.ha,c.x+1,c.y+1));for(var f=a.$.$[b],h=!0,k=Bod(f,c.left,c.top),l=new _.Jd(k.x,k.y);l.x<f.TE;++l.x){for(l.y=
k.y;l.y<f.UE;++l.y){var n=Cod(f,l);if(n.x>=c.right||n.y>=c.bottom)break;var r=l.x+","+l.y;r in d?null!=d[r]&&(a.ka[b].push(new _.Jd(l.x,l.y)),d[r]=null):h=!1}if(n.x>=c.right)break}h&&delete a.ma[e]}}}},Opd=function(a,b,c){var d=Bod(b,new _.Jd(a.oa.left,a.oa.top)),e=Bod(b,new _.Jd(a.oa.right,a.oa.bottom));d.x=_.Dd(d.x,0,b.TE-1);d.y=_.Dd(d.y,0,b.UE-1);e.x=_.Dd(e.x,0,b.TE-1);e.y=_.Dd(e.y,0,b.UE-1);for(var f=[],h=d.x;h<=e.x;++h)for(var k=d.y;k<=e.y;++k)c&&!Ppd(a,b.$,h,k)||f.push(new _.Jd(h,k));return f},
Ppd=function(a,b,c,d){c instanceof _.Jd?(d=c.y,c=c.x):void 0===d&&(d=0);return a.Ja.isLoaded(a.Fa.rH(c,d,b,a.$.timestamp,window))},Spd=class{constructor(a){this.ha=null;this.oa=new _.uf(0,1,1,0);this.Ja=a;this.Fa=this.$=null;this.ka={};this.ua=!1;this.na=!0;this.ma={}}};
var kT=function(a,b,c){_.Oh.call(this);this.target=a;this.Ks=b||a;this.Ja=c||new _.vf(NaN,NaN,NaN,NaN);this.ka=_.$d(a);this.$=new _.Vl(this);this.Qd(this.$);this.deltaY=this.deltaX=this.Xa=this.Ta=this.screenY=this.screenX=this.clientY=this.clientX=0;this.ua=!0;this.ma=this.ha=!1;_.Kh(this.Ks,["touchstart","mousedown"],this.Qa,!1,this);this.oa=Tpd};_.Gc(kT,_.Oh);var Tpd=_.ea.document&&_.ea.document.documentElement&&!!_.ea.document.documentElement.setCapture&&!!_.ea.document.releaseCapture;
kT.prototype.kc=function(a){this.ua=a};kT.prototype.Td=function(){kT.eg.Td.call(this);_.Mh(this.Ks,["touchstart","mousedown"],this.Qa,!1,this);_.Wl(this.$);this.oa&&this.ka.releaseCapture();this.Ks=this.target=null};var Upd=function(a){void 0===a.Na&&(a.Na=_.OC(a.target));return a.Na};
kT.prototype.Qa=function(a){var b="mousedown"==a.type;if(!this.ua||this.ha||b&&(0!=a.Dj.button||_.jd&&a.ctrlKey))this.dispatchEvent("earlycancel");else if(this.dispatchEvent(new lT("start",this,a.clientX,a.clientY,a))){this.ha=!0;b&&a.preventDefault();b=this.ka;var c=b.documentElement,d=!this.oa;this.$.listen(b,["touchmove","mousemove"],this.tb,{capture:d,passive:!1});this.$.listen(b,["touchend","mouseup"],this.na,d);this.oa?(c.setCapture(!1),this.$.listen(c,"losecapture",this.na)):this.$.listen(_.fe(b),
"blur",this.na);this.Cb&&this.$.listen(this.Cb,"scroll",this.kb,d);this.clientX=this.Ta=a.clientX;this.clientY=this.Xa=a.clientY;this.screenX=a.screenX;this.screenY=a.screenY;this.deltaX=this.ma?_.pCb(this.target):this.target.offsetLeft;this.deltaY=this.target.offsetTop;this.La=_.ee(_.ae(this.ka).$)}};
kT.prototype.na=function(a,b){_.Wl(this.$);this.oa&&this.ka.releaseCapture();this.ha?(this.ha=!1,this.dispatchEvent(new lT("end",this,a.clientX,a.clientY,a,Vpd(this,this.deltaX),Wpd(this,this.deltaY),b||"touchcancel"==a.type))):this.dispatchEvent("earlycancel")};
kT.prototype.tb=function(a){if(this.ua){var b=(this.ma&&Upd(this)?-1:1)*(a.clientX-this.clientX),c=a.clientY-this.clientY;this.clientX=a.clientX;this.clientY=a.clientY;this.screenX=a.screenX;this.screenY=a.screenY;if(!this.ha){var d=this.Ta-this.clientX,e=this.Xa-this.clientY;if(0<d*d+e*e)if(this.dispatchEvent(new lT("start",this,a.clientX,a.clientY,a)))this.ha=!0;else{this.isDisposed()||this.na(a);return}}c=Xpd(this,b,c);b=c.x;c=c.y;this.ha&&this.dispatchEvent(new lT("beforedrag",this,a.clientX,
a.clientY,a,b,c))&&(Ypd(this,a,b,c),a.preventDefault())}};var Xpd=function(a,b,c){var d=_.ee(_.ae(a.ka).$);b+=d.x-a.La.x;c+=d.y-a.La.y;a.La=d;a.deltaX+=b;a.deltaY+=c;return new _.Jd(Vpd(a,a.deltaX),Wpd(a,a.deltaY))};kT.prototype.kb=function(a){var b=Xpd(this,0,0);a.clientX=this.clientX;a.clientY=this.clientY;Ypd(this,a,b.x,b.y)};
var Ypd=function(a,b,c,d){a.ma&&Upd(a)?a.target.style.right=c+"px":a.target.style.left=c+"px";a.target.style.top=d+"px";a.dispatchEvent(new lT("drag",a,b.clientX,b.clientY,b,c,d))},Vpd=function(a,b){var c=a.Ja;a=isNaN(c.left)?null:c.left;c=isNaN(c.width)?0:c.width;return Math.min(null!=a?a+c:Infinity,Math.max(null!=a?a:-Infinity,b))},Wpd=function(a,b){var c=a.Ja;a=isNaN(c.top)?null:c.top;c=isNaN(c.height)?0:c.height;return Math.min(null!=a?a+c:Infinity,Math.max(null!=a?a:-Infinity,b))},lT=function(a,
b,c,d,e,f,h){_.Fh.call(this,a);this.clientX=c;this.clientY=d;this.left=void 0!==f?f:b.deltaX;this.top=void 0!==h?h:b.deltaY};_.Gc(lT,_.Fh);
var Zpd=function(a,b){var c=a.getHeight(b)+"px",d=b?"30px":"0";a.$.style.height=_.Hf(c,!0);a.$.style.backgroundColor=a.Cb?"rgb(0, 0, 0)":"rgba(0, 0, 0, "+(b?"1":"0.5")+")";a.na.style.height=_.Hf(c,!0);a.Ta.style.height=c;a.Na.style.height=c;a.Qa.style.height=c;a.Ja.style.height=d;a.oa.style.height=d;a.Cb?(b=b?"visible":"hidden",a.Ja.style.visibility=b,a.oa.style.visibility=b):(b=b?"1":"0",a.Ja.style.opacity=b,a.oa.style.opacity=b)},aqd=function(a){WS(a).listen(a.Na,"click",function(){$pd(this);this.dispatchEvent(new fT(1))});
WS(a).listen(a.Qa,"click",function(){$pd(this);this.dispatchEvent(new fT(-1))})},$pd=function(a){a.kb||(Zpd(a,!0),a.ka.stop(),a.ka.start())},bqd=function(a,b){a.tb=b},cqd=class extends _.zD{constructor(){super();this.Cb=_.uc&&_.wc("8");this.La=0;this.tb=null;this.$=this.ha.createElement("div");_.bn(this.$,["XkWAb-UH1Jve","XkWAb-RCfa3e"]);this.Na=this.ha.createElement("div");_.bn(this.Na,["XkWAb-eJuzjc","XkWAb-RCfa3e"]);this.$.appendChild(this.Na);this.oa=this.ha.createElement("div");_.ne(this.oa,
"+");_.bn(this.oa,["XkWAb-BtWyge","XkWAb-RCfa3e"]);this.Na.appendChild(this.oa);this.Qa=this.ha.createElement("div");_.bn(this.Qa,["XkWAb-a4WLyb","XkWAb-RCfa3e"]);this.$.appendChild(this.Qa);this.Ja=this.ha.createElement("div");_.ne(this.Ja,"\u2013");_.bn(this.Ja,["XkWAb-BtWyge","XkWAb-RCfa3e"]);this.Qa.appendChild(this.Ja);this.Ta=this.ha.createElement("div");_.bn(this.Ta,["XkWAb-IE9qgd","XkWAb-RCfa3e"]);this.$.appendChild(this.Ta);this.na=this.ha.createElement("div");_.bn(this.na,["XkWAb-IlRY5e",
"XkWAb-RCfa3e"]);this.Ta.appendChild(this.na);this.ma=null;this.ka=new _.Ph(1E3);this.Qd(this.ka);WS(this).listen(this.ka,"tick",function(){Zpd(this,!1)});this.kb=!1;WS(this).listen(this.$,"mouseover",function(){this.ka.stop();this.kb=!0;Zpd(this,!0)});WS(this).listen(this.$,"mouseout",function(){this.kb=!1;this.ka.stop();this.ka.start()});aqd(this);Zpd(this,!1);this.Xa=void 0}I0(){this.Cd=this.$}ff(a){this.ma||(this.ma=new kT(this.na,null),this.ma.ma=!0,this.Qd(this.ma),WS(this).listen(this.ma,["start",
"drag","end"],this.Db));this.La=a-60;this.ma.Ja=new _.vf(0,0,this.La,0)}Db(a){"start"!=a.type&&(a=a.left/this.La,null!=this.tb&&this.tb(a))}getHeight(a){return a?30:8}};
_.tc("MicroscopeZoomWidgetMode",{VISIBLE:0,Mfb:1,ihb:2,HIDDEN:3,Xib:4},void 0);
var dqd,mT,fqd,gqd,hqd;dqd=function(a){a.Uc||(a.th=Date.now(),a.setVisible(mT(a)),a.Ja.stop(),a.Ja.start())};mT=function(a){return 4==a.qe&&a.Yf<=a.La?!1:a.Cb>a.La};
_.eqd=function(a){if(null==a.Xa)throw Error("Se");_.GB(a.ka,a.$,a.$);var b=a.Xa.$[a.Cb];b=XS(b)/YS(b);a.na=new _.Pd(Math.min(1,b),Math.min(1,1/b));b=a.$*a.na.width;var c=a.$*a.na.height;_.GB(a.Qa,b,c);a.Ed.trigger();c=(a.$-c)/2;a.Qa.style.marginTop=c+"px";b=(a.$-b)/2;a.Qa.style.marginLeft=b+"px";a.tb=new _.$I(Math.round(b),Math.round(c));a.oa.ff(a.$)};fqd=function(a,b,c,d){a.Xa=b;a.Cb=b.ka-1;a.setVisible(mT(a),!0);_.eqd(a);a.Rc.load(c,b,a.Tb,d);Rpd(a.lh,b,c)};
gqd=class extends _.zD{constructor(a,b){super();this.$=150;this.Gd=new _.Jd(10,10);this.ka=this.ha.createElement("div");_.gf(this.ka,"XkWAb-pVNTue");_.Xm(this.ka,this.Gd);this.Lb=this.ha.createElement("div");_.gf(this.Lb,"XkWAb-sM5MNb");this.ka.appendChild(this.Lb);this.kb=this.ha.createElement("div");_.gf(this.kb,"XkWAb-SMWX4b");this.Lb.appendChild(this.kb);this.Ac=new qpd;this.Ac.render(this.kb);this.Qd(this.Ac);this.Jd=new Ood(this.Ac);this.Qd(this.Jd);WS(this).listen(this.Jd,"drag_hover",this.Rh);
WS(this).listen(this.Jd,["drag_start","drag_move"],this.jk);this.Ta=new _.Pd(this.$,this.$);this.qe=0;this.Ld=this.ha.createElement("div");_.gf(this.Ld,"XkWAb-xJ5Hz");this.kb.appendChild(this.Ld);this.Na=[];for(var c=0;4>c;++c)this.Na[c]=this.ha.createElement("div"),_.gf(this.Na[c],"XkWAb-ZdFRdf"),this.kb.appendChild(this.Na[c]);this.oa=new cqd;this.Qd(this.oa);WS(this).listen(this.oa,"zoom",function(d){this.dispatchEvent(d);dqd(this)});this.oa.render(this.ka);bqd(this.oa,(0,_.Dc)(this.uh,this));
this.Qa=this.ha.createElement("div");_.gf(this.Qa,"XkWAb-pfZwlb");this.kb.appendChild(this.Qa);this.Tb=a(this.Qa);Fpd(this.Tb);this.Qd(this.Tb);this.Ed=new dpd(this.Qa);this.Qd(this.Ed);this.lh=new Spd(b);this.Rc=new Npd(this.Ed,this.Tb,this.lh);this.Qd(this.Rc);this.Yf=0;this.Cb=1;this.La=0;this.ma=1;this.na=new _.Pd(0,0);this.tb=new _.$I(0,0);this.Db=new _.$I(0,0);this.Xa=null;this.Ja=new _.Ph(1E3);this.Qd(this.Ja);WS(this).listen(this.Ja,"tick",function(){this.setVisible(!1)});this.Uc=!1;this.th=
0;WS(this).listen(this.ka,"mouseover",function(){this.Ja.stop();this.Uc=!0;this.setVisible(mT(this))});WS(this).listen(this.ka,"mouseout",function(){this.Uc=!1;this.Ja.stop();this.Ja.start()})}I0(){this.Cd=this.ka}jk(a){var b=new _.$I(a.position.x-this.tb.x,a.position.y-this.tb.y);a=b.x-this.Db.x;b=b.y-this.Db.y;a/=this.na.width*this.$*this.ma;b/=this.na.height*this.$*this.ma;this.dispatchEvent(new ppd(new _.$I(a,b)))}tC(a){this.qe=a;this.oa.Je().style.display=1==a?"none":"";this.oa.Je().style.borderWidth=
2==a?"1px":"";this.Lb.style.display=2==a?"none":"";this.ka.style.display=3==a?"none":"";this.setVisible(mT(this))}uh(a){this.dispatchEvent(new hpd(this.La+a*(this.Cb-this.La)))}Rh(){dqd(this);$pd(this.oa)}setVisible(a,b){_.jf(this.ka,"XkWAb-RCfa3e",!a&&!b);_.uc&&_.wc("8")?this.ka.style.visibility=a?"visible":"hidden":(a=a?1:0,b=this.ka.style,"opacity"in b?b.opacity=a:"MozOpacity"in b?b.MozOpacity=a:"filter"in b&&(b.filter=""===a?"":"alpha(opacity="+100*Number(a)+")"))}};
hqd=function(a,b,c,d,e){null!=a&&(a.style.margin=c+"px 0 0 "+b+"px",a.style.width=d+"px",a.style.height=e+"px")};
var nT={},iqd=null,jqd=function(a){a=_.Ka(a);delete nT[a];_.hb(nT)&&iqd&&iqd.stop()},lqd=function(){iqd||(iqd=new _.No(function(){kqd()},20));var a=iqd;a.ef()||a.start()},kqd=function(){var a=_.Ec();_.cb(nT,function(b){mqd(b,a)});_.hb(nT)||lqd()};
var nqd=function(){_.Oh.call(this);this.jc=0;this.endTime=this.startTime=null};_.Gc(nqd,_.Oh);_.g=nqd.prototype;_.g.iq=function(){return 1==this.jc};_.g.isPaused=function(){return-1==this.jc};_.g.Ln=function(){return 0==this.jc};_.g.mN=function(){this.jz("pause")};_.g.dF=function(){this.jz("resume")};_.g.jz=function(a){this.dispatchEvent(a)};
var oT=function(a,b,c,d){nqd.call(this);if(!Array.isArray(a)||!Array.isArray(b))throw Error("Ue");if(a.length!=b.length)throw Error("Ve");this.qA=a;this.eca=b;this.duration=c;this.$=d;this.coords=[];this.progress=0};_.Gc(oT,nqd);_.g=oT.prototype;_.g.getDuration=function(){return this.duration};
_.g.play=function(a){if(a||this.Ln())this.progress=0,this.coords=this.qA;else if(this.iq())return!1;jqd(this);this.startTime=a=_.Ec();this.isPaused()&&(this.startTime-=this.duration*this.progress);this.endTime=this.startTime+this.duration;this.progress||this.jz("begin");this.jz("play");this.isPaused()&&this.dF();this.jc=1;var b=_.Ka(this);b in nT||(nT[b]=this);lqd();mqd(this,a);return!0};_.g.stop=function(a){jqd(this);this.jc=0;a&&(this.progress=1);oqd(this,this.progress);this.jz("stop");this.jz("end")};
_.g.pause=function(){this.iq()&&(jqd(this),this.jc=-1,this.mN())};_.g.yp=function(){return this.progress};_.g.Lv=function(a){this.progress=a;this.iq()&&(this.startTime=_.Ec()-this.duration*this.progress,this.endTime=this.startTime+this.duration)};_.g.Td=function(){this.Ln()||this.stop(!1);this.jz("destroy");oT.eg.Td.call(this)};_.g.destroy=function(){this.dispose()};
var mqd=function(a,b){b<a.startTime&&(a.endTime=b+a.endTime-a.startTime,a.startTime=b);a.progress=(b-a.startTime)/(a.endTime-a.startTime);1<a.progress&&(a.progress=1);oqd(a,a.progress);1==a.progress?(a.jc=0,jqd(a),a.jz("finish"),a.jz("end")):a.iq()&&a.jz("animate")},oqd=function(a,b){"function"===typeof a.$&&(b=a.$(b));a.coords=Array(a.qA.length);for(var c=0;c<a.qA.length;c++)a.coords[c]=(a.eca[c]-a.qA[c])*b+a.qA[c]};oT.prototype.jz=function(a){this.dispatchEvent(new pqd(a,this))};
var pqd=function(a,b){_.Fh.call(this,a);this.coords=b.coords;this.x=b.coords[0];this.y=b.coords[1];this.z=b.coords[2];this.duration=b.duration;this.progress=b.yp();this.state=b.jc};_.Gc(pqd,_.Fh);
var vqd=function(a,b,c){if(null!=c){var d=a.ua.$,e=$S(a.ka,b),f=(c.y-d.height/2)/e.height,h=qqd(a,a.$),k=$S(a.ka,a.$),l=(c.y-h.y)/k.height;a.ha.x=(c.x-h.x)/k.width-(c.x-d.width/2)/e.width;a.ha.y=l-f}a.$=rqd(a,b);c=a.kb;c.Yf=a.$;4==c.qe&&Date.now()-c.th<c.Ja.$&&c.setVisible(mT(c));b=c.oa;c=(c.Yf-c.La)/(c.Cb-c.La);c=Math.max(Math.min(c,1),0);null==b.Xa&&(b.Xa=_.OC(b.$));b.Xa?b.na.style.marginRight=b.La*c+"px":b.na.style.marginLeft=b.La*c+"px";sqd(a);tqd(a,!0);uqd(a)},pT=function(a,b,c,d){a.Xa=void 0!==
d?d:null;wqd(a);void 0!==c&&0>=c?(a.Ja=b,vqd(a,b,a.Xa)):(a.Ja=b,a.Qa=a.$,a.ma=new oT([void 0,void 0,0],[void 0,void 0,1],c||600,_.XIb),a.Qd(a.ma),a.na.listen(a.ma,"animate",a.Cb),a.na.Qq(a.ma,"end",a.Ub),a.ma.play())},xqd=function(a,b,c){a.oa.ha=b;if(c){var d=a.$;a.$=ZS(b,$S(a.ka,a.$));d=a.$-d;a.Qa+=d;a.Ja+=d}else a.ha.x=.5,a.ha.y=.5,a.$=0,a.ma=null,a.tb.start();a.ka=b;b=a.kb;d=iT(a.oa);b.La=d;mT(b)||b.setVisible(!1);c?a.ma?vqd(a,a.$):pT(a,a.$,0):(a.$=0,pT(a,iT(a.oa),0))},yqd=function(a,b,c){var d=
epd(a.oa);pT(a,"fill"==c?wod(a.ka,d):ZS(a.ka,d),b?void 0:0)},rqd=function(a,b){return _.Dd(b,iT(a.oa),a.ka.ka-1)},wqd=function(a){null!=a.ma&&(a.ma.stop(!1),a.ma=null)},zqd=function(a,b,c){var d=a.ha.x,e=a.ha.y;a.ha.x=b;a.ha.y=c;sqd(a,d,e)},Aqd=function(a,b,c,d){wqd(a);a.Qa=a.$;a.Ja=null!=c?c:a.$;c=a.$!=a.Ja;a.ma=new oT([a.ha.x,a.ha.y,c?0:void 0],[b.x,b.y,c?1:void 0],d||500,_.XIb);a.Qd(a.ma);a.na.listen(a.ma,"animate",a.Cb);a.na.Qq(a.ma,"end",a.Ub);a.ma.play()},Bqd=function(a,b,c,d){var e=a.ua.$,
f=b.z;b.size&&(f=ZS(a.ka,new _.Pd(e.width/b.size.width,e.height/b.size.height)));f=rqd(a,f);d?pT(a,f,c,d):0>=c?(wqd(a),a.$=f,zqd(a,b.x,b.y),pT(a,a.$,0)):Aqd(a,new _.$I(b.x,b.y),f,c)},tqd=function(a,b){var c=a.Na;a.Na=b;c!=a.Na&&uqd(a)},uqd=function(a){var b=$S(a.ka,a.$),c=qqd(a,a.$),d=a.ua.$;a.dispatchEvent(new ipd(-(c.x/b.width),-(c.y/b.height),(d.width-c.x+b.width)/b.width-1,(d.height-c.y+b.height)/b.height-1,a.Na));b=qqd(a,0);c=$S(a.ka,a.$);a.Hb.ka.ua=a.Na;Lpd(a.Hb,b.x,b.y,c,a.$)},Cqd=function(a,
b,c,d){var e=a.Ja+b;1==Math.abs(b)&&(e=Math.round(e));e=rqd(a,e);wqd(a);e!=a.$&&pT(a,e,c?void 0:0,d)},sqd=function(a,b,c){var d=a.oa;var e=a.getState();var f=e.x,h=e.y,k=$S(d.ha,e.z),l=d.ka.$;f=fpd(d,f,null!=b?b:f,l.width/k.width);h=fpd(d,h,null!=c?c:h,l.height/k.height);c=epd(d);b=c.width/k.width;l=c.height/k.height;var n=k=d.$;b>l?k=Math.max((b-l)/2,d.$):n=Math.max((l-b)/2,d.$);d=h+Math.max(-.5,-l/2+n);c=f+Math.min(.5,b/2-k);l=h+Math.min(.5,l/2-n);b=f+Math.max(-.5,-b/2+k);0>b?f-=b:1<c&&(f+=1-c);
0>d?h-=d:1<l&&(h+=1-l);e=new hT(f,h,e.z);a.ha.x=e.x;a.ha.y=e.y},qqd=function(a,b){b=$S(a.ka,b);var c=a.ua.$;c=new _.$I(c.width/2-b.width*a.ha.x,c.height/2-b.height*a.ha.y);var d=$S(a.ka,a.$);c.x+=a.ha.x*(b.width-d.width);c.y+=a.ha.y*(b.height-d.height);return c},Dqd=class extends _.Oh{constructor(a,b,c,d){super();this.La=a;this.kb=b;this.ua=c;this.Hb=d;this.ka=null;this.$=0;this.ha=new _.$I(.5,.5);this.Xa=this.ma=null;this.Qa=this.Ja=0;this.Ta=gT(this.ua);this.Db="fixed";this.Na=!1;this.Lb=null;this.na=
new _.Vl(this);this.Qd(this.na);this.tb=new _.Ph(100);this.Qd(this.tb);this.oa=new gpd(c);this.na.listen(this.La,"zoom",this.Jd);this.na.listen(this.La,"level_change",this.Rc);this.na.listen(this.La,"view_move",this.Gd);this.na.listen(this.La,"drag_move",this.Uc);this.na.listen(this.La,"throw",this.Ed);this.na.listen(this.ua,"resize",this.Tb);this.na.listen(this.tb,"tick",this.Ac)}jn(){return Math.round(100*this.$)/100>Math.round(100*iT(this.oa))/100}getState(){var a=$S(this.ka,this.$),b=this.ua.$;
return new hT(this.ha.x,this.ha.y,this.$,new _.Pd(b.width/a.width,b.height/a.height))}setPosition(a,b){b?zqd(this,a.x,a.y):(this.ha.x=a.x,this.ha.y=a.y);tqd(this,!0);uqd(this)}Tb(){if(this.ka){var a=0;if(this.Ta&&"scale"==this.Db){a=gT(this.ua);var b=$S(this.ka,this.$);a=ZS(this.ka,new _.Pd(a.width/this.Ta.width*b.width,a.height/this.Ta.height*b.height));a-=this.$}else"fill"==this.Db&&(a=gT(this.ua),a=wod(this.ka,new _.Pd(a.width,a.height)),a-=this.$);this.Ta=gT(this.ua);b=this.kb;var c=iT(this.oa);
b.La=c;mT(b)||b.setVisible(!1);Cqd(this,a,!1);sqd(this);uqd(this)}}Gd(a){this.setPosition(a.position,!0)}Ed(a){if(null!=a.$){var b=$S(this.ka,this.$);Aqd(this,new _.$I(this.ha.x-a.$.x/b.width,this.ha.y-a.$.y/b.height))}else wqd(this)}Jd(a){Cqd(this,a.amount,4!=a.ka,a.$)}Rc(a){var b=rqd(this,a.$);pT(this,b,a.animate?void 0:0,null)}Uc(a){if(null==this.ka)throw Error("We");if(null==this.ma){var b=$S(this.ka,this.$);this.setPosition(new _.$I(this.ha.x-a.$.x/b.width,this.ha.y-a.$.y/b.height),!0)}}Cb(a){var b=
this.$;null==a.z||isNaN(a.z)||(b=rqd(this,_.Fd(this.Qa,this.Ja,a.z)));vqd(this,b,this.Xa);null==a.x||isNaN(a.x)||null==a.y||isNaN(a.y)||this.setPosition(new _.$I(a.x,a.y),!0)}Ub(a){this.Cb(a);this.Ja=this.$;this.Xa=this.ma=null}Ac(){var a=this.getState(),b=this.Lb;b=!(null!=b!=(null!=a)?0:b==a||b.x==a.x&&b.y==a.y&&b.z==a.z&&_.Qd(b.size,a.size));this.Lb=a;tqd(this,b)}};
var Gqd=function(a){this.na=a;this.ha=this.na.length/4;this.ka=this.ha+6;this.jc=[[],[],[],[]];this.ma=[[],[],[],[]];this.$=Array(4*(this.ka+1));for(a=0;a<this.ha;a++)this.$[a]=[this.na[4*a],this.na[4*a+1],this.na[4*a+2],this.na[4*a+3]];var b=Array(4);for(a=this.ha;a<4*(this.ka+1);a++){b[0]=this.$[a-1][0];b[1]=this.$[a-1][1];b[2]=this.$[a-1][2];b[3]=this.$[a-1][3];if(0==a%this.ha){var c=b,d=c[0];c[0]=c[1];c[1]=c[2];c[2]=c[3];c[3]=d;Eqd(b);b[0]^=Fqd[a/this.ha][0];b[1]^=Fqd[a/this.ha][1];b[2]^=Fqd[a/
this.ha][2];b[3]^=Fqd[a/this.ha][3]}else 6<this.ha&&4==a%this.ha&&Eqd(b);this.$[a]=Array(4);this.$[a][0]=this.$[a-this.ha][0]^b[0];this.$[a][1]=this.$[a-this.ha][1]^b[1];this.$[a][2]=this.$[a-this.ha][2]^b[2];this.$[a][3]=this.$[a-this.ha][3]^b[3]}};Gqd.prototype.oa=16;
Gqd.prototype.encrypt=function(a){Hqd(this,a);qT(this,0);for(a=1;a<this.ka;++a){Iqd(this,rT);Jqd(this);for(var b=this.jc,c=this.ma[0],d=0;4>d;d++)c[0]=b[0][d],c[1]=b[1][d],c[2]=b[2][d],c[3]=b[3][d],b[0][d]=Kqd[c[0]]^Lqd[c[1]]^c[2]^c[3],b[1][d]=c[0]^Kqd[c[1]]^Lqd[c[2]]^c[3],b[2][d]=c[0]^c[1]^Kqd[c[2]]^Lqd[c[3]],b[3][d]=Lqd[c[0]]^c[1]^c[2]^Kqd[c[3]];qT(this,a)}Iqd(this,rT);Jqd(this);qT(this,this.ka);return Mqd(this)};
Gqd.prototype.decrypt=function(a){Hqd(this,a);qT(this,this.ka);for(a=1;a<this.ka;++a){Nqd(this);Iqd(this,Oqd);qT(this,this.ka-a);for(var b=this.jc,c=this.ma[0],d=0;4>d;d++)c[0]=b[0][d],c[1]=b[1][d],c[2]=b[2][d],c[3]=b[3][d],b[0][d]=Pqd[c[0]]^Qqd[c[1]]^Rqd[c[2]]^Sqd[c[3]],b[1][d]=Sqd[c[0]]^Pqd[c[1]]^Qqd[c[2]]^Rqd[c[3]],b[2][d]=Rqd[c[0]]^Sqd[c[1]]^Pqd[c[2]]^Qqd[c[3]],b[3][d]=Qqd[c[0]]^Rqd[c[1]]^Sqd[c[2]]^Pqd[c[3]]}Nqd(this);Iqd(this,Oqd);qT(this,0);return Mqd(this)};
var Hqd=function(a,b){for(var c,d=0;4>d;d++)for(var e=0;4>e;e++)c=4*e+d,c=b[c],a.jc[d][e]=c},Mqd=function(a){for(var b=[],c=0;4>c;c++)for(var d=0;4>d;d++)b[4*d+c]=a.jc[c][d];return b},qT=function(a,b){for(var c=0;4>c;c++)for(var d=0;4>d;d++)a.jc[c][d]^=a.$[4*b+d][c]},Iqd=function(a,b){for(var c=0;4>c;c++)for(var d=0;4>d;d++)a.jc[c][d]=b[a.jc[c][d]]},Jqd=function(a){for(var b=1;4>b;b++)for(var c=0;4>c;c++)a.ma[b][c]=a.jc[b][c];for(b=1;4>b;b++)for(c=0;4>c;c++)a.jc[b][c]=a.ma[b][(c+b)%4]},Nqd=function(a){for(var b=
1;4>b;b++)for(var c=0;4>c;c++)a.ma[b][(c+b)%4]=a.jc[b][c];for(b=1;4>b;b++)for(c=0;4>c;c++)a.jc[b][c]=a.ma[b][c]},Eqd=function(a){a[0]=rT[a[0]];a[1]=rT[a[1]];a[2]=rT[a[2]];a[3]=rT[a[3]]},rT=[99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,
91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,
105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22],Oqd=[82,9,106,213,48,54,165,56,191,64,163,158,129,243,215,251,124,227,57,130,155,47,255,135,52,142,67,68,196,222,233,203,84,123,148,50,166,194,35,61,238,76,149,11,66,250,195,78,8,46,161,102,40,217,36,178,118,91,162,73,109,139,209,37,114,248,246,100,134,104,152,22,212,164,92,204,93,101,182,146,108,112,72,80,253,237,185,218,94,21,70,87,167,141,157,132,144,216,171,0,140,188,211,10,247,228,88,5,184,
179,69,6,208,44,30,143,202,63,15,2,193,175,189,3,1,19,138,107,58,145,17,65,79,103,220,234,151,242,207,206,240,180,230,115,150,172,116,34,231,173,53,133,226,249,55,232,28,117,223,110,71,241,26,113,29,41,197,137,111,183,98,14,170,24,190,27,252,86,62,75,198,210,121,32,154,219,192,254,120,205,90,244,31,221,168,51,136,7,199,49,177,18,16,89,39,128,236,95,96,81,127,169,25,181,74,13,45,229,122,159,147,201,156,239,160,224,59,77,174,42,245,176,200,235,187,60,131,83,153,97,23,43,4,126,186,119,214,38,225,105,
20,99,85,33,12,125],Fqd=[[0,0,0,0],[1,0,0,0],[2,0,0,0],[4,0,0,0],[8,0,0,0],[16,0,0,0],[32,0,0,0],[64,0,0,0],[128,0,0,0],[27,0,0,0],[54,0,0,0]],Kqd=[0,2,4,6,8,10,12,14,16,18,20,22,24,26,28,30,32,34,36,38,40,42,44,46,48,50,52,54,56,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,118,120,122,124,126,128,130,132,134,136,138,140,142,144,146,148,150,152,154,156,158,160,162,164,166,168,170,172,174,176,178,180,182,184,186,188,190,192,194,196,198,200,202,
204,206,208,210,212,214,216,218,220,222,224,226,228,230,232,234,236,238,240,242,244,246,248,250,252,254,27,25,31,29,19,17,23,21,11,9,15,13,3,1,7,5,59,57,63,61,51,49,55,53,43,41,47,45,35,33,39,37,91,89,95,93,83,81,87,85,75,73,79,77,67,65,71,69,123,121,127,125,115,113,119,117,107,105,111,109,99,97,103,101,155,153,159,157,147,145,151,149,139,137,143,141,131,129,135,133,187,185,191,189,179,177,183,181,171,169,175,173,163,161,167,165,219,217,223,221,211,209,215,213,203,201,207,205,195,193,199,197,251,
249,255,253,243,241,247,245,235,233,239,237,227,225,231,229],Lqd=[0,3,6,5,12,15,10,9,24,27,30,29,20,23,18,17,48,51,54,53,60,63,58,57,40,43,46,45,36,39,34,33,96,99,102,101,108,111,106,105,120,123,126,125,116,119,114,113,80,83,86,85,92,95,90,89,72,75,78,77,68,71,66,65,192,195,198,197,204,207,202,201,216,219,222,221,212,215,210,209,240,243,246,245,252,255,250,249,232,235,238,237,228,231,226,225,160,163,166,165,172,175,170,169,184,187,190,189,180,183,178,177,144,147,150,149,156,159,154,153,136,139,142,
141,132,135,130,129,155,152,157,158,151,148,145,146,131,128,133,134,143,140,137,138,171,168,173,174,167,164,161,162,179,176,181,182,191,188,185,186,251,248,253,254,247,244,241,242,227,224,229,230,239,236,233,234,203,200,205,206,199,196,193,194,211,208,213,214,223,220,217,218,91,88,93,94,87,84,81,82,67,64,69,70,79,76,73,74,107,104,109,110,103,100,97,98,115,112,117,118,127,124,121,122,59,56,61,62,55,52,49,50,35,32,37,38,47,44,41,42,11,8,13,14,7,4,1,2,19,16,21,22,31,28,25,26],Sqd=[0,9,18,27,36,45,54,
63,72,65,90,83,108,101,126,119,144,153,130,139,180,189,166,175,216,209,202,195,252,245,238,231,59,50,41,32,31,22,13,4,115,122,97,104,87,94,69,76,171,162,185,176,143,134,157,148,227,234,241,248,199,206,213,220,118,127,100,109,82,91,64,73,62,55,44,37,26,19,8,1,230,239,244,253,194,203,208,217,174,167,188,181,138,131,152,145,77,68,95,86,105,96,123,114,5,12,23,30,33,40,51,58,221,212,207,198,249,240,235,226,149,156,135,142,177,184,163,170,236,229,254,247,200,193,218,211,164,173,182,191,128,137,146,155,
124,117,110,103,88,81,74,67,52,61,38,47,16,25,2,11,215,222,197,204,243,250,225,232,159,150,141,132,187,178,169,160,71,78,85,92,99,106,113,120,15,6,29,20,43,34,57,48,154,147,136,129,190,183,172,165,210,219,192,201,246,255,228,237,10,3,24,17,46,39,60,53,66,75,80,89,102,111,116,125,161,168,179,186,133,140,151,158,233,224,251,242,205,196,223,214,49,56,35,42,21,28,7,14,121,112,107,98,93,84,79,70],Qqd=[0,11,22,29,44,39,58,49,88,83,78,69,116,127,98,105,176,187,166,173,156,151,138,129,232,227,254,245,196,
207,210,217,123,112,109,102,87,92,65,74,35,40,53,62,15,4,25,18,203,192,221,214,231,236,241,250,147,152,133,142,191,180,169,162,246,253,224,235,218,209,204,199,174,165,184,179,130,137,148,159,70,77,80,91,106,97,124,119,30,21,8,3,50,57,36,47,141,134,155,144,161,170,183,188,213,222,195,200,249,242,239,228,61,54,43,32,17,26,7,12,101,110,115,120,73,66,95,84,247,252,225,234,219,208,205,198,175,164,185,178,131,136,149,158,71,76,81,90,107,96,125,118,31,20,9,2,51,56,37,46,140,135,154,145,160,171,182,189,212,
223,194,201,248,243,238,229,60,55,42,33,16,27,6,13,100,111,114,121,72,67,94,85,1,10,23,28,45,38,59,48,89,82,79,68,117,126,99,104,177,186,167,172,157,150,139,128,233,226,255,244,197,206,211,216,122,113,108,103,86,93,64,75,34,41,52,63,14,5,24,19,202,193,220,215,230,237,240,251,146,153,132,143,190,181,168,163],Rqd=[0,13,26,23,52,57,46,35,104,101,114,127,92,81,70,75,208,221,202,199,228,233,254,243,184,181,162,175,140,129,150,155,187,182,161,172,143,130,149,152,211,222,201,196,231,234,253,240,107,102,
113,124,95,82,69,72,3,14,25,20,55,58,45,32,109,96,119,122,89,84,67,78,5,8,31,18,49,60,43,38,189,176,167,170,137,132,147,158,213,216,207,194,225,236,251,246,214,219,204,193,226,239,248,245,190,179,164,169,138,135,144,157,6,11,28,17,50,63,40,37,110,99,116,121,90,87,64,77,218,215,192,205,238,227,244,249,178,191,168,165,134,139,156,145,10,7,16,29,62,51,36,41,98,111,120,117,86,91,76,65,97,108,123,118,85,88,79,66,9,4,19,30,61,48,39,42,177,188,171,166,133,136,159,146,217,212,195,206,237,224,247,250,183,
186,173,160,131,142,153,148,223,210,197,200,235,230,241,252,103,106,125,112,83,94,73,68,15,2,21,24,59,54,33,44,12,1,22,27,56,53,34,47,100,105,126,115,80,93,74,71,220,209,198,203,232,229,242,255,180,185,174,163,128,141,154,151],Pqd=[0,14,28,18,56,54,36,42,112,126,108,98,72,70,84,90,224,238,252,242,216,214,196,202,144,158,140,130,168,166,180,186,219,213,199,201,227,237,255,241,171,165,183,185,147,157,143,129,59,53,39,41,3,13,31,17,75,69,87,89,115,125,111,97,173,163,177,191,149,155,137,135,221,211,193,
207,229,235,249,247,77,67,81,95,117,123,105,103,61,51,33,47,5,11,25,23,118,120,106,100,78,64,82,92,6,8,26,20,62,48,34,44,150,152,138,132,174,160,178,188,230,232,250,244,222,208,194,204,65,79,93,83,121,119,101,107,49,63,45,35,9,7,21,27,161,175,189,179,153,151,133,139,209,223,205,195,233,231,245,251,154,148,134,136,162,172,190,176,234,228,246,248,210,220,206,192,122,116,102,104,66,76,94,80,10,4,22,24,50,60,46,32,236,226,240,254,212,218,200,198,156,146,128,142,164,170,184,182,12,2,16,30,52,58,40,38,
124,114,96,110,68,74,88,86,55,57,43,37,15,1,19,29,71,73,91,85,127,113,99,109,215,217,203,197,239,225,243,253,167,169,187,181,159,145,131,141];
var Tqd=function(a){this.$=a};Tqd.prototype.encrypt=function(a,b){var c=[],d=b;for(b=0;b<a.length;b+=this.$.oa)d=qod(Array.prototype.slice.call(a,b,b+this.$.oa),d),d=this.$.encrypt(d),_.Ga(c,d);return c};Tqd.prototype.decrypt=function(a,b){for(var c=[],d=0,e=b;d<a.length;){b=Array.prototype.slice.call(a,d,d+this.$.oa);var f=this.$.decrypt(b);e=qod(e,f);_.Ga(c,e);e=b;d+=this.$.oa}return c};
var Uqd=function(a,b,c){return"undefined"!=typeof Uint8Array&&a instanceof Uint8Array?a.subarray(b,c):a.slice(b,c)},Vqd=function(a,b){return a[b]+(a[b+1]<<8)+(a[b+2]<<16)+(a[b+3]<<24)},Wqd=class{constructor(){this.ha=[7,49,57,70,73,113,231,4,5,53,58,119,139,250,111,188,48,50,27,149,146,18,19,23,49,80,23];var a=[40,55,67,80,83,91,99,219,17,59,122,243,224,177,67,85,86,200,249,83,12,4,50,72,73,85,39];a=new Gqd(null==a?[]:a.slice(5,21));this.$=new Tqd(a)}};
var Xqd=class{constructor(a,b){this.ha=a;this.$=b||null}getTileUrl(){return this.ha}},xpd=null,Yqd=function(a){setTimeout((0,_.Dc)(function(){this.ha&&!this.$.isEmpty()&&(_.Do(this.$)(),this.$.isEmpty()||Yqd(this))},a),0)},Zqd=function(a,b){a.ha&&a.$.isEmpty()&&Yqd(a);a.$.$.push(b)},$qd=function(a,b,c){var d=a.na,e=b;if(10==e[0]&&10==e[1]&&10==e[2]&&10==e[3]){b=Vqd(e,e.length-4);e=Uqd(e,4,e.length-4);var f=Vqd(e,b);if("undefined"!=typeof Uint8Array&&e instanceof Uint8Array){var h=new Uint8Array(e.length-
4);h.set(e.subarray(0,b));h.set(e.subarray(b+4),b);e=h}else e.splice(b,4);f=Uqd(e,b,b+f);try{var k=d.$.decrypt(f,d.ha.slice(5,21))}catch(l){throw Error("Xe`"+l.toString());}for(d=0;d<k.length;++d)e[d+b]=k[d];b=e}else b=e;a.ma?c(_.MQb(new Blob([b],{type:"image/jpg"}))):(a="data:image/jpeg;base64,"+_.vb(b),a=_.dea(a)||_.fea,c(a))},ard=class extends jpd{constructor(a){super();this.na=new Wqd;this.Qa="undefined"!=typeof Uint8Array;this.ma=null!=_.LQb();this.ua=(0,_.Dc)(a?this.Qa?this.Fa:_.uc?this.Na:
this.La:this.Ja,this);this.oa=_.uc&&!_.wc("11")?"readystatechange":"load";this.$=new _.Co;this.ha=!0;this.ka=new _.Vl(this);this.Qd(this.ka)}load(a,b){this.ua(a,function(c){setTimeout(function(){b(a,new Xqd(c))},1)})}Ja(a,b,c){var d=new Image;void 0!==c&&c&&(d.crossOrigin="anonymous");this.ka.listen(d,this.oa,function(e){("readystatechange"==e.type&&"complete"==d.readyState||"load"==e.type||d.complete)&&setTimeout(function(){b(_.wd(a))},1)});_.Cd(d,a)}Fa(a,b){var c=new XMLHttpRequest;c.open("GET",
a,!0);c.responseType="arraybuffer";this.ka.listen(c,"load",function(){200==c.status&&Zqd(this,(0,_.Dc)(function(){var d=new Uint8Array(c.response);$qd(this,d,b)},this))});c.send()}La(a,b){var c=new XMLHttpRequest;c.open("GET",a,!0);c.overrideMimeType("text/plain; charset=x-user-defined");this.ka.listen(c,"readystatechange",function(){4==c.readyState&&200==c.status&&Zqd(this,(0,_.Dc)(function(){for(var d=[],e=0,f=c.responseText.length;e<f;++e)d.push(c.responseText.charCodeAt(e)&255);$qd(this,d,b)},
this))});c.send()}Na(a){(new XDomainRequest).open("GET",a);Zqd(this,function(){throw Error("Ye");})}};
var brd=function(){if(!_.uc)return!1;try{return new ActiveXObject("MSXML2.DOMDocument"),!0}catch(a){return!1}},crd=_.uc&&brd();
var erd=function(a,b){return drd(a,function(c){b(c)})},drd=function(a,b){var c=window.XDomainRequest;if(c){var d=new c;d.open("GET",a);d.onload=function(){var e=d.responseText;if("undefined"!=typeof DOMParser){var f=new DOMParser;e=_.nea(e,null);e=f.parseFromString(_.zd(e),"application/xml")}else if(crd){f=new ActiveXObject("MSXML2.DOMDocument");f.resolveExternals=!1;f.validateOnParse=!1;try{f.setProperty("ProhibitDTD",!0),f.setProperty("MaxXMLSize",2048),f.setProperty("MaxElementDepth",256)}catch(h){}f.loadXML(e);
e=f}else throw Error("Ze");b(e)};d.onerror=function(){b(null)};d.onprogress=_.Bc;d.send();a=new _.Hc;_.Jc(a,function(){d.onload=_.Bc;d.onerror=_.Bc;d.abort()});return a}d=new _.um;_.Kh(d,"complete",function(){b(_.ood(this))});d.send(a);return d};
var frd=function(a,b){if(a.Ja&&(a=(b=b.childNodes[0])&&b.childNodes)&&0!==a.length){var c=b.attributes;b=c.image_width;c=c.image_height;[b.value,c.value]=[c.value,b.value];_.Oa(a,d=>{var e=d.attributes;d=e.num_tiles_x;const f=e.num_tiles_y,h=e.empty_pels_x;e=e.empty_pels_y;[d.value,f.value]=[f.value,d.value];[h.value,e.value]=[e.value,h.value]})}},grd=class extends _.Hc{constructor(a,b,c,d,e,f){super();this.ka=2E3;this.oa=0;this.na=new _.No(this.load,0,this);this.Qd(this.na);this.ha=a;this.ma=b;this.ua=
c||_.Bc;this.Fa=d||_.Bc;this.$=e||null;this.Ja=f||!1}load(){if(!this.ha.eS((0,_.Dc)(this.ma,this.$))){var a=erd(this.ha.tX(),(0,_.Dc)(this.La,this));this.Qd(a)}}La(a){var b=null;if(a){frd(this,a);try{b=this.ha.AH(a)}catch(c){}}(a=b)&&this.ha.isValid(a)?this.ma.call(this.$,a):this.ha.S1(a)?(++this.oa,5>this.oa?(this.Fa.call(this.$),this.na.start(this.ka),this.ka*=2):this.ua.call(this.$)):this.ua.call(this.$)}};
var hrd=function(a,b,c,d,e){if(null==a.ua)throw Error("af");if(null==a.$)throw Error("bf");e=!!e&&null!=a.Qa;a.Qa=b;lpd(a.La);_.Oa(a.Hb,function(f){var h=_.Kb(f.getTileUrl());mpd(this.La,h,f,0)},a);a.Hb=[];a.Cb=!1;a.Fa.trigger();a.ua.load(c,b,a.ma,e);Rpd(a.kb,b,c);fqd(a.ka,b,c,e);xqd(a.$,b,e);e||(null!=d?Bqd(a.$,d,0):yqd(a.$,!1,void 0))},ird=class extends _.Hc{constructor(a,b,c){super();this.Ub="WebKitCSSMatrix"in window&&b.cqa;this.Rc=null!=b.jRa?b.jRa:!0;this.Ac=b.nkb||"transparent";this.Uc=c||
null;this.tb=new ard(b.bca);this.Qd(this.tb);this.La=new jT(this.tb,100);this.Qd(this.La);this.ma=this.Lb(a);this.Qd(this.ma);this.Ta=this.Db=this.Na=this.oa=null;this.Cb=!1;this.Xa=null;this.Ja=new _.Vl(this);this.Qd(this.Ja);this.Fa=new dpd(this.ma.ta(),this.Rc);a=this.ma;b=this.Fa;null!==a.ua&&_.Nh(a.ma);a.ma=_.Kh(b,"resize",(0,_.Dc)(a.oq,a));a.ua=b;this.Qd(this.Fa);this.na=new qpd(this.Fa);this.Qd(this.na);this.ka=new gqd((0,_.Dc)(this.Lb,this),this.La);this.Qd(this.ka);this.Qa=this.kb=this.ua=
this.ha=this.$=null;this.Hb=[];this.init()}init(){this.ka.render(this.ma.ta());this.na.render(this.ma.ta());this.kb=new Spd(this.La);this.ua=new Npd(this.Fa,this.ma,this.kb,(0,_.Dc)(this.Ed,this));this.Qd(this.ua);var a=new bpd(this.Uc||this.na);a.ka=!0;a.oa=!0;a.ua=!0;a.na=!0;a.ma=!0;this.ha=a.add(this.ka).build();this.Qd(this.ha);this.$=new Dqd(this.ha,this.ka,this.Fa,this.ua);this.Qd(this.$);this.Ja.listen(this.$,"viewport_update",this.Gd);this.Ja.listen(this.ua,"tile_loaded",this.Tb);this.Ja.listen(this.ha,
"drag_start",(0,_.Dc)(this.na.ka,this.na,!0));this.Ja.listen(this.ha,"drag_end",(0,_.Dc)(this.na.ka,this.na,!1));this.Ja.listen(this.ha,["drag_start","drag_hover","zoom"],this.Vh);Fpd(this.ma)}getCurrentState(){return this.$.getState()}jn(){return this.$.jn()}Mj(a,b,c,d){this.oa&&this.oa.dispose();this.oa=new grd(a,function(e){hrd(this,e,a,b,c);this.Na&&this.Na(!0)},function(){this.Na&&this.Na(!1)},function(){},this,d);this.oa.load()}center(){this.$.setPosition(new _.$I(.5,.5))}Lb(a){return new Jpd(a,
this.La,this.Ub,this.Ac)}Ed(){this.Xa&&this.Xa()}Gd(a){var b=this.tb,c=!a.$;c!=b.ha&&(c?(b.ha=c,b.$.isEmpty()||Yqd(b)):b.ha=c);b=this.ka;if(null==b.Xa)throw Error("Te");var d=b.Ta.width*b.na.width,e=b.Ta.height*b.na.height,f=d-2,h=e-2;c=Math.min((a.right-a.left)*d,(a.bottom-a.top)*e);b.ma=0<c?Math.max(1,20/c):1;c=_.Dd(a.left*d,0,f);var k=_.Dd(a.top*e,0,h),l=_.Dd(a.right*d,0,f),n=_.Dd(a.bottom*e,0,h);a=l-c;var r=n-k,u=(b.ma-1)*a,x=(b.ma-1)*r;d=c/(c+d-l);e=k/(k+e-n);var A=Math.floor(_.Dd(c-u*d-2,0,
f));var F=Math.floor(_.Dd(k-x*e-2,0,h));f=Math.ceil(_.Dd(l+u*(1-d)-1,0,f));l=Math.ceil(_.Dd(n+x*(1-e)-1,0,h));h=f-A;l-=F;n=ZS(b.Xa,new _.Pd(b.ma*b.na.width*b.$,b.ma*b.na.height*b.$));b.Db=new _.$I(-(c+a*d)*(b.ma-1),-(k+r*e)*(b.ma-1));Lpd(b.Rc,Math.round(b.Db.x),Math.round(b.Db.y),new _.Pd(b.$*b.na.width*b.ma,b.$*b.na.height*b.ma),n);A+=b.tb.x;f+=b.tb.x;F+=b.tb.y;hqd(b.Ld,A,F,h,l);hqd(b.Na[0],0,0,b.Ta.width,F);hqd(b.Na[1],0,F,A,l+2);hqd(b.Na[2],f+2,F,b.Ta.width-(A+h)-2,l+2);hqd(b.Na[3],0,F+l+2,b.Ta.width,
b.Ta.height-(F+l)-2);this.Db&&this.Db(this.getCurrentState())}Tb(a){null!=this.Ta&&0==a.$&&this.Ta&&!this.Cb&&(setTimeout(this.Ta,0),this.Cb=!0)}Vh(){dqd(this.ka)}Td(){this.oa&&(this.oa.dispose(),this.oa=null);super.Td()}};
_.jrd=function(a,b,c,d){a.$.Mj(b,c,d,void 0)};
_.sT=class{constructor(a,b,c){var d={bca:!1,cqa:!1};_.Ia(b)?d=b:void 0!==b&&(d.bca=b);this.$=new ird(a,d,c)}hBa(a,b,c){this.$.Mj(new cT(a),b,c)}iBa(a,b,c){this.$.Mj(new _.God(a,b,c))}A0(a,b,c){Bqd(this.$.$,a,null!=b?b:500,c)}BAa(){return this.$.getCurrentState()}AAa(){var a=this.$;if(null==a.Qa)throw Error("$e");return new Iod(a.Qa,iT(a.$.oa))}jn(){return this.$.jn()}ZBa(a){this.$.Na=a}una(a){this.$.Db=a}b$(a){this.$.Ta=a}cCa(a){this.$.Xa=a}aCa(a){this.$.$.oa.ma=a}vna(a){this.$.ka.tC(a)}ABa(a,b){this.$.Hb.push(new Xqd(_.wd(a),
b))}dna(a,b){yqd(this.$.$,a||null==a,b)}fAa(){this.$.center()}lna(){this.$.Fa.trigger()}dCa(a){this.$.$.Db=a}bCa(a){this.$.$.oa.$=a}Y0(a,b){var c=this.$.ha;if(c.$){var d=c.$;a?d.ha.nj(b||document):d.ha.detach()}if(c.ha){c=c.ha;b=b||document;if(!a||c.ka&&b!=c.ka)c.na.rn(c.ka,"keydown",c.ua),c.na.rn(c.ka,"keyup",c.Ja);a?(c.ka=b,c.na.listen(c.ka,"keydown",c.ua),c.na.listen(c.ka,"keyup",c.Ja)):(c.ka=null,c.ma.stop())}}eCa(a){var b=this.$.ha;b.$&&(b.$.La=a)}$Ba(a){var b=this.$.ha;b.$&&(b.$.oa=a)}zma(a){Kpd(this.$.ua,
a)}z0(){this.$.Vh()}pAa(){_.ja(this.$)}};_.sT.prototype.Dispose=_.sT.prototype.pAa;_.sT.prototype.Activate=_.sT.prototype.z0;_.sT.prototype.EnableFadeInTiles=_.sT.prototype.zma;_.sT.prototype.SetMinZoomScrollDelay=_.sT.prototype.$Ba;_.sT.prototype.SetScrollEventsActive=_.sT.prototype.eCa;_.sT.prototype.SetGlobalKeyEventsActive=_.sT.prototype.Y0;_.sT.prototype.SetPanningMargin=_.sT.prototype.bCa;_.sT.prototype.SetResizeMode=_.sT.prototype.dCa;_.sT.prototype.ResizeViewport=_.sT.prototype.lna;
_.sT.prototype.Center=_.sT.prototype.fAa;_.sT.prototype.Maximize=_.sT.prototype.dna;_.sT.prototype.ProvideLoadedImage=_.sT.prototype.ABa;_.sT.prototype.SetZoomWidgetVisibility=_.sT.prototype.vna;_.sT.prototype.SetMinimumSizeCallback=_.sT.prototype.aCa;_.sT.prototype.SetRenderedCallback=_.sT.prototype.cCa;_.sT.prototype.SetRenderableCallback=_.sT.prototype.b$;_.sT.prototype.SetStateChangeCallback=_.sT.prototype.una;_.sT.prototype.SetLoadCallback=_.sT.prototype.ZBa;_.sT.prototype.isZoomed=_.sT.prototype.jn;
_.sT.prototype.GetImageMetadata=_.sT.prototype.AAa;_.sT.prototype.GetState=_.sT.prototype.BAa;_.sT.prototype.AnimateTo=_.sT.prototype.A0;_.sT.prototype.LoadSingleImage=_.sT.prototype.iBa;_.sT.prototype.LoadImage=_.sT.prototype.hBa;_.tc("Microscope",_.sT,void 0);
var krd;
_.tT=class extends _.Hp{constructor(a){super(a.va);this.size=this.imageUrl=this.oa=this.ik=this.$=this.ha=null;this.ka=!1;this.na=null;this.ua=!1;this.window=a.service.window;this.Jf=new _.Vl(this);this.Fa=2===_.oA(this.window.get()).$()}static Ea(){return{service:{window:_.th}}}zA(a){this.ka||a===this.oa||(_.jrd(this.ik,new _.Fod(new _.God(a,this.size.width,this.size.height)),void 0,!0),this.oa=a)}resize(a=!1){if(this.$&&this.ik){var b="block"===this.$.getStyle("display");this.$.setStyle("display","block");
this.ik.lna();a&&this.ik.dna();b||this.$.setStyle("display","none")}}Nq(){return!(!this.$||"block"!==this.$.getStyle("display"))}show(){"block"!==this.$.getStyle("display")&&(this.$.setStyle({display:"block",opacity:"1","z-index":"1"}),this.resize(!0))}hide(){this.$.setStyle({display:"none",opacity:"0","z-index":""})}zoom(){this.ik&&(this.ik.Y0(!0),this.ik.z0(),this.ik.A0(krd,250))}jn(){return this.ik?this.ik.jn():!1}};_.tT.prototype.ma=_.aa(239);_.tT.prototype.Ly=_.aa(238);
_.lrd=new hT(.5,.5,0,new _.Pd(1,1));krd=new hT(.5,.5,0,new _.Pd(.5,.5));_.mrd=new hT(.5,.5,0,new _.Pd(.7,.7));_.Ip(_.Jta,_.tT);

_.p();

}catch(e){_._DumpException(e)}
VB Åå{