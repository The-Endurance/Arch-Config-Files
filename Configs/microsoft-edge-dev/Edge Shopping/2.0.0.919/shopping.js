!function(){var t={3082:function(t,e,n){"use strict";var i=n(2679),r=n(156),o=n(1604),a=n(1662),s=n(2273),l=n(5133);function c(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=(0,s.Z)(t);if(e){var r=(0,s.Z)(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return(0,a.Z)(this,n)}}var u=function(t){(0,o.Z)(n,t);var e=c(n);function n(t,o){var a;return(0,i.Z)(this,n),a=e.call(this),(0,l.Z)((0,r.Z)(a),"ButtonClicked",void 0),(0,l.Z)((0,r.Z)(a),"Domain",void 0),a.ButtonClicked=t,a.Domain=o,a}return n}(n(2697).Z);e.Z=u},2763:function(t,e,n){"use strict";var i=n(2679),r=n(156),o=n(1604),a=n(1662),s=n(2273),l=n(5133);function c(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=(0,s.Z)(t);if(e){var r=(0,s.Z)(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return(0,a.Z)(this,n)}}var u=function(t){(0,o.Z)(n,t);var e=c(n);function n(t,o,a,s){var c;return(0,i.Z)(this,n),c=e.call(this),(0,l.Z)((0,r.Z)(c),"EdgeFlyoutStatus",void 0),(0,l.Z)((0,r.Z)(c),"ComparableOffersCount",void 0),(0,l.Z)((0,r.Z)(c),"SavingsAmount",void 0),(0,l.Z)((0,r.Z)(c),"Domain",void 0),c.EdgeFlyoutStatus=t,c.ComparableOffersCount=o,c.SavingsAmount=a,c.Domain=s,c}return n}(n(2697).Z);e.Z=u},2697:function(t,e,n){"use strict";var i=n(2679),r=n(3874),o=function(){function t(){(0,i.Z)(this,t)}return(0,r.Z)(t,[{key:"ToString",value:function(){return JSON.stringify(this)}}]),t}();e.Z=o},2556:function(t,e,n){"use strict";var i,r,o,a,s,l,c,u,d,h,p,f,g,v,m,y,C,b;n.d(e,{in:function(){return a},R:function(){return s},$S:function(){return c},xu:function(){return u},Vm:function(){return f},UA:function(){return v},BN:function(){return C}}),function(t){t[t.Domains=0]="Domains",t[t.Deals=1]="Deals",t[t.Popup=2]="Popup",t[t.Overlay=3]="Overlay",t[t.BaseUXUrl=4]="BaseUXUrl",t[t.EventLogUrl=5]="EventLogUrl",t[t.PriceComparison=6]="PriceComparison",t[t.PriceNotification=7]="PriceNotification",t[t.ImageResize=8]="ImageResize",t[t.EdgeMobileOverlay=9]="EdgeMobileOverlay",t[t.ECOverlay=10]="ECOverlay"}(i||(i={})),function(t){t.Get="GET",t.Post="POST"}(r||(r={})),function(t){t.Json="application/json",t.Text="text/plain"}(o||(o={})),function(t){t.Trace="Trace",t.Debug="Debug",t.Information="Information",t.Warning="Warning",t.Error="Error",t.Critical="Critical",t.None="None"}(a||(a={})),function(t){t.AutoApply="AutoApply",t.ButtonClick="ButtonClick",t.ClientError="ClientError",t.DebugMessage="DebugMessage",t.EdgeFlyoutStatus="EdgeFlyoutStatus",t.CheckoutPageValidation="CheckoutPageValidation",t.CashbackInfo="CashbackInfo",t.OtherSellers="OtherSellers",t.RewardsActivity="RewardsActivity",t.ExpressCheckout="ExpressCheckout",t.EdgeFlyoutStatusDiagnostic="EdgeFlyoutStatusDiagnostic"}(s||(s={})),function(t){t.PriceHistoryGraph="PriceHistoryGraph"}(l||(l={})),function(t){t.AutoApply="AutoApply",t.PopupClose="PopupClose",t.CouponCopied="CouponCopied",t.SeeMoreCoupons="SeeMoreCoupons",t.SeeMoreRetailers="SeeMoreRetailers",t.SeeMoreSellers="SeeMoreSellers",t.FREManage="FREManage",t.FlyoutManage="FlyoutManage",t.FREDismiss="FREDismiss",t.FlyoutDismiss="FlyoutDismiss",t.BannerDismiss="BannerDismiss",t.AutoShowTurnedOff="AutoShowTurnedOff",t.AutoShowTurnedOn="AutoShowTurnedOn",t.FREGotIt="FREGotIt",t.FRENoThanks="FRENoThanks",t.NavigatedToAnotherRetailer="NavigatedToAnotherRetailer",t.ProceedToCheckoutWithImport="ProceedToCheckoutWithImport",t.ProceedToCheckoutWithOutImport="ProceedToCheckoutWithOutImport",t.ProceedToCheckout="ProceedToCheckout",t.UseCoupon="UseCoupon",t.UseRebates="UseRebates",t.ActivateCashBack="ActivateCashBack",t.PreviousCashBack="PreviousCashBack",t.ExpandedPreviousCashBack="ExpandedPreviousCashBack",t.ExpandedCashBackSection="ExpandedCashBackSection",t.NotificationDismiss="NotificationDismiss",t.OrganicFlowTurnedOff="OrganicFlowTurnedOff",t.OrganicFlowTurnedOn="OrganicFlowTurnedOn",t.RebatesLearnMore="RebatesLearnMore",t.RebatesAccount="RebatesAccount",t.CouponCopiedStackableWithCashBack="CouponCopiedStackableWithCashBack",t.CouponCopiedNonStackableWithCashBack="CouponCopiedNonStackableWithCashBack",t.RightClickPriceComparison="RightClickPriceComparison",t.ExpandPriceHistoryGraph="ExpandPriceHistoryGraph",t.HidePriceHistoryGraph="HidePriceHistoryGraph",t.ShareFB="ShareFB",t.ShareTwitter="ShareTwitter",t.ExpandRatingsAndReviews="ExpandRatingsAndReviews",t.ScrollVideoReviews="ScrollVideoReviews",t.ClickInlineRating="ClickInlineRating",t.ClickExpertReview="ClickExpertReview",t.ClickVideoReview="ClickVideoReview",t.NavigateToRetailerOffer="NavigateToRetailerOffer",t.NavigateToRecommendedDeal="NavigateToRecommendedDeal",t.NavigateToOtherSeller="NavigateToOtherSeller",t.AddToCart="AddToCart",t.TipsLike="TipsLike",t.TipsDislike="TipsDislike",t.MicroNotificationDismiss="MicroNotificationDismiss",t.AAWithoutEC="AAWithoutEC",t.AAWithEC="AAWithEC",t.ExpressCheckout="EC",t.ExpandedDeals="ExpandedDeals",t.ExpandedRecommendations="ExpandedRecommendations",t.ExpandedSimilarSellers="ExpandedSimilarSellers"}(c||(c={})),function(t){t.OpenedInCheckout="OpenedInCheckout",t.EmptyCoupons="EmptyCoupons",t.AutoTrigger="AutoTrigger",t.UserTrigger="UserTrigger",t.BannerRendered="BannerRendered",t.OnErrorInvoked="OnErrorInvoked",t.BestPrice="BestPrice",t.YouCanSave="YouCanSave",t.RebatesConfirmationNotification="RebatesConfirmationNotification",t.RebatesTurnedOffNotification="RebatesTurnedOffNotification",t.StackableCouponWithCashback="StackableCouponWithCashback",t.NonStackableCouponWithCashback="NonStackableCouponWithCashback",t.CashBackNotActiveAutoApply="CashBackNotActiveAutoApply",t.PriceHistoryTriggerTrue="PriceHistoryTriggerTrue",t.PriceHistoryPriceDrop="PriceHistoryPriceDrop",t.PriceHistoryPriceIncrease="PriceHistoryPriceIncrease",t.PriceHistoryPriceStable="PriceHistoryPriceStable",t.PriceHistoryModuleExpanded="PriceHistoryModuleExpanded",t.PriceHistoryPolePosition="PriceHistoryPolePosition",t.PriceHistoryNonPolePosition="PriceHistoryNonPolePosition",t.PriceHistoryDwellTimeHover="PriceHistoryDwellTimeHover",t.PriceHistoryInfoButtonDwellTimeHover="PriceHistoryInfoButtonDwellTimeHover",t.PriceHistoryFeatureEnabled="PriceHistoryFeatureEnabled",t.PriceHistoryNoImage="PriceHistoryNoImage",t.PriceHistoryShowMoreInfoTooltip="PriceHistoryShowMoreInfoTooltip",t.PriceHistoryHideMoreInfoTooltip="PriceHistoryHideMoreInfoTooltip",t.ActivateCashBackButton="ActivateCashBackButton",t.CashBackWillNotRender="CashBackWillNotRender",t.CashBackButtonShown="CashBackButtonShown",t.CashBackSignInButtonShown="CashBackSignInButtonShown",t.MissingString="MissingString",t.MicroNotifications="MicroNotifications",t.PageHandlerFunctionError="PageHandlerFunctionError",t.FlyoutAutoPriceHistoryTrigger="FlyoutAutoPriceHistoryTrigger",t.FlyoutDismissedPriceHistoryTrigger="FlyoutDismissedPriceHistoryTrigger",t.InlineRatingRendered="InlineRatingRendered",t.RatingsAndReviewsRendered="RatingsAndReviewsRendered",t.RatingsAndReviewsPolePosition="RatingsAndReviewsPolePosition",t.AutoOpenUsingUrlParam="AutoOpenUsingUrlParam",t.ContextMenuInfo="ContextMenuInfo",t.AddedToCartNotification="AddedToCartNotification",t.CashBackActivated="CashBackActivated",t.CheckoutUserDataInvalid="CUDInvalid",t.AAWithEC="AAWithEC",t.ExpressCheckout="ECOnly",t.OtherSeller="OtherSeller",t.ModuleViewed="ModuleViewed"}(u||(u={})),function(t){t.Error="Error",t.Negative="Negative",t.Positive="Positive",t.Cancelled="Cancelled"}(d||(d={})),function(t){t.Error="Error",t.Negative="Negative",t.Positive="Positive"}(h||(h={})),function(t){t.Valid="Valid",t.NotApplicable="NotApplicable",t.LowSuccess="LowSuccess",t.MinPurchaseNotMet="MinPurchaseNotMet"}(p||(p={})),function(t){t[t.ApplyCouponsMessage=1]="ApplyCouponsMessage",t[t.AutoApplyCompletedMessage=2]="AutoApplyCompletedMessage",t[t.CheckoutPageMessage=3]="CheckoutPageMessage",t[t.CloseOverlayMessage=4]="CloseOverlayMessage",t[t.ClosedPopupMessage=5]="ClosedPopupMessage",t[t.CountElementsResponse=6]="CountElementsResponse",t[t.CreateOverlayMessage=7]="CreateOverlayMessage",t[t.CreatePopupMessage=8]="CreatePopupMessage",t[t.CreatePriceComparisonMessage=9]="CreatePriceComparisonMessage",t[t.EdgeApplyCouponsMessage=10]="EdgeApplyCouponsMessage",t[t.EmptyResponse=11]="EmptyResponse",t[t.ErrorResponse=12]="ErrorResponse",t[t.GetCompetingPricesMessage=13]="GetCompetingPricesMessage",t[t.GetCompetingPricesResponse=14]="GetCompetingPricesResponse",t[t.GetTextValueResponse=15]="GetTextValueResponse",t[t.GetUIStateMessage=16]="GetUIStateMessage",t[t.GetUIStateResponse=17]="GetUIStateResponse",t[t.MoveProgressBarMessage=18]="MoveProgressBarMessage",t[t.ShowResultMessage=19]="ShowResultMessage",t[t.TelemetryMessage=20]="TelemetryMessage",t[t.UpdateCurrentCouponMessage=21]="UpdateCurrentCouponMessage",t[t.OpalMessage=22]="OpalMessage",t[t.ProductPageMessage=23]="ProductPageMessage",t[t.ProductPageResponse=24]="ProductPageResponse",t[t.EdgeCreateOverlayMessage=25]="EdgeCreateOverlayMessage",t[t.EdgeShowResultMessage=26]="EdgeShowResultMessage",t[t.VerifySelectorsMessage=27]="VerifySelectorsMessage",t[t.VerifySelectorsResponse=28]="VerifySelectorsResponse",t[t.AutoApplyCancelledMessage=29]="AutoApplyCancelledMessage",t[t.ContentInitMessage=30]="ContentInitMessage",t[t.ClearDataMessage=31]="ClearDataMessage",t[t.DOMMutationMessage=32]="DOMMutationMessage",t[t.UpdateCurrencyMessage=33]="UpdateCurrencyMessage",t[t.CheckoutProgressMessage=34]="CheckoutProgressMessage",t[t.ECCreateOverlayMessage=35]="ECCreateOverlayMessage",t[t.ECShowResultMessage=36]="ECShowResultMessage",t[t.ECFieldErrorMessage=37]="ECFieldErrorMessage"}(f||(f={})),function(t){t[t.IOS=0]="IOS",t[t.Android=1]="Android"}(g||(g={})),function(t){t[t.PlainString=0]="PlainString",t[t.JsonString=1]="JsonString"}(v||(v={})),function(t){t[t.FromBackground=1]="FromBackground",t[t.FromContent=2]="FromContent"}(m||(m={})),function(t){t.HandleBackgroundMessage="HandleBackgroundMessage",t.HandleContentMessage="HandleContentMessage"}(y||(y={})),function(t){t.Opal="Opal",t.Extension="Extension",t.Edge="Edge",t.EdgeMobile="EdgeMobile",t.Sapphire="Sapphire"}(C||(C={})),function(t){t.AutoApplyCoupons="AutoApplyCoupons",t.CouponClipping="CouponClipping"}(b||(b={}))},8466:function(t,e,n){"use strict";n.d(e,{Z:function(){return P}});var i=n(9355),r=n(2679),o=n(3874),a=n(1604),s=n(1662),l=n(2273),c=n(3949),u=n.n(c),d=n(109),h=n(3082),p=n(2763),f=n(2556),g=n(6844),v=n(1660),m=n(8320),y=n(2309),C=n(9628),b=n(8939),S=n(4335),x=n(1640),E=n(3242),w=n(5133);function A(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return I(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return I(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function I(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}var k=function(){function t(e,n,i,o,a,s){(0,r.Z)(this,t),(0,w.Z)(this,"availableModules",void 0),(0,w.Z)(this,"stateManagement",void 0),(0,w.Z)(this,"pageHandlerModule",void 0),(0,w.Z)(this,"logModule",void 0),(0,w.Z)(this,"flyoutData",void 0),(0,w.Z)(this,"utilities",void 0),(0,w.Z)(this,"commonAssets",void 0),(0,w.Z)(this,"viewModules",void 0),(0,w.Z)(this,"bannerModule",void 0),(0,w.Z)(this,"couponImpressionIdModules",new Set([g.GX.COUPON,g.GX.CASHBACK,g.GX.CHECKOUTAUTOFILL,g.GX.COUPONCLIPPING,g.GX.DEALS,g.GX.EMPTYCOUPON])),this.stateManagement=e,this.stateManagement.addEventListener(x.e1.CreateModules,this.createModules.bind(this)),this.pageHandlerModule=i.pageHandlerModule,this.logModule=i.logModule,this.flyoutData=n,this.utilities=i.viewModulesUtilities,this.viewModules=a,this.bannerModule=s,this.commonAssets=o}var e,n;return(0,o.Z)(t,[{key:"createModules",value:(n=(0,i.Z)(u().mark((function t(){var e,n,i,r,o,a,s,l,c,h,v,m,y,b,S,w,A,I,k,D,T,M,P,R,O,L,_,N,H,F=this;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(e=document.querySelector("#divContentWrapper"))){t.next=54;break}if(s=this.flyoutData.dataStoreModule,l=this.flyoutData.common.shopping,c=s.PriceComparisonData,h=s.CashBackData,v=s.RewardData,m=null!==(n=null===(i=this.flyoutData.dataStoreModule.CouponData)||void 0===i?void 0:i.isCheckoutPageWithAutoApply)&&void 0!==n&&n,y=[],b=null!==(r=null==h?void 0:h.shouldRenderCashBackNotification)&&void 0!==r&&r,S=null!==(o=(null==c?void 0:c.shoudlRenderPriceComparisonNotification)&&!this.flyoutData.common.seeInfoFromPCNotification)&&void 0!==o&&o,w=this.flyoutData.common.openedWith===g.Te.Auto&&this.flyoutData.common.popupOrigination===C.s.AUTO_SHOW_ITEM_ADDED_TO_CART_FROM_OTHER_SELLER,A=null!==(a=null==v?void 0:v.shoudlRenderRewardNotification)&&void 0!==a&&a,!(b||S||w)){t.next=39;break}if(!b){t.next=20;break}if(I=this.getModuleByName(g.GX.CASHBACK))try{I.renderModule()}catch(t){k=new p.Z(f.xu.OnErrorInvoked),this.logModule.LogErrorEvent(f.R.EdgeFlyoutStatus,"Module Notification Exception: ".concat(g.GX.CASHBACK," ").concat(E.Z.getErrorString(t)),k,this.GetImpressionType(g.GX.CASHBACK))}t.next=35;break;case 20:if(!w){t.next=34;break}if(!(D=this.getModuleByName(g.GX.SIMILARSELLERS))){t.next=32;break}return t.prev=23,t.next=26,D.renderModule();case 26:t.next=32;break;case 28:t.prev=28,t.t0=t.catch(23),T=new p.Z(f.xu.OnErrorInvoked),this.logModule.LogErrorEvent(f.R.EdgeFlyoutStatus,"Module Notification Exception: ".concat(g.GX.SIMILARSELLERS," ").concat(E.Z.getErrorString(t.t0)),T,this.GetImpressionType(g.GX.SIMILARSELLERS));case 32:t.next=35;break;case 34:if(S){if(M=this.getModuleByName(g.GX.PRICECOMPARISON))try{M.renderModule()}catch(t){P=new p.Z(f.xu.OnErrorInvoked),this.logModule.LogErrorEvent(f.R.EdgeFlyoutStatus,"Module Notification Exception: ".concat(g.GX.PRICECOMPARISON," ").concat(E.Z.getErrorString(t)),P,this.GetImpressionType(g.GX.PRICECOMPARISON))}}else if(A&&(R=this.getModuleByName(g.GX.REWARD)))try{R.renderModule()}catch(t){}case 35:this.setTitle(),this.createFlyoutButtons(),t.next=50;break;case 39:if(O=this.getModuleByName(g.GX.COUPONCLIPPING),L=!1,!O){t.next=45;break}return t.next=44,O.ShouldRenderModule();case 44:L=t.sent;case 45:return t.next=47,this.GetRenderedModules();case 47:if((y=t.sent)&&y.length>0&&(this.stateManagement.setState(x.IY.topModuleName,y[0].name),this.stateManagement.setState(x.IY.topModulePriority,y[0].priority)),this.flyoutData.common.shouldShowBanner)try{if(this.bannerModule)try{this.bannerModule.renderBanner()}catch(t){_=new p.Z(f.xu.OnErrorInvoked),this.logModule.LogErrorEvent(f.R.EdgeFlyoutStatus,"Banner Exception: ".concat(E.Z.getErrorString(t)),_)}}catch(t){N=new p.Z(f.xu.OnErrorInvoked),this.logModule.LogErrorEvent(f.R.EdgeFlyoutStatus,"Module Exception: Banner ".concat(E.Z.getErrorString(t)),N)}else this.renderModules(y,m,L);case 50:e.appendChild(l),d.SO.queueUpdate((function(){F.utilities.handleFlyoutFocus(y)})),H=new CustomEvent(x.e1.ModulesRendered),this.stateManagement.dispatchEvent(H);case 54:case"end":return t.stop()}}),t,this,[[23,28]])}))),function(){return n.apply(this,arguments)})},{key:"createFlyoutButtons",value:function(){}},{key:"GetRenderedModules",value:(e=(0,i.Z)(u().mark((function t(){var e,n,i,r,o,a,s,l,c,d,h,v,m,y,C,b,S,w,I,k,D,T;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a=[],s=null===(e=this.flyoutData.dataStoreModule.CouponData)||void 0===e?void 0:e.isCheckoutPageWithAutoApply,this.stateManagement.setState(x.IY.renderedViewModuleCount,0),l=new Map,c=0,d=A(this.viewModules),t.prev=6,d.s();case 8:if((h=d.n()).done){t.next=29;break}if(v=h.value,t.prev=10,t.t0=v,!t.t0){t.next=16;break}return t.next=15,v.ShouldRenderModule();case 15:t.t0=t.sent;case 16:if(!t.t0){t.next=21;break}return t.next=19,v.renderModule();case 19:(m=t.sent)&&(a.push(m),this.stateManagement.setState(x.IY.renderedViewModuleCount,a.length),l.set(m.name,c),c++);case 21:t.next=27;break;case 23:t.prev=23,t.t1=t.catch(10),y=new p.Z(f.xu.OnErrorInvoked),this.logModule.LogErrorEvent(f.R.EdgeFlyoutStatus,"Module Exception: ".concat(v.GetModuleName()," ").concat(E.Z.getErrorString(t.t1)),y,this.GetImpressionType(v.GetModuleName()));case 27:t.next=8;break;case 29:t.next=34;break;case 31:t.prev=31,t.t2=t.catch(6),d.e(t.t2);case 34:return t.prev=34,d.f(),t.finish(34);case 37:return C=null===(n=this.flyoutData.dataStoreModule.PriceComparisonData)||void 0===n?void 0:n.shouldBeInPolePosition,b=l.get(g.GX.COUPONCLIPPING),S=l.get(g.GX.COUPON),w=l.get(g.GX.EMPTYCOUPON),I=l.get(g.GX.PRICEHISTORY),k=l.get(g.GX.PRICECOMPARISON),D=l.get(g.GX.DEALS),T=l.get(g.GX.CASHBACK),void 0!==b?(a[b].priority=0,void 0!==S&&(a[S].priority=g.H7.MAX),void 0!==w&&(a[w].priority=g.H7.MAX)):void 0===I||s||C?void 0!==S&&s?a[S].priority=0:!s&&void 0!==T&&(this.flyoutData.common.openedWith===g.Te.Auto||null!==(i=this.flyoutData.dataStoreModule.CashBackData)&&void 0!==i&&i.isPromotionsCashback||(null===(r=this.flyoutData.dataStoreModule.CashBackData)||void 0===r?void 0:r.activateRebatesStatus)===g.FA.PENDING_SWITCH_TO_MSA_PROFILE||null!==(o=this.flyoutData.dataStoreModule.CashBackData)&&void 0!==o&&o.isSignInSupportedDomainCashBack&&!s)?a[T].priority=0:void 0===k||s||this.flyoutData.dataStoreModule.PriceHistoryData&&!C?void 0!==D&&(a[D].priority=0):a[k].priority=0:a[I].priority=0,a.sort((function(t,e){return t.priority-e.priority})),t.abrupt("return",a);case 48:case"end":return t.stop()}}),t,this,[[6,31,34,37],[10,23]])}))),function(){return e.apply(this,arguments)})},{key:"getModuleByName",value:function(t){if(this.viewModules&&this.viewModules.length>0){var e,n=A(this.viewModules);try{for(n.s();!(e=n.n()).done;){var i=e.value;if(i.GetModuleName()===t)return i}}catch(t){n.e(t)}finally{n.f()}}return null}},{key:"GetImpressionType",value:function(t){return this.couponImpressionIdModules.has(t)?v.g.CouponImpressionId:v.g.EdgeImpressionId}},{key:"setTitle",value:function(t){if(t){if(t.name===g.GX.EMPTYCOUPON)return;try{t.moduleInterface.populateMainHeader()}catch(n){var e=new p.Z(f.xu.OnErrorInvoked);this.logModule.LogErrorEvent(f.R.EdgeFlyoutStatus,"Populate Header Exception: ".concat(t.name," ").concat(E.Z.getErrorString(n)),e,this.GetImpressionType(t.name))}}}}]),t}();function D(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return T(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return T(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function T(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function M(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=(0,l.Z)(t);if(e){var r=(0,l.Z)(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return(0,s.Z)(this,n)}}t=n.hmd(t);var P=function(e){(0,a.Z)(l,e);var n,s=M(l);function l(){return(0,r.Z)(this,l),s.apply(this,arguments)}return(0,o.Z)(l,[{key:"GetRenderedModules",value:(n=(0,i.Z)(u().mark((function t(){var e,n,i,r,o,a,s,l,c,d,h,v,m,y,b,S,w,A,I,k,T,M,P,R,O,L;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:s=[],l=null===(e=this.flyoutData.dataStoreModule.CouponData)||void 0===e?void 0:e.isCheckoutPageWithAutoApply,this.stateManagement.setState(x.IY.renderedViewModuleCount,0),c=new Map,d=0,h=D(this.viewModules),t.prev=6,h.s();case 8:if((v=h.n()).done){t.next=29;break}if(m=v.value,t.prev=10,t.t0=m,!t.t0){t.next=16;break}return t.next=15,m.ShouldRenderModule();case 15:t.t0=t.sent;case 16:if(!t.t0){t.next=21;break}return t.next=19,m.renderModule();case 19:(y=t.sent)&&(s.push(y),this.stateManagement.setState(x.IY.renderedViewModuleCount,s.length),c.set(y.name,d),d++);case 21:t.next=27;break;case 23:t.prev=23,t.t1=t.catch(10),b=new p.Z(f.xu.OnErrorInvoked),this.logModule.LogErrorEvent(f.R.EdgeFlyoutStatus,"Module Exception: ".concat(m.GetModuleName()," ").concat(E.Z.getErrorString(t.t1)),b,this.GetImpressionType(m.GetModuleName()));case 27:t.next=8;break;case 29:t.next=34;break;case 31:t.prev=31,t.t2=t.catch(6),h.e(t.t2);case 34:return t.prev=34,h.f(),t.finish(34);case 37:return S=null===(n=this.flyoutData.dataStoreModule.PriceComparisonData)||void 0===n?void 0:n.shouldBeInPolePosition,w=c.get(g.GX.COUPONCLIPPING),A=c.get(g.GX.COUPON),I=c.get(g.GX.EMPTYCOUPON),k=c.get(g.GX.PRICEHISTORY),T=c.get(g.GX.PRICECOMPARISON),M=c.get(g.GX.DEALS),P=c.get(g.GX.CASHBACK),R=c.get(g.GX.REWARD),O=c.get(g.GX.RATINGSANDREVIEWS),L=c.get(g.GX.SIMILARSELLERS),this.stateManagement.setState(x.IY.cashbackModuleOnTop,!1),void 0!==w?(s[w].priority=0,void 0!==A&&(s[A].priority=g.H7.MAX),void 0!==I&&(s[I].priority=g.H7.MAX)):this.flyoutData.common.openedWith===g.Te.Auto&&this.flyoutData.common.popupOrigination===C.s.AUTO_SHOW_OTHER_SELLERS&&void 0!==L?s[L].priority=0:void 0===O||l||S||null===(i=this.flyoutData.dataStoreModule.RatingsAndReviewsData)||void 0===i||!i.CanRankInPole(this.flyoutData.dataStoreModule,this.pageHandlerModule)?void 0===k||l||S?void 0!==A&&l?s[A].priority=0:!l&&void 0!==P&&(this.flyoutData.common.openedWith===g.Te.Auto||null!==(r=this.flyoutData.dataStoreModule.CashBackData)&&void 0!==r&&r.isPromotionsCashback||(null===(o=this.flyoutData.dataStoreModule.CashBackData)||void 0===o?void 0:o.activateRebatesStatus)===g.FA.PENDING_SWITCH_TO_MSA_PROFILE||null!==(a=this.flyoutData.dataStoreModule.CashBackData)&&void 0!==a&&a.isSignInSupportedDomainCashBack&&!l)?(s[P].priority=0,this.stateManagement.setState(x.IY.cashbackModuleOnTop,!0),void 0!==R&&(s[R].priority=0,s[P].priority=1)):void 0===T||l||this.flyoutData.dataStoreModule.PriceHistoryData&&!S?void 0!==M&&(s[M].priority=0):s[T].priority=0:s[k].priority=0:s[O].priority=0,s.sort((function(t,e){return t.priority-e.priority})),t.abrupt("return",s);case 52:case"end":return t.stop()}}),t,this,[[6,31,34,37],[10,23]])}))),function(){return n.apply(this,arguments)})},{key:"renderModules",value:function(e,n,i){var r=this;if(e&&e.length>0){for(var o=function(o){var a=e[o];if(t&&a.element){0!==o||n||i?a.name!==g.GX.PRICECOMPARISON||!r.flyoutData.common.foundLowerPrice&&"viewAllPC"!==r.flyoutData.common.bannerContext||n?a.name===g.GX.PRICEHISTORY&&"viewPriceHistory"===r.flyoutData.common.bannerContext?(a.element.expanded=!0,r.scrollModuleIntoView(a.element)):a.element.expanded=!1:(a.element.expanded=!0,r.scrollModuleIntoView(a.element)):a.element.expanded=!0,(!a.element.expanded||o>0)&&a.name!==g.GX.CHECKOUTAUTOFILL&&r.utilities.addSectionSeparator(r.flyoutData.common.shopping),r.flyoutData.common.shopping.appendChild(a.element),d.SO.queueUpdate((function(){r.styleModules(a,o)}));try{a.moduleInterface.PostProcessing(a.name,o,a.element)}catch(t){var s=new p.Z(f.xu.OnErrorInvoked);r.logModule.LogErrorEvent(f.R.EdgeFlyoutStatus,"Error while Post processing Module: ".concat(a.name," ").concat(E.Z.getErrorString(t)),s,r.GetImpressionType(a.name))}}},a=0;a<e.length;a++)o(a);this.setTitle(e[0]);var s=this.setContentViewed(e[0].name);if(s){var l=new p.Z(f.xu.ModuleViewed);this.logModule.LogInfoEvent(f.R.EdgeFlyoutStatus,"".concat(e[0].name),l,this.GetImpressionType(e[0].name)),this.pageHandlerModule.RecordAsContentViewed(s)}this.flyoutData.common.currentDevice===g.AS.Desktop&&this.createFlyoutButtons()}else new S.Z(this.logModule,this.pageHandlerModule,this.flyoutData.strings,this.flyoutData.common.currentTheme,this.flyoutData.common.currentDirection,this.commonAssets).renderErrorUI()}},{key:"createFlyoutButtons",value:function(){var t=this.flyoutData.dataStoreModule.CashBackData;if(document.querySelector("#divContentWrapper")){var e,n=null!==(e=t&&(t.isTurnedOff||t.isConfirmationPage))&&void 0!==e&&e;n||this.createContextMenu(this.stateManagement.getState(x.IY.canRenderCashback),this.stateManagement.getState(x.IY.topModuleName)),this.createCloseButton(n)}}},{key:"createCloseButton",value:function(t){var e,n=document.createElement("fluent-button");n.slot="header-actions",null!==(e=this.flyoutData.strings)&&void 0!==e&&e.commonClose?n.ariaLabel=this.flyoutData.strings.commonClose:n.ariaLabel="close",n.id="btnFlyoutClose";var i=this.utilities.createElement("DIV");i.setAttribute("aria-hidden","true"),i.innerHTML=E.Z.staticPolicy.createHTML(this.commonAssets.getCloseButton()),n.appearance="stealth",n.appendChild(i);var r=this.pageHandlerModule,o=this.logModule;n.addEventListener("click",(function(){if(t){if(t){var e=new h.Z(f.$S.NotificationDismiss);r.RecordAsUserAction(m.b.DISMISSED),o.LogInfoEvent(f.R.ButtonClick,"Notification Dismissed",e)}}else{var n=new h.Z(f.$S.FlyoutDismiss);r.RecordAsUserAction(m.b.DISMISSED),o.LogInfoEvent(f.R.ButtonClick,"Flyout Dismissed",n)}r.DismissPopup()})),this.flyoutData.common.shopping.appendChild(n)}},{key:"createContextMenu",value:function(t,e){var n=this.flyoutData.common.shopping,i=document.createElement("fluent-button");i.slot="header-actions",i.id="divMenuButton",i.ariaHaspopup="menu",i.ariaControls="divMenuContent",i.ariaLabel=this.flyoutData.strings.commonMoreOptionsLabel;var r=this.utilities.createElement("DIV");r.setAttribute("aria-hidden","true"),r.innerHTML=E.Z.staticPolicy.createHTML(this.commonAssets.getMenuIcon()),i.appearance="stealth",i.appendChild(r);var o=document.createElement("fluent-menu");o.id="divMenuContent",o.setAttribute("aria-labelledby","divMenuButton");var a=this.flyoutData.experimentData;if(this.pageHandlerModule.TriggerExperiment(b.H.autoShowControlForFeature),a.isExperimentActive(b.H.autoShowControlForFeature)){var s=e,l=this.getPopupOrigination(s);if(l)this.addAutoShowItem(o,l);else{var c=new p.Z(f.xu.ContextMenuInfo);this.logModule.LogInfoEvent(f.R.EdgeFlyoutStatus,"Popup origination not valid for "+s,c)}}else this.addAutoShowItem(o);void 0!==this.flyoutData.common.isOrganicFlowEnabled&&t&&this.addRebatesFlow(o,this.flyoutData.common.isOrganicFlowEnabled);var u=document.createElement("fluent-menu-item"),v=document.createElement("DIV");v.innerHTML=E.Z.staticPolicy.createHTML(this.commonAssets.getSettingsIcon()),v.slot="start",v.setAttribute("aria-hidden","true"),u.textContent=this.flyoutData.strings.commonCMManage,u.className+="defaultFontFamily",u.appendChild(v);var y,C=this.pageHandlerModule,S=this.logModule;u.addEventListener("change",(function(){C.RecordAsUserAction(m.b.MANAGE);var t=new h.Z(f.$S.FlyoutManage);S.LogInfoEvent(f.R.ButtonClick,"Flyout Menu Manage",t),C.NavigateToSettings()})),o.appendChild(u),y=this.flyoutData.common.currentDirection===g.m5.RTL?"35px":"50px",o.setAttribute("style","position: absolute; top: 40px; left: "+y+"; z-index: 100; right: 10px; outline: none; padding: 0px!important;"),o.tabIndex=-1,o.className="hide",this.manageMenuEvents(o,i),n.appendChild(o),d.SO.queueUpdate((function(){o.setAttribute("slot","start-content")})),n.appendChild(i),n.addEventListener("click",(function(){"hide"!==o.className&&(i.style.backgroundColor="transparent",o.className="hide",i.ariaExpanded=void 0)}))}},{key:"getPopupOrigination",value:function(t){if(void 0!==this.flyoutData.common.popupOrigination&&this.flyoutData.common.openedWith===g.Te.Auto)return this.flyoutData.common.popupOrigination;switch(t){case g.GX.CASHBACK:var e,n=this.flyoutData.dataStoreModule.CashBackData;return null!=n&&n.isPersonalizedCashback?null!==(e=this.flyoutData.dataStoreModule.CashBackData)&&void 0!==e&&e.isConfirmationPage?this.pageHandlerModule.PopupOrigination.AUTO_SHOW_PERSONALIZED_CASHBACK_CONFIRMATION:this.pageHandlerModule.PopupOrigination.AUTO_SHOW_PERSONALIZED_CASHBACK:null!=n&&n.isConfirmationPage?this.pageHandlerModule.PopupOrigination.AUTO_SHOW_REBATES_CONFIRMATION:null!=n&&n.isTurnedOff?null:this.flyoutData.common.isCheckoutPage?this.pageHandlerModule.PopupOrigination.AUTO_SHOW_REBATES_CHECKOUT:null!=n&&n.isCashBackActivated?this.pageHandlerModule.PopupOrigination.AUTO_SHOW_REBATES:this.pageHandlerModule.PopupOrigination.AUTO_SHOW_REBATES_ORGANIC_NEW;case g.GX.COUPON:return this.pageHandlerModule.PopupOrigination.AUTO_SHOW_COUPONS_CHECKOUT;case g.GX.PRICECOMPARISON:return this.pageHandlerModule.PopupOrigination.AUTO_SHOW_LOWER_PRICE_FOUND;case g.GX.PRICEHISTORY:return this.pageHandlerModule.PopupOrigination.AUTO_SHOW_PRICE_HISTORY;case g.GX.COUPONCLIPPING:return this.pageHandlerModule.PopupOrigination.AUTO_SHOW_COUPONS_CLIPPING;case g.GX.SIMILARSELLERS:return this.pageHandlerModule.PopupOrigination.AUTO_SHOW_OTHER_SELLERS}return null}},{key:"getFeatureFromPopupOrigination",value:function(t){var e=this.pageHandlerModule.PopupOrigination,n=this.pageHandlerModule.AutoShowFeature;switch(t){case e.AUTO_SHOW_COUPONS_CHECKOUT:return n.COUPONS_CHECKOUT;case e.AUTO_SHOW_LOWER_PRICE_FOUND:return n.PRICE_COMPARE;case e.AUTO_SHOW_REBATES:return n.REBATES_BING;case e.AUTO_SHOW_REBATES_CONFIRMATION:return n.REBATES_CONFIRMATION;case e.AUTO_SHOW_REBATES_ORGANIC:return n.REBATES_ORGANIC;case e.AUTO_SHOW_PRICE_HISTORY:return n.PRICE_HISTORY;case e.AUTO_SHOW_REBATES_ORGANIC_NEW:return n.REBATES_ORGANIC;case e.AUTO_SHOW_REBATES_CHECKOUT:return n.REBATES_CHECKOUT;case e.AUTO_SHOW_PERSONALIZED_CASHBACK:return n.PERSONALIZED_CASHBACK;case e.AUTO_SHOW_PERSONALIZED_CASHBACK_CONFIRMATION:return n.PERSONALIZED_CASHBACK_CONFIRMATION;case e.AUTO_SHOW_EXPRESS_CHECKOUT:return n.EXPRESS_CHECKOUT;case e.AUTO_SHOW_SERVER_DRIVEN_REWARDS:return n.REWARDS;case e.AUTO_SHOW_COUPONS_CLIPPING:return n.COUPONS_CLIPPING;case e.AUTO_SHOW_OTHER_SELLERS:return n.OTHER_SELLER}return null}},{key:"manageMenuEvents",value:function(t,e){t.addEventListener("keydown",(function(n){"Escape"===n.key&&(e.style.backgroundColor="transparent",t.className="hide",e.ariaExpanded=void 0,e.focus(),n.preventDefault())})),e.addEventListener("focus",(function(){"hide"!==t.className&&(e.style.backgroundColor="transparent",t.className="hide",e.ariaExpanded=void 0)})),e.addEventListener("keydown",(function(n){"Escape"!==n.key&&"Tab"!==n.key||"hide"===t.className||(e.style.backgroundColor="transparent",t.className="hide",e.ariaExpanded=void 0,e.focus(),n.preventDefault())})),e.addEventListener("click",(function(n){if(t.classList.toggle("hide"),"hide"===t.className)e.style.backgroundColor="transparent",e.ariaExpanded="true";else{e.style.backgroundColor="rgba(0, 0, 0, 0.07)";var i=t.querySelectorAll("*")[0];i&&0===n.screenX&&0===n.screenY&&i.focus(),e.ariaExpanded=void 0}n.stopPropagation()}))}},{key:"addAutoShowItem",value:function(t,e){var n=this,i=document.createElement("fluent-menu-item"),r=document.createElement("DIV");this.isAutoOpenEnabledForFeature(e)?(r.innerHTML=E.Z.staticPolicy.createHTML(this.commonAssets.getDisableAutoOpen()),r.setAttribute("aria-hidden","true"),i.id="Enabled",i.className+="defaultFontFamily",i.textContent=this.flyoutData.strings.commonCMAutoShowDisable):(r.innerHTML=E.Z.staticPolicy.createHTML(this.commonAssets.getEnableAutoOpen()),r.setAttribute("aria-hidden","true"),i.id="Disabled",i.className+="defaultFontFamily",i.textContent=this.flyoutData.strings.commonCMAutoShowEnable),r.slot="start",i.appendChild(r);var o=this.pageHandlerModule,a=this.logModule;i.addEventListener("change",(function(t){if("Enabled"===i.id){i.textContent=n.flyoutData.strings.commonCMAutoShowEnable,i.id="Disabled";var r=document.createElement("DIV");r.slot="start",r.innerHTML=E.Z.staticPolicy.createHTML(n.commonAssets.getEnableAutoOpen()),r.setAttribute("aria-hidden","true"),i.appendChild(r);var s=new h.Z(f.$S.AutoShowTurnedOff);o.RecordAsUserAction(m.b.TURN_OFF_AUTO_SHOW);var l="Auto Show turned off";e&&(l="Auto Show turned off for "+e),a.LogInfoEvent(f.R.ButtonClick,l,s,v.g.CouponImpressionId),o.AllowAutoShow(!1,e)}else{i.textContent=n.flyoutData.strings.commonCMAutoShowDisable,i.id="Enabled";var c=document.createElement("DIV");c.slot="start",c.innerHTML=E.Z.staticPolicy.createHTML(n.commonAssets.getDisableAutoOpen()),c.setAttribute("aria-hidden","true"),i.appendChild(c);var u=new h.Z(f.$S.AutoShowTurnedOn);o.RecordAsUserAction(m.b.TURN_ON_AUTO_SHOW);var d="Auto Show turned on";e&&(d="Auto Show turned on for "+e),a.LogInfoEvent(f.R.ButtonClick,d,u,v.g.CouponImpressionId),o.AllowAutoShow(!0,e)}t.stopPropagation()})),i.addEventListener("click",(function(t){t.stopPropagation()})),t.appendChild(i)}},{key:"isAutoOpenEnabledForFeature",value:function(t){if(this.flyoutData.experimentData.isExperimentActive(b.H.autoShowControlForFeature)&&t){var e=this.getFeatureFromPopupOrigination(t);if(void 0!==this.flyoutData.common.autoshowFeaturePref&&e)return(this.flyoutData.common.autoshowFeaturePref&e)!==e}return this.flyoutData.common.autoShowAllowed}},{key:"addRebatesFlow",value:function(t,e){var n=this;if(""!==this.flyoutData.strings.cbFindAutomatically&&""!==this.flyoutData.strings.cbDontFindAutomatically){var i=this.flyoutData.strings.cbFindAutomatically,r=this.flyoutData.strings.cbDontFindAutomatically,o=document.createElement("fluent-menu-item"),a=document.createElement("DIV");e?(a.innerHTML=E.Z.staticPolicy.createHTML(this.commonAssets.getDisableAutoOpen()),a.setAttribute("aria-hidden","true"),o.id="Enabled",o.className+="defaultFontFamily",o.textContent=r):(a.innerHTML=E.Z.staticPolicy.createHTML(this.commonAssets.getEnableAutoOpen()),a.setAttribute("aria-hidden","true"),o.id="Disabled",o.className+="defaultFontFamily",o.textContent=i),a.slot="start",o.appendChild(a);var s=this.pageHandlerModule,l=this.logModule;o.addEventListener("change",(function(t){if("Enabled"===o.id){o.textContent=i,o.id="Disabled";var e=document.createElement("DIV");e.slot="start",e.innerHTML=E.Z.staticPolicy.createHTML(n.commonAssets.getEnableAutoOpen()),e.setAttribute("aria-hidden","true"),o.appendChild(e);var a=new h.Z(f.$S.OrganicFlowTurnedOff);l.LogInfoEvent(f.R.ButtonClick,"Organic flow turned off",a),s.SetAllowOrganicRebates(!1)}else{o.textContent=r,o.id="Enabled";var c=document.createElement("DIV");c.slot="start",c.innerHTML=E.Z.staticPolicy.createHTML(n.commonAssets.getDisableAutoOpen()),c.setAttribute("aria-hidden","true"),o.appendChild(c);var u=new h.Z(f.$S.OrganicFlowTurnedOn);l.LogInfoEvent(f.R.ButtonClick,"Organic flow turned on",u),s.SetAllowOrganicRebates(!0)}t.stopPropagation()})),o.addEventListener("click",(function(t){t.stopPropagation()})),t.appendChild(o)}}},{key:"styleModules",value:function(t,e){var n=this,i=t.element.shadowRoot,r=t.name;if(i){var o=i.querySelector("fluent-accordion-item");this.utilities.styleModulesHeader(i,e,t.element,r,this.stateManagement.getState(x.IY.canRenderCashback));var a=i.querySelector(".action");a&&(a.style.marginInlineStart="0px",a.style.height="auto"),o&&(o.onclick=function(){o.classList.contains("expanded")||n.scrollModuleIntoView(o)})}}},{key:"scrollModuleIntoView",value:function(t){setTimeout((function(){t.scrollIntoView(!0)}),500)}},{key:"setContentViewed",value:function(t){if(!t)return null;switch(t){case g.GX.COUPON:return y.r.COUPONS_AVAILABLE;case g.GX.CASHBACK:return y.r.REBATES_ACTIVATE_CASHBACK;case g.GX.COUPONCLIPPING:return y.r.COUPONS_CLIPPING;case g.GX.DEALS:return y.r.DEALS;case g.GX.RECOMMENDATIONS:return y.r.RECOMMENDATIONS;case g.GX.SIMILARSELLERS:return y.r.OTHER_SELLER;default:return null}}}]),l}(k)},6844:function(t,e,n){"use strict";var i,r,o,a,s,l,c,u,d,h,p,f,g;n.d(e,{aM:function(){return i},CS:function(){return r},AS:function(){return o},Q2:function(){return a},m5:function(){return s},Te:function(){return l},iM:function(){return c},vu:function(){return u},H7:function(){return h},GX:function(){return p},FA:function(){return f},aE:function(){return g}}),function(t){t.Large="txtLarge",t.Medium="txtMedium",t.Small="txtSmall",t.EmptyCoupon="txtEmptyCoupons"}(i||(i={})),function(t){t[t.COUPON=2]="COUPON",t[t.DEAL=2]="DEAL",t[t.PRICECOMPARISON=3]="PRICECOMPARISON",t[t.RECOMMENDATIONS=4]="RECOMMENDATIONS",t[t.SIMILARSELLERS=1]="SIMILARSELLERS",t[t.PRODUCTHISTORY=3]="PRODUCTHISTORY",t[t.TIPS=4]="TIPS"}(r||(r={})),function(t){t[t.Desktop=1]="Desktop",t[t.Mobile=2]="Mobile"}(o||(o={})),function(t){t[t.Dark=1]="Dark",t[t.Light=2]="Light"}(a||(a={})),function(t){t[t.LTR=1]="LTR",t[t.RTL=2]="RTL"}(s||(s={})),function(t){t.Mouse="mouse",t.Keyboard="keyboard",t.Auto="auto",t.Banner="banner"}(l||(l={})),function(t){t.currency="placeholderCurrency"}(c||(c={})),function(t){t.Shipping="shipping",t.Used="Used",t.New="New",t.Refurbished="Refurbished",t.PriceDrop="price drop"}(u||(u={})),function(t){t.clippedSpan="clippedSpan"}(d||(d={})),function(t){t[t.REWARD=1]="REWARD",t[t.COUPON=2]="COUPON",t[t.PRICEHISTORY=3]="PRICEHISTORY",t[t.PRICECOMPARISON=4]="PRICECOMPARISON",t[t.CASHBACK=5]="CASHBACK",t[t.COUPONCLIPPING=6]="COUPONCLIPPING",t[t.DEALS=7]="DEALS",t[t.RATINGSANDREVIEWS=8]="RATINGSANDREVIEWS",t[t.CHECKOUTAUTOFILL=9]="CHECKOUTAUTOFILL",t[t.RECOMMENDATIONS=10]="RECOMMENDATIONS",t[t.PRODUCTHISTORY=11]="PRODUCTHISTORY",t[t.SIMILARSELLERS=13]="SIMILARSELLERS",t[t.TIPS=14]="TIPS",t[t.MAX=15]="MAX"}(h||(h={})),function(t){t.CHECKOUTAUTOFILL="CHECKOUTAUTOFILL",t.COUPON="COUPON",t.PRICECOMPARISON="PRICECOMPARISON",t.CASHBACK="CASHBACK",t.EMPTYCOUPON="EMPTYCOUPON",t.PRICEHISTORY="PRICEHISTORY",t.COUPONCLIPPING="COUPONCLIPPING",t.DEALS="DEALS",t.NUDGETIPSDATA="NUDGETIPSDATA",t.RATINGSANDREVIEWS="RATINGSANDREVIEWS",t.RECOMMENDATIONS="RECOMMENDATIONS",t.SIMILARSELLERS="SIMILARSELLERS",t.PRODUCTHISTORY="PRODUCTHISTORY",t.REWARD="REWARD",t.TIPS="TIPS"}(p||(p={})),function(t){t[t.ACTIVATED=19]="ACTIVATED",t[t.FAILED=2]="FAILED",t[t.FAILED_ACTIVATION_ATTRIBUTION_NAVIGATION_LOAD=17]="FAILED_ACTIVATION_ATTRIBUTION_NAVIGATION_LOAD",t[t.FAILED_ACTIVATION_ATTRIBUTION_NAVIGATION_TIMED_OUT=18]="FAILED_ACTIVATION_ATTRIBUTION_NAVIGATION_TIMED_OUT",t[t.FAILED_ACTIVATION_ENROLL_NAVIGATION_LOAD=15]="FAILED_ACTIVATION_ENROLL_NAVIGATION_LOAD",t[t.FAILED_ACTIVATION_ENROLL_NAVIGATION_TIMED_OUT=16]="FAILED_ACTIVATION_ENROLL_NAVIGATION_TIMED_OUT",t[t.FAILED_ACTIVATION_INVALID_JSON=12]="FAILED_ACTIVATION_INVALID_JSON",t[t.FAILED_ACTIVATION_NO_RETAILER_DATA=10]="FAILED_ACTIVATION_NO_RETAILER_DATA",t[t.FAILED_ACTIVATION_URL_FETCH=11]="FAILED_ACTIVATION_URL_FETCH",t[t.FAILED_ACTIVATION_URL_INVALID=14]="FAILED_ACTIVATION_URL_INVALID",t[t.FAILED_ACTIVATION_URL_PARSING=13]="FAILED_ACTIVATION_URL_PARSING",t[t.FAILED_SIGN_INTO_PROFILE=5]="FAILED_SIGN_INTO_PROFILE",t[t.FAILED_SWITCH_TO_MSA_DECLINED=4]="FAILED_SWITCH_TO_MSA_DECLINED",t[t.FAILED_SWITCH_TO_MSA_PROFILE=3]="FAILED_SWITCH_TO_MSA_PROFILE",t[t.MAX_VALUE=18]="MAX_VALUE",t[t.MIN_VALUE=0]="MIN_VALUE",t[t.NOT_ACTIVATING=0]="NOT_ACTIVATING",t[t.PENDING_ACTIVATION_IN_PROFILE=9]="PENDING_ACTIVATION_IN_PROFILE",t[t.PENDING_ENROLL_REBATES_USER=6]="PENDING_ENROLL_REBATES_USER",t[t.PENDING_SIGN_INTO_PROFILE=8]="PENDING_SIGN_INTO_PROFILE",t[t.PENDING_SWITCH_TO_MSA_PROFILE=7]="PENDING_SWITCH_TO_MSA_PROFILE",t[t.STARTED=1]="STARTED"}(f||(f={})),function(t){t[t.NOT_ACTIVATING=0]="NOT_ACTIVATING",t[t.STARTED=1]="STARTED",t[t.FAILED=2]="FAILED",t[t.FAILED_SWITCH_TO_MSA_PROFILE=3]="FAILED_SWITCH_TO_MSA_PROFILE",t[t.FAILED_SWITCH_TO_MSA_DECLINED=4]="FAILED_SWITCH_TO_MSA_DECLINED",t[t.FAILED_SIGN_INTO_PROFILE=5]="FAILED_SIGN_INTO_PROFILE",t[t.PENDING_ENROLL_REWARDS_USER=6]="PENDING_ENROLL_REWARDS_USER",t[t.PENDING_SWITCH_TO_MSA_PROFILE=7]="PENDING_SWITCH_TO_MSA_PROFILE",t[t.PENDING_SIGN_INTO_PROFILE=8]="PENDING_SIGN_INTO_PROFILE",t[t.PENDING_ACTIVATION_IN_PROFILE=9]="PENDING_ACTIVATION_IN_PROFILE",t[t.FAILED_ACTIVATION_ENROLL_NAVIGATION_LOAD=10]="FAILED_ACTIVATION_ENROLL_NAVIGATION_LOAD",t[t.FAILED_ACTIVATION_ENROLL_NAVIGATION_TIMED_OUT=11]="FAILED_ACTIVATION_ENROLL_NAVIGATION_TIMED_OUT",t[t.FAILED_ACTIVATION_ATTRIBUTION_NAVIGATION_LOAD=12]="FAILED_ACTIVATION_ATTRIBUTION_NAVIGATION_LOAD",t[t.FAILED_ACTIVATION_ATTRIBUTION_NAVIGATION_TIMED_OUT=13]="FAILED_ACTIVATION_ATTRIBUTION_NAVIGATION_TIMED_OUT",t[t.ACTIVATED=14]="ACTIVATED"}(g||(g={}))},1660:function(t,e,n){"use strict";var i;n.d(e,{g:function(){return i}}),function(t){t.EdgeImpressionId="EdgeImpressionId",t.CouponImpressionId="CouponImpressionId",t.DomainName="DomainName",t.Client="Client"}(i||(i={}))},8320:function(t,e,n){"use strict";var i,r;n.d(e,{b:function(){return i}}),function(t){t.COUPONS_COPIED="COUPONS_COPIED",t.DISMISSED="DISMISSED",t.FRE_DISMISSED="FRE_DISMISSED",t.FRE_GOT_IT="FRE_GOT_IT",t.FRE_MANAGE="FRE_MANAGE",t.FRE_NO_THANKS="FRE_NO_THANKS",t.FRE_SETTINGS="FRE_SETTINGS",t.MANAGE="MANAGE",t.NAVIGATE_TO_RETAILER="NAVIGATE_TO_RETAILER",t.TRY_ALL_COUPONS="TRY_ALL_COUPONS",t.TURN_OFF_AUTO_SHOW="TURN_OFF_AUTO_SHOW",t.TURN_ON_AUTO_SHOW="TURN_ON_AUTO_SHOW",t.VIEW_MORE_COUPONS="VIEW_MORE_COUPONS",t.VIEW_MORE_RETAILERS="VIEW_MORE_RETAILERS",t.LIGHT_DISMISSED="LIGHT_DISMISSED",t.SHOW_MORE_SELLERS="SHOW_MORE_SELLERS",t.REBATES_LEARN_MORE="REBATES_LEARN_MORE",t.REBATES_ACCOUNT="REBATES_ACCOUNT",t.REBATES_HISTORY="REBATES_HISTORY",t.ACTIVATE_CASHBACK="ACTIVATE_CASHBACK",t.EXPAND_PRICE_HISTORY_GRAPH="EXPAND_PRICE_HISTORY_GRAPH",t.HIDE_PRICE_HISTORY_GRAPH="HIDE_PRICE_HISTORY_GRAPH",t.FIRST_HOVER_PRICE_HISTORY_GRAPH="FIRST_HOVER_PRICE_HISTORY_GRAPH",t.VIEW_PRICE_HISTORY="VIEW_PRICE_HISTORY",t.HIDE_PRICE_HISTORY="HIDE_PRICE_HISTORY",t.NAVIGATE_TO_DEAL_OFFER="NAVIGATE_TO_DEAL_OFFER",t.NAVIGATE_TO_PROFESSIONAL_REVIEW="NAVIGATE_TO_PROFESSIONAL_REVIEW",t.NAVIGATE_TO_VIDEO_REVIEW="NAVIGATE_TO_VIDEO_REVIEW",t.TRY_ALL_COUPON_WITH_EXPRESS_CHECKOUT="TRY_ALL_COUPON_WITH_EXPRESS_CHECKOUT",t.EXPRESS_CHECKOUT="EXPRESS_CHECKOUT",t.NAVIGATE_TO_RECOMMENDATION_OFFER="NAVIGATE_TO_RECOMMENDATION_OFFER",t.CLIP_COUPON="CLIP_COUPON",t.ACTIVATE_CASHBACK_NEW="ACTIVATE_CASHBACK_NEW",t.NAVIGATE_TO_OTHER_SELLER="NAVIGATE_TO_OTHER_SELLER",t.ADD_TO_CART_FROM_OTHER_SELLER="ADD_TO_CART_FROM_OTHER_SELLER",t.PRODUCT_HISTORY_NAVIGATION="PRODUCT_HISTORY_NAVIGATION",t.PRODUCT_HISTORY_EXPAND_SECTION="PRODUCT_HISTORY_EXPAND_SECTION",t.PRODUCT_HISTORY_COLLAPSE_SECTION="PRODUCT_HISTORY_COLLAPSE_SECTION",t.TIPS_CLICK="TIPS_CLICK"}(i||(i={})),function(t){t[t.COUPONS_COPIED=0]="COUPONS_COPIED",t[t.DISMISSED=1]="DISMISSED",t[t.FRE_DISMISSED=2]="FRE_DISMISSED",t[t.FRE_GOT_IT=3]="FRE_GOT_IT",t[t.FRE_MANAGE=4]="FRE_MANAGE",t[t.FRE_NO_THANKS=5]="FRE_NO_THANKS",t[t.FRE_SETTINGS=6]="FRE_SETTINGS",t[t.MANAGE=7]="MANAGE",t[t.NAVIGATE_TO_RETAILER=8]="NAVIGATE_TO_RETAILER",t[t.TRY_ALL_COUPONS=9]="TRY_ALL_COUPONS",t[t.TURN_OFF_AUTO_SHOW=10]="TURN_OFF_AUTO_SHOW",t[t.TURN_ON_AUTO_SHOW=11]="TURN_ON_AUTO_SHOW",t[t.VIEW_MORE_COUPONS=12]="VIEW_MORE_COUPONS",t[t.VIEW_MORE_RETAILERS=13]="VIEW_MORE_RETAILERS",t[t.LIGHT_DISMISSED=14]="LIGHT_DISMISSED",t[t.SHOW_MORE_SELLERS=15]="SHOW_MORE_SELLERS",t[t.REBATES_LEARN_MORE=16]="REBATES_LEARN_MORE",t[t.REBATES_ACCOUNT=17]="REBATES_ACCOUNT",t[t.REBATES_HISTORY=18]="REBATES_HISTORY",t[t.ACTIVATE_CASHBACK=19]="ACTIVATE_CASHBACK",t[t.EXPAND_PRICE_HISTORY_GRAPH=20]="EXPAND_PRICE_HISTORY_GRAPH",t[t.HIDE_PRICE_HISTORY_GRAPH=21]="HIDE_PRICE_HISTORY_GRAPH",t[t.FIRST_HOVER_PRICE_HISTORY_GRAPH=22]="FIRST_HOVER_PRICE_HISTORY_GRAPH",t[t.VIEW_PRICE_HISTORY=23]="VIEW_PRICE_HISTORY",t[t.HIDE_PRICE_HISTORY=24]="HIDE_PRICE_HISTORY",t[t.NAVIGATE_TO_DEAL_OFFER=25]="NAVIGATE_TO_DEAL_OFFER",t[t.NAVIGATE_TO_PROFESSIONAL_REVIEW=26]="NAVIGATE_TO_PROFESSIONAL_REVIEW",t[t.NAVIGATE_TO_VIDEO_REVIEW=27]="NAVIGATE_TO_VIDEO_REVIEW",t[t.TRY_ALL_COUPON_WITH_EXPRESS_CHECKOUT=28]="TRY_ALL_COUPON_WITH_EXPRESS_CHECKOUT",t[t.EXPRESS_CHECKOUT=29]="EXPRESS_CHECKOUT",t[t.NAVIGATE_TO_RECOMMENDATION_OFFER=30]="NAVIGATE_TO_RECOMMENDATION_OFFER",t[t.CLIP_COUPON=31]="CLIP_COUPON",t[t.ACTIVATE_CASHBACK_NEW=32]="ACTIVATE_CASHBACK_NEW",t[t.ACTIVATE_REWARDS_NEW=33]="ACTIVATE_REWARDS_NEW",t[t.ADD_TO_CART_FROM_OTHER_SELLER=34]="ADD_TO_CART_FROM_OTHER_SELLER",t[t.PRODUCT_HISTORY_NAVIGATION=35]="PRODUCT_HISTORY_NAVIGATION",t[t.PRODUCT_HISTORY_EXPAND_SECTION=36]="PRODUCT_HISTORY_EXPAND_SECTION",t[t.PRODUCT_HISTORY_COLLAPSE_SECTION=37]="PRODUCT_HISTORY_COLLAPSE_SECTION",t[t.NAVIGATE_TO_OTHER_SELLER=38]="NAVIGATE_TO_OTHER_SELLER",t[t.TIPS_CLICK=39]="TIPS_CLICK"}(r||(r={}))},2309:function(t,e,n){"use strict";var i,r;n.d(e,{r:function(){return i}}),function(t){t.COUPONS_AVAILABLE="COUPONS_AVAILABLE",t.COUPONS_AUTO_APPLY="COUPONS_AUTO_APPLY",t.COUPONS_CLIPPING="COUPONS_CLIPPING",t.PRICE_COMPARE_LOWER_PRICES="PRICE_COMPARE_LOWER_PRICES",t.PRICE_COMPARE_BEST_PRICE="PRICE_COMPARE_BEST_PRICE",t.PRICE_COMPARE_SHOW_MORE_SELLERS="PRICE_COMPARE_SHOW_MORE_SELLERS",t.REBATES_ACTIVATE_CASHBACK="REBATES_ACTIVATE_CASHBACK",t.REBATES_BING_CONFIRMATION="REBATES_BING_CONFIRMATION",t.PRICE_HISTORY_DROP="PRICE_HISTORY_DROP",t.PRICE_HISTORY_STABLE="PRICE_HISTORY_STABLE",t.PRICE_HISTORY_INCREASE="PRICE_HISTORY_INCREASE",t.DEALS="DEALS",t.PROFESSIONAL_REVIEWS="PROFESSIONAL_REVIEWS",t.VIDEO_REVIEWS="VIDEO_REVIEWS",t.RECOMMENDATIONS="RECOMMENDATIONS",t.ACTIVATE_CASHBACK_NEW="ACTIVATE_CASHBACK_NEW",t.EXPRESS_CHECKOUT="EXPRESS_CHECKOUT",t.ACTIVATE_REWARDS_NEW="ACTIVATE_REWARDS_NEW",t.OTHER_SELLER="OTHER_SELLER",t.PRODUCT_HISTORY="PRODUCT_HISTORY"}(i||(i={})),function(t){t[t.COUPONS_AVAILABLE=0]="COUPONS_AVAILABLE",t[t.COUPONS_AUTO_APPLY=1]="COUPONS_AUTO_APPLY",t[t.COUPONS_CLIPPING=2]="COUPONS_CLIPPING",t[t.PRICE_COMPARE_LOWER_PRICES=3]="PRICE_COMPARE_LOWER_PRICES",t[t.PRICE_COMPARE_BEST_PRICE=4]="PRICE_COMPARE_BEST_PRICE",t[t.PRICE_COMPARE_SHOW_MORE_SELLERS=5]="PRICE_COMPARE_SHOW_MORE_SELLERS",t[t.REBATES_ACTIVATE_CASHBACK=6]="REBATES_ACTIVATE_CASHBACK",t[t.REBATES_BING_CONFIRMATION=7]="REBATES_BING_CONFIRMATION",t[t.PRICE_HISTORY_DROP=8]="PRICE_HISTORY_DROP",t[t.PRICE_HISTORY_STABLE=9]="PRICE_HISTORY_STABLE",t[t.PRICE_HISTORY_INCREASE=10]="PRICE_HISTORY_INCREASE",t[t.DEALS=11]="DEALS",t[t.PROFESSIONAL_REVIEWS=12]="PROFESSIONAL_REVIEWS",t[t.VIDEO_REVIEWS=13]="VIDEO_REVIEWS",t[t.RECOMMENDATIONS=14]="RECOMMENDATIONS",t[t.ACTIVATE_CASHBACK_NEW=15]="ACTIVATE_CASHBACK_NEW",t[t.EXPRESS_CHECKOUT=16]="EXPRESS_CHECKOUT",t[t.ACTIVATE_REWARDS_NEW=17]="ACTIVATE_REWARDS_NEW",t[t.OTHER_SELLER=18]="OTHER_SELLER",t[t.PRODUCT_HISTORY=19]="PRODUCT_HISTORY"}(r||(r={}))},9628:function(t,e,n){"use strict";var i,r;n.d(e,{s:function(){return i}}),function(t){t[t.AUTO_SHOW_FRE=0]="AUTO_SHOW_FRE",t[t.AUTO_SHOW_COUPONS_CHECKOUT=1]="AUTO_SHOW_COUPONS_CHECKOUT",t[t.GOT_IT=2]="GOT_IT",t[t.BUTTON_FRE=3]="BUTTON_FRE",t[t.BUTTON=4]="BUTTON",t[t.AUTO_SHOW_LOWER_PRICE_FOUND=5]="AUTO_SHOW_LOWER_PRICE_FOUND",t[t.AUTO_SHOW_BING_SEARCH=6]="AUTO_SHOW_BING_SEARCH",t[t.AUTO_SHOW_REBATES=7]="AUTO_SHOW_REBATES",t[t.AUTO_SHOW_REBATES_CONFIRMATION=8]="AUTO_SHOW_REBATES_CONFIRMATION",t[t.AUTO_SHOW_REBATES_DEACTIVATED=9]="AUTO_SHOW_REBATES_DEACTIVATED",t[t.AUTO_SHOW_REBATES_BING=10]="AUTO_SHOW_REBATES_BING",t[t.AUTO_SHOW_REBATES_ORGANIC=11]="AUTO_SHOW_REBATES_ORGANIC",t[t.BANNER=12]="BANNER",t[t.AUTO_SHOW_PRICE_HISTORY=13]="AUTO_SHOW_PRICE_HISTORY",t[t.AUTO_SHOW_REBATES_ORGANIC_NEW=14]="AUTO_SHOW_REBATES_ORGANIC_NEW",t[t.AUTO_SHOW_REBATES_CHECKOUT=15]="AUTO_SHOW_REBATES_CHECKOUT",t[t.AUTO_SHOW_SERVER_DRIVEN_CHECKOUT=16]="AUTO_SHOW_SERVER_DRIVEN_CHECKOUT",t[t.AUTO_SHOW_PERSONALIZED_CASHBACK=17]="AUTO_SHOW_PERSONALIZED_CASHBACK",t[t.AUTO_SHOW_PERSONALIZED_CASHBACK_CONFIRMATION=18]="AUTO_SHOW_PERSONALIZED_CASHBACK_CONFIRMATION",t[t.AUTO_SHOW_URL_PARAM_REBATES=19]="AUTO_SHOW_URL_PARAM_REBATES",t[t.AUTO_SHOW_URL_PARAM_PRICE_COMPARISON=20]="AUTO_SHOW_URL_PARAM_PRICE_COMPARISON",t[t.AUTO_SHOW_URL_PARAM_PRICE_HISTORY=21]="AUTO_SHOW_URL_PARAM_PRICE_HISTORY",t[t.AUTO_SHOW_EXPRESS_CHECKOUT=22]="AUTO_SHOW_EXPRESS_CHECKOUT",t[t.AUTO_SHOW_SERVER_DRIVEN_ALL_PAGES=23]="AUTO_SHOW_SERVER_DRIVEN_ALL_PAGES",t[t.AUTO_SHOW_SERVER_DRIVEN_CONFIRMATION_PAGE=24]="AUTO_SHOW_SERVER_DRIVEN_CONFIRMATION_PAGE",t[t.AUTO_SHOW_SERVER_DRIVEN_HOME_PAGE=25]="AUTO_SHOW_SERVER_DRIVEN_HOME_PAGE",t[t.AUTO_SHOW_SERVER_DRIVEN_REWARDS=26]="AUTO_SHOW_SERVER_DRIVEN_REWARDS",t[t.AUTO_SHOW_COUPONS_CLIPPING=27]="AUTO_SHOW_COUPONS_CLIPPING",t[t.AUTO_SHOW_REBATES_ACTIVATION_FAILED=28]="AUTO_SHOW_REBATES_ACTIVATION_FAILED",t[t.AUTO_SHOW_REBATES_SWITCHED_TO_MSA=29]="AUTO_SHOW_REBATES_SWITCHED_TO_MSA",t[t.AUTO_SHOW_NOTIFICATION=30]="AUTO_SHOW_NOTIFICATION",t[t.AUTO_SHOW_OTHER_SELLERS=31]="AUTO_SHOW_OTHER_SELLERS",t[t.AUTO_SHOW_ITEM_ADDED_TO_CART_FROM_OTHER_SELLER=32]="AUTO_SHOW_ITEM_ADDED_TO_CART_FROM_OTHER_SELLER"}(i||(i={})),function(t){t[t.NONE=0]="NONE",t[t.COUPONS_CHECKOUT=1]="COUPONS_CHECKOUT",t[t.COUPONS_CLIPPING=2]="COUPONS_CLIPPING",t[t.PRICE_COMPARE=4]="PRICE_COMPARE",t[t.PRICE_HISTORY=8]="PRICE_HISTORY",t[t.REBATES_CONFIRMATION=16]="REBATES_CONFIRMATION",t[t.REBATES_BING=32]="REBATES_BING",t[t.REBATES_ORGANIC=64]="REBATES_ORGANIC",t[t.REBATES_CHECKOUT=128]="REBATES_CHECKOUT",t[t.PERSONALIZED_CASHBACK=256]="PERSONALIZED_CASHBACK",t[t.PERSONALIZED_CASHBACK_CONFIRMATION=512]="PERSONALIZED_CASHBACK_CONFIRMATION",t[t.EXPRESS_CHECKOUT=1024]="EXPRESS_CHECKOUT",t[t.REWARDS=2048]="REWARDS",t[t.OTHER_SELLER=4096]="OTHER_SELLER"}(r||(r={}))},8939:function(t,e,n){"use strict";var i;n.d(e,{H:function(){return i}}),function(t){t.autoShowControlForFeature="msEdgeShoppingAutoShowControlForFeature",t.bannerShowCashback="msEdgeShoppingBannerRebates",t.bannerShowCoupons="msEdgeShoppingBannerCoupons",t.bannerShowPriceComparison="msEdgeShoppingBannerPriceCompare",t.bannerShowPriceHistory="msEdgeShoppingBannerPriceHistory",t.cashbackNotification="msShoppingExp11",t.dealsBranding="msShoppingExp18",t.expressCheckout="msEdgeShoppingExpressCheckout",t.expressCheckoutFillDetails="msEdgeShoppingExpressCheckoutFillDetails",t.personalizedCashBack="msShoppingExp10",t.poleReviewsIfBestPrice="msShoppingExp7",t.poleReviewsIfNoDrop="msShoppingExp8",t.promotionsCashback="msShoppingExp15",t.rewardFlyout="msEdgeShoppingRewards",t.rewardNotification="msShoppingExp16",t.removeRebatesProcessingState="msShoppingExp5",t.showAmazonOtherSellers="msShoppingExp6",t.showMoreSellers="msShoppingExp3",t.showNudgeTips="msShoppingExp0",t.showNudgeTipsOverlay="msShoppingExp17",t.showPriceComparisonNotification="msShoppingExp14",t.showProductHistory="msWebAssistQuery",t.showRecommendations="msShoppingExp19",t.serverSideRenderingEnabled="msEdgeServerSideShopping",t.signinRebates="msEdgeShoppingRebatesSignUp",t.signinRewards="msEdgeShoppingRewardsSignUp",t.animationAutoApply="msShoppingExp12",t.showTrendingProducts="msShoppingExp1",t.expandOnHover="msShoppingExp9",t.microNotification="msEdgeShoppingNotifications"}(i||(i={}))},4335:function(t,e,n){"use strict";var i=n(2679),r=n(3874),o=n(5133),a=n(3082),s=n(2763),l=n(2556),c=n(6844),u=n(8320),d=n(3242),h=function(){function t(e,n,r,a,s,l){(0,i.Z)(this,t),(0,o.Z)(this,"logModule",void 0),(0,o.Z)(this,"pageHandlerModule",void 0),(0,o.Z)(this,"strings",void 0),(0,o.Z)(this,"currentTheme",void 0),(0,o.Z)(this,"currentDirection",void 0),(0,o.Z)(this,"commonAssets",void 0),this.logModule=e,this.pageHandlerModule=n,this.strings=r,this.currentTheme=a,this.currentDirection=s,this.commonAssets=l}return(0,r.Z)(t,[{key:"renderErrorUI",value:function(){var t=document.querySelector("#divContentWrapper");if(t){var e=document.createElement("msft-edge-shopping");this.addCommonStyles(e);var n=this.createElement("DIV",{id:"emptyCouponDiv",style:"display: flex; flex-direction: column; justify-content: center; align-items: center; margin-bottom: 12px;"}),i=this.createElement("DIV",{style:"margin: 20px;"});i.innerHTML=d.Z.staticPolicy.createHTML(this.commonAssets.getErrorImage()),i.setAttribute("aria-hidden","true");var r=this.createElement("P",{style:"font-weight: 600; margin-top: 5px; color: #666666;"});r.className=c.aM.EmptyCoupon,r.textContent="It's not you, it's us";var o=this.createElement("P",{style:"margin-top: 5px; color: #666666;"});o.className=c.aM.Small,o.textContent="We will be back soon",n.appendChild(i),n.appendChild(r),n.appendChild(o),n.slot="header-content",e.appendChild(n),e.fixedTitle="Shopping in Microsoft Edge";try{this.addHeaderIcon(e),this.createCloseButton(!1,e)}catch(t){}var a=new s.Z(l.xu.OnErrorInvoked);this.logModule.LogErrorEvent(l.R.EdgeFlyoutStatus,"User saw error page",a),t.appendChild(e)}}},{key:"createElement",value:function(t,e,n){var i=document.createElement(t);if(e)for(var r in e)e.hasOwnProperty(r)&&i.setAttribute(r,e[r]);return n&&(i.innerText=n),i}},{key:"createCloseButton",value:function(t,e){var n,i=document.createElement("fluent-button");i.slot="header-actions",null!==(n=this.strings)&&void 0!==n&&n.commonClose?i.ariaLabel=this.strings.commonClose:i.ariaLabel="close",i.id="btnFlyoutClose";var r=this.createElement("DIV");r.setAttribute("aria-hidden","true"),r.innerHTML=d.Z.staticPolicy.createHTML(this.commonAssets.getCloseButton()),i.appearance="stealth",i.appendChild(r);var o=this.pageHandlerModule,s=this.logModule;i.addEventListener("click",(function(){if(t){if(t){var e=new a.Z(l.$S.NotificationDismiss);o.RecordAsUserAction(u.b.DISMISSED),s.LogInfoEvent(l.R.ButtonClick,"Notification Dismissed",e)}}else{var n=new a.Z(l.$S.FlyoutDismiss);o.RecordAsUserAction(u.b.DISMISSED),s.LogInfoEvent(l.R.ButtonClick,"Flyout Dismissed",n)}o.DismissPopup()})),e.appendChild(i)}},{key:"addHeaderIcon",value:function(t){var e=document.createElement("DIV");e.innerHTML=d.Z.staticPolicy.createHTML(this.commonAssets.getHeaderIcon()),e.slot="header-icon",t.appendChild(e)}},{key:"addCommonStyles",value:function(t){if(t){var e,n=document.querySelector("fluent-design-system-provider");if(n)this.currentTheme===c.Q2.Dark?n.setAttribute("background-color","#4a4a4a"):n.setAttribute("background-color","#FFFFFF"),this.currentDirection===c.m5.RTL?n.style.direction="rtl":n.style.direction="ltr",null!==(e=this.strings)&&void 0!==e&&e.commonFixedTitle?n.setAttribute("aria-label",this.strings.commonFixedTitle):n.setAttribute("aria-label","Shopping in Microsoft Edge");this.applyStyles(t,this.commonAssets.getStyles())}}},{key:"applyStyles",value:function(t,e){var n=this.createElement("STYLE");n.textContent=e,n.type="text/css",n.rel="stylesheet",t.appendChild(n)}}]),t}();e.Z=h},1640:function(t,e,n){"use strict";n.d(e,{e1:function(){return i},IY:function(){return r}});var i,r,o=n(2679),a=n(3874),s=n(5133),l=n(2763),c=n(2556),u=n(1660);!function(t){t.onCashbackActivationError="onCashbackActivationError",t.onCashBackActivated="onCashBackActivated",t.StyleActivatedState="StyleActivatedState",t.StyleProcessingState="StyleProcessingState",t.CreateCommissionArrow="CreateCommissionArrow",t.CheckoutPopulateMainHeader="CheckoutPopulateMainHeader",t.CreateModules="CreateModules",t.CreateInlineRating="CreateInlineRating",t.ModulesRendered="ModulesRendered"}(i||(i={})),function(t){t.isAutoApplyVisible="isAutoApplyVisible",t.canRenderCashback="canRenderCashback",t.topModuleName="topModuleName",t.topModulePriority="topModulePriority",t.renderedViewModuleCount="renderedViewModuleCount",t.cashbackModuleOnTop="cashbackModuleOnTop"}(r||(r={}));var d=function(){function t(e,n){(0,o.Z)(this,t),(0,s.Z)(this,"logModule",void 0),(0,s.Z)(this,"shopping",void 0),this.logModule=e,this.shopping=n,this.cleanStateMapping()}return(0,a.Z)(t,[{key:"getState",value:function(e){return t.stateMapping.get(e)}},{key:"setState",value:function(e,n){t.stateMapping.set(e,n)}},{key:"addEventListener",value:function(t,e){try{this.shopping.addEventListener(t,e)}catch(e){var n=u.g.EdgeImpressionId,i=new l.Z(c.xu.OnErrorInvoked);this.logModule.LogErrorEvent(c.R.EdgeFlyoutStatus,"addEventListener exception: ".concat(t," ").concat(e),i,n)}}},{key:"dispatchEvent",value:function(t){try{this.shopping.dispatchEvent(t)}catch(i){var e=u.g.EdgeImpressionId,n=new l.Z(c.xu.OnErrorInvoked);this.logModule.LogErrorEvent(c.R.EdgeFlyoutStatus,"dispatchEvent exception: ".concat(null==t?void 0:t.type," ").concat(i),n,e)}}},{key:"cleanStateMapping",value:function(){t.stateMapping=new Map}}]),t}();(0,s.Z)(d,"stateMapping",new Map),e.ZP=d},3242:function(t,e,n){"use strict";n.d(e,{Z:function(){return Rt}});var i=n(2679),r=n(3874),o=n(5133),a=n(6237),s=n(3687),l=n(3393),c=n(5263),u=n(6790),d=n(535),h=n(9226),p=n(4595);var f=function(t){return function(){return t}};var g=function(t){return function(e,n,i){for(var r=-1,o=Object(e),a=i(e),s=a.length;s--;){var l=a[t?s:++r];if(!1===n(o[l],l,o))break}return e}}();var v=function(t,e){for(var n=-1,i=Array(t);++n<t;)i[n]=e(n);return i},m=n(6685),y=n(2677);var C=function(t){return(0,y.Z)(t)&&"[object Arguments]"==(0,m.Z)(t)},b=Object.prototype,S=b.hasOwnProperty,x=b.propertyIsEnumerable,E=C(function(){return arguments}())?C:function(t){return(0,y.Z)(t)&&S.call(t,"callee")&&!x.call(t,"callee")},w=n(6248),A=n(6672);var I=function(){return!1},k="object"==typeof exports&&exports&&!exports.nodeType&&exports,D=k&&"object"==typeof module&&module&&!module.nodeType&&module,T=D&&D.exports===k?A.Z.Buffer:void 0,M=(T?T.isBuffer:void 0)||I,P=/^(?:0|[1-9]\d*)$/;var R=function(t,e){var n=typeof t;return!!(e=null==e?9007199254740991:e)&&("number"==n||"symbol"!=n&&P.test(t))&&t>-1&&t%1==0&&t<e};var O=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991},L={};L["[object Float32Array]"]=L["[object Float64Array]"]=L["[object Int8Array]"]=L["[object Int16Array]"]=L["[object Int32Array]"]=L["[object Uint8Array]"]=L["[object Uint8ClampedArray]"]=L["[object Uint16Array]"]=L["[object Uint32Array]"]=!0,L["[object Arguments]"]=L["[object Array]"]=L["[object ArrayBuffer]"]=L["[object Boolean]"]=L["[object DataView]"]=L["[object Date]"]=L["[object Error]"]=L["[object Function]"]=L["[object Map]"]=L["[object Number]"]=L["[object Object]"]=L["[object RegExp]"]=L["[object Set]"]=L["[object String]"]=L["[object WeakMap]"]=!1;var _=function(t){return(0,y.Z)(t)&&O(t.length)&&!!L[(0,m.Z)(t)]};var N=function(t){return function(e){return t(e)}},H=n(4186),F="object"==typeof exports&&exports&&!exports.nodeType&&exports,Z=F&&"object"==typeof module&&module&&!module.nodeType&&module,B=Z&&Z.exports===F&&H.Z.process,$=function(){try{var t=Z&&Z.require&&Z.require("util").types;return t||B&&B.binding&&B.binding("util")}catch(t){}}(),U=$&&$.isTypedArray,V=U?N(U):_,G=Object.prototype.hasOwnProperty;var j=function(t,e){var n=(0,w.Z)(t),i=!n&&E(t),r=!n&&!i&&M(t),o=!n&&!i&&!r&&V(t),a=n||i||r||o,s=a?v(t.length,String):[],l=s.length;for(var c in t)!e&&!G.call(t,c)||a&&("length"==c||r&&("offset"==c||"parent"==c)||o&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||R(c,l))||s.push(c);return s},z=Object.prototype;var W=function(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||z)};var Y=function(t,e){return function(n){return t(e(n))}}(Object.keys,Object),q=Object.prototype.hasOwnProperty;var X=function(t){if(!W(t))return Y(t);var e=[];for(var n in Object(t))q.call(t,n)&&"constructor"!=n&&e.push(n);return e},K=n(3645);var Q=function(t){return null!=t&&O(t.length)&&!(0,K.Z)(t)};var J=function(t){return Q(t)?j(t):X(t)};var tt=function(t,e){return t&&g(t,e,J)};var et=function(t,e,n,i){return tt(t,(function(t,r,o){e(i,n(t),r,o)})),i};var nt=function(t,e){return function(n,i){return et(n,t,e(i),{})}};var it=function(t){return t},rt=Object.prototype.toString,ot=nt((function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=rt.call(e)),t[e]=n}),f(it)),at=n(9701),st=n(8973),lt=n(9880);class ct extends u.H{constructor(){super(...arguments),this.expandedItem=null,this.focusIndex=-1,this.isNestedMenu=()=>null!==this.parentElement&&(0,at.Re)(this.parentElement)&&"menuitem"===this.parentElement.getAttribute("role"),this.handleFocusOut=t=>{if(!this.contains(t.relatedTarget)){this.collapseExpandedItem();const t=this.menuItems.findIndex(this.isFocusableElement);this.menuItems[this.focusIndex].setAttribute("tabindex","-1"),this.menuItems[t].setAttribute("tabindex","0"),this.focusIndex=t}},this.handleItemFocus=t=>{const e=t.target;e!==this.menuItems[this.focusIndex]&&(this.menuItems[this.focusIndex].setAttribute("tabindex","-1"),this.focusIndex=this.menuItems.indexOf(e),e.setAttribute("tabindex","0"))},this.handleExpandedChanged=t=>{if(t.defaultPrevented||null===t.target||this.menuItems.indexOf(t.target)<0)return;t.preventDefault();const e=t.target;null===this.expandedItem||e!==this.expandedItem||!1!==e.expanded?e.expanded&&(null!==this.expandedItem&&this.expandedItem!==e&&(this.expandedItem.expanded=!1),this.menuItems[this.focusIndex].setAttribute("tabindex","-1"),this.expandedItem=e,this.focusIndex=this.menuItems.indexOf(e),e.setAttribute("tabindex","0")):this.expandedItem=null},this.setItems=()=>{const t=this.menuItems.filter(this.isMenuItemElement);t.length&&(this.focusIndex=0),t.forEach(((t,e)=>{t.setAttribute("tabindex",0===e?"0":"-1"),t.addEventListener("expanded-change",this.handleExpandedChanged),t.addEventListener("focus",this.handleItemFocus)}))},this.resetItems=t=>{t.forEach((t=>{t.removeEventListener("expanded-change",this.handleExpandedChanged),t.removeEventListener("focus",this.handleItemFocus)}))},this.changeHandler=t=>{const e=t.target,n=this.menuItems.indexOf(e);if(-1!==n&&"menuitemradio"===e.role&&!0===e.checked){for(let t=n-1;t>=0;--t){const e=this.menuItems[t],n=e.getAttribute("role");if(n===lt.O.menuitemradio&&(e.checked=!1),"separator"===n)break}const t=this.menuItems.length-1;for(let e=n+1;e<=t;++e){const t=this.menuItems[e],n=t.getAttribute("role");if(n===lt.O.menuitemradio&&(t.checked=!1),"separator"===n)break}}},this.isMenuItemElement=t=>(0,at.Re)(t)&&ct.focusableElementRoles.hasOwnProperty(t.getAttribute("role")),this.isFocusableElement=t=>this.isMenuItemElement(t)}itemsChanged(t,e){this.$fastController.isConnected&&(this.menuItems=this.domChildren(),this.resetItems(t),this.setItems())}connectedCallback(){super.connectedCallback(),this.menuItems=this.domChildren(),this.addEventListener("change",this.changeHandler)}disconnectedCallback(){super.disconnectedCallback(),this.menuItems=[],this.removeEventListener("change",this.changeHandler)}focus(){this.setFocus(0,1)}collapseExpandedItem(){null!==this.expandedItem&&(this.expandedItem.expanded=!1,this.expandedItem=null)}handleMenuKeyDown(t){if(!t.defaultPrevented)switch(t.keyCode){case st.Q6:return void this.setFocus(this.focusIndex+1,1);case st.$Y:return void this.setFocus(this.focusIndex-1,-1);case st.$B:return void this.setFocus(this.menuItems.length-1,-1);case st.wn:return void this.setFocus(0,1);default:return!0}}domChildren(){return Array.from(this.children)}setFocus(t,e){if(void 0!==this.menuItems)for(;(0,p.Z)(t,this.menuItems.length);){const n=this.menuItems[t];if(this.isFocusableElement(n)){this.focusIndex>-1&&this.menuItems.length>=this.focusIndex-1&&this.menuItems[this.focusIndex].setAttribute("tabindex","-1"),this.focusIndex=t,n.setAttribute("tabindex","0"),n.focus();break}t+=e}}}ct.focusableElementRoles=ot(lt.O),(0,d.gn)([h.LO],ct.prototype,"items",void 0);var ut=n(8480),dt=n(1217);const ht=ut.d`
    <template
        slot="${t=>t.isNestedMenu()?"submenu":void 0}"
        role="menu"
        @keydown="${(t,e)=>t.handleMenuKeyDown(e.event)}"
        @focusout="${(t,e)=>t.handleFocusOut(e.event)}"
    >
        <slot ${(0,dt.Q)("items")}></slot>
    </template>
`;var pt=n(1108),ft=n(6571),gt=n(5826),vt=n(7708);const mt=pt.i`
  ${(0,ft.j)("block")} :host {
    --elevation: 11;
    background: ${gt.dA.var};
    border: calc(var(--outline-width) * 1px) solid transparent;
    border-radius: var(--elevated-corner-radius);
    ${vt.XC}
    margin: 0;
    border-radius: calc(var(--corner-radius) * 1px);
    padding: calc(var(--design-unit) * 1px) 0;
    max-width: 368px;
    min-width: 64px;
  }

  :host([slot='submenu']) {
    width: max-content;
    margin: 0 calc(var(--design-unit) * 1px);
  }

  ::slotted(hr) {
    box-sizing: content-box;
    height: 0;
    margin: 0;
    border: none;
    border-top: calc(var(--outline-width) * 1px) solid var(--neutral-divider-rest);
  }
`.withBehaviors(gt.dA,gt.I);let yt=class extends ct{};yt=(0,c.gn)([(0,u.M)({name:"fluent-menu",template:ht,styles:mt,shadowOptions:{mode:"closed"}})],yt);var Ct=n(7980),bt=n(109),St=n(6844),xt=n(8939);function Et(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return wt(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return wt(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function wt(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}var At='a[href], button:enabled, textarea, input[type="text"], input[type="password"], div[role="slider"], input[type="radio"]:checked, input[type="checkbox"]:enabled, select:not([style*="display: none"]), details, msft-shopping-coupon, msft-shopping-link, fluent-button:not([slot="header-actions"]), fluent-anchor, msft-shopping-recommendation, fluent-accordion, fluent-option, fluent-listbox, div.tipsDiv, div[role="button"]',It=function(){function t(){var e=this;(0,i.Z)(this,t),(0,o.Z)(this,"container",void 0),(0,o.Z)(this,"currentFocusElement",void 0),(0,o.Z)(this,"initialize",(function(t){e.container=t,e.container.addEventListener("keydown",e.trapFocus)})),(0,o.Z)(this,"removeListeners",(function(){e.container.removeEventListener("keydown",e.trapFocus)})),(0,o.Z)(this,"trapFocus",(function(t){if("Tab"===t.key&&!t.ctrlKey&&e.container){var n=Array.prototype.slice.call(e.container.querySelectorAll('fluent-button[slot="header-actions"]')),i=Array.prototype.slice.call(e.container.querySelectorAll(At));if(n.push.apply(n,i),n&&n.length>0){var r,o=n[0],a=n[n.length-1],s=Et(n);try{for(s.s();!(r=s.n()).done;){var l=r.value;l.classList.contains("checkoutButton")&&(a=l)}}catch(t){s.e(t)}finally{s.f()}var c=document.activeElement;if(c){if("divOverlayWrapper"===c.id){var u=c.shadowRoot;u&&(c=u.activeElement)}if(c===o&&t.shiftKey){var d,h,p,f,g=null===(d=a)||void 0===d||null===(h=d.parentElement)||void 0===h?void 0:h.shadowRoot;if("previousCashBackSection"===(null===(p=a.parentElement)||void 0===p?void 0:p.id)){var v,m,y=null===(v=a.parentElement)||void 0===v||null===(m=v.parentElement)||void 0===m?void 0:m.shadowRoot;if(y){var C=y.querySelector("fluent-accordion-item");if(C&&!C.classList.contains("expanded")){var b,S=null===(b=C.shadowRoot)||void 0===b?void 0:b.querySelector("button");S&&(S.focus(),g=null)}}}if(g){var x=g.querySelector("fluent-accordion-item");if(x&&!x.classList.contains("expanded")){var E,w=null===(E=x.shadowRoot)||void 0===E?void 0:E.querySelector("button");w&&w.focus()}else a.focus()}else"previousCashBackSection"!==(null===(f=a.parentElement)||void 0===f?void 0:f.id)&&a.focus();t.preventDefault()}else c!==a||t.shiftKey||(o.focus(),t.preventDefault())}}}}))}return(0,r.Z)(t,[{key:"makeFocusOnActiveElement",value:function(t){var e=this;if(this.currentFocusElement!==document.activeElement){var n=t.querySelectorAll(At);0!==n.length&&(n.forEach((function(t){document.activeElement!==t||(e.currentFocusElement=t)})),this.currentFocusElement&&this.currentFocusElement.focus())}}}],[{key:"getInstance",value:function(){return null===t.currentInstance&&(t.currentInstance=new t),t.currentInstance}}]),t}();(0,o.Z)(It,"currentInstance",null);var kt=It;function Dt(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return Tt(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Tt(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function Tt(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}a._,s.o,l.X,Ct.h;var Mt=function(){function t(e,n){(0,i.Z)(this,t),(0,o.Z)(this,"flyoutData",void 0),(0,o.Z)(this,"pageHandlerModule",void 0),this.flyoutData=e,this.pageHandlerModule=n}return(0,r.Z)(t,[{key:"isAndroidBridgeAvailable",value:function(){return!!window.couponsUIWebViewBridge}},{key:"isIOSBridgeAvailable",value:function(){var t=window;return!!t.webkit&&!!t.webkit.messageHandlers}},{key:"createBaseActionButton",value:function(){var t=this.createElement("fluent-button");return t.appearance="accent",t.style.fontSize="16px",t.style.borderRadius="4px",t.className+=" actionsButton",t}},{key:"getFavIconSrc",value:function(t){return t?(t=(t=t.replace("http://","")).replace("https://",""),this.flyoutData.dataLoader.IsServerData()?"https://edge.microsoft.com/favicon/v1/?client=chrome_desktop&nfrp=2&check_seen=true&size=16&fallback_opts=TYPE,SIZE,URL&url=http://".concat(t,"&origin=shoppingv2"):this.flyoutData.common.currentDevice===St.AS.Mobile?"https://".concat(t,"/favicon.ico"):"edge://favicon2/?size=16&scale_factor=1x&page_url=http://".concat(t,"&allow_google_server_fallback=1")):""}},{key:"styleModulesHeader",value:function(t,e,n,i,r){var o=null;if(t&&(o=t.querySelector("fluent-accordion-item"),0===e)){var a=t.querySelector(".heading");a&&a.setAttribute("aria-level","3")}if(o){var s,l,c=this.flyoutData.dataStoreModule.CashBackData,u=null===(s=r&&(null==c?void 0:c.isCashBackActivated))||void 0===s||s;if(0===e&&n.expanded&&(i===St.GX.COUPON&&u||i!==St.GX.PRICECOMPARISON&&i!==St.GX.PRODUCTHISTORY)){var d=o.shadowRoot;if(d){var h=d.querySelector(".heading");h&&(h.style.display="none")}o.style.marginTop="10px"}0!==e||i!==St.GX.PRICECOMPARISON&&(i!==St.GX.COUPON||u||null!==(l=this.flyoutData.dataStoreModule.CouponData)&&void 0!==l&&l.isCheckoutPageWithAutoApply)&&i!==St.GX.DEALS&&i!==St.GX.PRODUCTHISTORY||(n.accordion=!1),o.setAttribute("heading-level","3");var p=o.shadowRoot;if(p&&(0!==e||i!==St.GX.CASHBACK)){var f=p.querySelector(".region");f&&(f.style.marginBottom="10px")}}}},{key:"handleFlyoutFocus",value:function(t){if(this.flyoutData.common.currentDevice===St.AS.Desktop&&(this.flyoutData.common.openedWith===St.Te.Keyboard||this.flyoutData.common.openedWith===St.Te.Auto)){var e=this.flyoutData.common.shopping.querySelectorAll("[slot=actions]");if(e&&e.length>0)if("DIV"===e[0].nodeName){var n=e[0].querySelectorAll(At);n&&n[0].focus()}else e[0].focus();else if(t&&t.length>0){var i,r=Dt(t);try{for(r.s();!(i=r.n()).done;){var o=i.value.element.querySelectorAll(At);if(o&&o.length>0){o[0].focus();break}}}catch(t){r.e(t)}finally{r.f()}}}}},{key:"addCommonStyles",value:function(t){var e,n=document.querySelector("fluent-design-system-provider");n&&(this.flyoutData.common.currentTheme===St.Q2.Dark?n.setAttribute("background-color","#4a4a4a"):n.setAttribute("background-color","#FFFFFF"),this.flyoutData.common.currentDirection===St.m5.RTL?n.style.direction="rtl":n.style.direction="ltr",null!==(e=this.flyoutData.strings)&&void 0!==e&&e.commonFixedTitle?n.setAttribute("aria-label",this.flyoutData.strings.commonFixedTitle):n.setAttribute("aria-label","Shopping in Microsoft Edge"));this.applyStyles(this.flyoutData.common.shopping,t.getStyles())}},{key:"createElement",value:function(t,e,n){var i=document.createElement(t);if(e)for(var r in e)e.hasOwnProperty(r)&&i.setAttribute(r,e[r]);return n&&(i.innerText=n),i}},{key:"createCommonListStructure",value:function(t,e,n,i,r){var o=this;this.flyoutData.common.currentDevice===St.AS.Desktop?t.accordion=!0:t.accordion=!1,t.title=e,t.expanded=!1;var a=i(n);if(n&&n.length>a){var s=document.createElement("fluent-button");if(s.slot="action",s.className+="action",s.appearance="lightweight",n.length-a>20?s.textContent=this.replaceValueInKey(this.flyoutData.strings.sectionSeeMore,"".concat(20,"+")):s.textContent=this.replaceValueInKey(this.flyoutData.strings.sectionSeeMore,(n.length-a).toString()),t.appendChild(s),s)s.addEventListener("click",(function(e){o.seeMoreClickHandler(e,t,r,s)})),this.pageHandlerModule.TriggerExperiment(xt.H.expandOnHover),this.flyoutData.experimentData.isExperimentActive(xt.H.expandOnHover)&&s.addEventListener("mouseover",(function(e){o.seeMoreClickHandler(e,t,r,s)}))}else t.style.marginBottom="10px"}},{key:"populateSingleChildHtml",value:function(t,e,n){t.innerHTML=window.trustedTypes.emptyHTML;var i=e.split(/\$\d/);if(i.length>0&&(i[0]=this.replaceStringsPlaceholders(i[0]),t.textContent=i[0],t.appendChild(n)),i.length>1&&i[1]){i[1]=this.replaceStringsPlaceholders(i[1]);var r=document.createTextNode(i[1]);t.appendChild(r)}}},{key:"replaceValueInKey",value:function(t,e,n){var i=Array.prototype.slice.call(arguments);return t=t.replace(/\$(.|$|\n)/g,(function(t){return void 0!==i[t[1]]?"$$"===t?"$":i[t[1]]:"$2"}))}},{key:"addFavIconSrc",value:function(t,e,n){var i=!0,r=this.getFavIconSrc(n);return r?t.src=r:i=!1,t.style.maxWidth="16px",t.slot="icon",t.addEventListener("error",(function(){i=!1,e.removeChild(t)})),i}},{key:"replaceStringsPlaceholders",value:function(t){return t.replace(St.iM.currency,"$")}},{key:"trapFlyoutFocusMac",value:function(){kt.getInstance().initialize(this.flyoutData.common.shopping)}},{key:"applyStyles",value:function(t,e){if(t){var n=this.createElement("STYLE");n.textContent=e,n.type="text/css",n.rel="stylesheet",t.appendChild(n)}}},{key:"addSectionSeparator",value:function(t){var e=this.createElement("HR",{class:"sectionSeparator"});e.setAttribute("aria-hidden","true"),t.appendChild(e)}},{key:"seeMoreClickHandler",value:function(t,e,n,i){var r=!1;0===t.screenX&&0===t.screenY&&(r=!0),n(e,!0,r),i.remove(),bt.SO.queueUpdate((function(){var t=e.shadowRoot;if(t){var n=t.querySelector(".action");n&&(n.style.display="none")}}))}}]),t}(),Pt=function(){function t(e,n,r){(0,i.Z)(this,t),(0,o.Z)(this,"pageHandlerModule",void 0),(0,o.Z)(this,"logModule",void 0),(0,o.Z)(this,"viewModulesUtilities",void 0),this.pageHandlerModule=e,this.logModule=n,this.viewModulesUtilities=new Mt(r,e)}return(0,r.Z)(t,null,[{key:"getErrorString",value:function(t){var e,n,i,r=null!==(e=null==t?void 0:t.name)&&void 0!==e?e:"",o=null!==(n=null==t?void 0:t.message)&&void 0!==n?n:"",a=null!==(i=null==t?void 0:t.stack)&&void 0!==i?i:"";return"".concat(r," ").concat(o," ").concat(a)}}]),t}();(0,o.Z)(Pt,"staticPolicy",window.trustedTypes.createPolicy("shopping-static",{createHTML:function(t){return t}}));var Rt=Pt},156:function(t,e,n){"use strict";function i(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}n.d(e,{Z:function(){return i}})},9355:function(t,e,n){"use strict";function i(t,e,n,i,r,o,a){try{var s=t[o](a),l=s.value}catch(t){return void n(t)}s.done?e(l):Promise.resolve(l).then(i,r)}function r(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var a=t.apply(e,n);function s(t){i(a,r,o,s,l,"next",t)}function l(t){i(a,r,o,s,l,"throw",t)}s(void 0)}))}}n.d(e,{Z:function(){return r}})},2679:function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}n.d(e,{Z:function(){return i}})},3874:function(t,e,n){"use strict";function i(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function r(t,e,n){return e&&i(t.prototype,e),n&&i(t,n),t}n.d(e,{Z:function(){return r}})},5133:function(t,e,n){"use strict";function i(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}n.d(e,{Z:function(){return i}})},2273:function(t,e,n){"use strict";function i(t){return(i=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}n.d(e,{Z:function(){return i}})},1604:function(t,e,n){"use strict";n.d(e,{Z:function(){return r}});var i=n(2564);function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&(0,i.Z)(t,e)}},1662:function(t,e,n){"use strict";n.d(e,{Z:function(){return o}});var i=n(2264),r=n(156);function o(t,e){return!e||"object"!==(0,i.Z)(e)&&"function"!=typeof e?(0,r.Z)(t):e}},2564:function(t,e,n){"use strict";function i(t,e){return(i=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}n.d(e,{Z:function(){return i}})},2264:function(t,e,n){"use strict";function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}n.d(e,{Z:function(){return i}})},3709:function(t){var e=function(t){"use strict";var e,n=Object.prototype,i=n.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",a=r.asyncIterator||"@@asyncIterator",s=r.toStringTag||"@@toStringTag";function l(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,n){return t[e]=n}}function c(t,e,n,i){var r=e&&e.prototype instanceof v?e:v,o=Object.create(r.prototype),a=new D(i||[]);return o._invoke=function(t,e,n){var i=d;return function(r,o){if(i===p)throw new Error("Generator is already running");if(i===f){if("throw"===r)throw o;return M()}for(n.method=r,n.arg=o;;){var a=n.delegate;if(a){var s=A(a,n);if(s){if(s===g)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===d)throw i=f,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i=p;var l=u(t,e,n);if("normal"===l.type){if(i=n.done?f:h,l.arg===g)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(i=f,n.method="throw",n.arg=l.arg)}}}(t,n,a),o}function u(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=c;var d="suspendedStart",h="suspendedYield",p="executing",f="completed",g={};function v(){}function m(){}function y(){}var C={};C[o]=function(){return this};var b=Object.getPrototypeOf,S=b&&b(b(T([])));S&&S!==n&&i.call(S,o)&&(C=S);var x=y.prototype=v.prototype=Object.create(C);function E(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function w(t,e){function n(r,o,a,s){var l=u(t[r],t,o);if("throw"!==l.type){var c=l.arg,d=c.value;return d&&"object"==typeof d&&i.call(d,"__await")?e.resolve(d.__await).then((function(t){n("next",t,a,s)}),(function(t){n("throw",t,a,s)})):e.resolve(d).then((function(t){c.value=t,a(c)}),(function(t){return n("throw",t,a,s)}))}s(l.arg)}var r;this._invoke=function(t,i){function o(){return new e((function(e,r){n(t,i,e,r)}))}return r=r?r.then(o,o):o()}}function A(t,n){var i=t.iterator[n.method];if(i===e){if(n.delegate=null,"throw"===n.method){if(t.iterator.return&&(n.method="return",n.arg=e,A(t,n),"throw"===n.method))return g;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return g}var r=u(i,t.iterator,n.arg);if("throw"===r.type)return n.method="throw",n.arg=r.arg,n.delegate=null,g;var o=r.arg;return o?o.done?(n[t.resultName]=o.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,g):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,g)}function I(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function k(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function D(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(I,this),this.reset(!0)}function T(t){if(t){var n=t[o];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,a=function n(){for(;++r<t.length;)if(i.call(t,r))return n.value=t[r],n.done=!1,n;return n.value=e,n.done=!0,n};return a.next=a}}return{next:M}}function M(){return{value:e,done:!0}}return m.prototype=x.constructor=y,y.constructor=m,m.displayName=l(y,s,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===m||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,y):(t.__proto__=y,l(t,s,"GeneratorFunction")),t.prototype=Object.create(x),t},t.awrap=function(t){return{__await:t}},E(w.prototype),w.prototype[a]=function(){return this},t.AsyncIterator=w,t.async=function(e,n,i,r,o){void 0===o&&(o=Promise);var a=new w(c(e,n,i,r),o);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},E(x),l(x,s,"Generator"),x[o]=function(){return this},x.toString=function(){return"[object Generator]"},t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var i=e.pop();if(i in t)return n.value=i,n.done=!1,n}return n.done=!0,n}},t.values=T,D.prototype={constructor:D,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(k),!t)for(var n in this)"t"===n.charAt(0)&&i.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function r(i,r){return s.type="throw",s.arg=t,n.next=i,r&&(n.method="next",n.arg=e),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var l=i.call(a,"catchLoc"),c=i.call(a,"finallyLoc");if(l&&c){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&i.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,g):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),g},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),k(n),g}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var i=n.completion;if("throw"===i.type){var r=i.arg;k(n)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,i){return this.delegate={iterator:T(t),resultName:n,nextLoc:i},"next"===this.method&&(this.arg=e),g}},t}(t.exports);try{regeneratorRuntime=e}catch(t){Function("r","regeneratorRuntime = r")(e)}},3949:function(t,e,n){t.exports=n(3709)},6237:function(t,e,n){"use strict";n.d(e,{_:function(){return S}});var i=n(3511),r=n(6790),o=n(9927),a=n(9226);class s extends r.H{constructor(){super(...arguments),this.accordion=!1,this.titleLevel=2}connectedCallback(){super.connectedCallback(),null!==this.expanded&&void 0!==this.expanded||(this.expanded=!0)}}(0,i.gn)([(0,o.Lj)({mode:"boolean"})],s.prototype,"accordion",void 0),(0,i.gn)([(0,o.Lj)({mode:"boolean"})],s.prototype,"expanded",void 0),(0,i.gn)([(0,o.Lj)({mode:"fromView"})],s.prototype,"title",void 0),(0,i.gn)([(0,o.Lj)({attribute:"title-level",mode:"fromView",converter:o.Id})],s.prototype,"titleLevel",void 0),(0,i.gn)([a.LO],s.prototype,"childElements",void 0);var l=n(8480),c=n(397),u=n(1543);class d extends u.x{constructor(t,e){super(t,e),this.observer=null,e.childList=!0}observe(){null===this.observer&&(this.observer=new MutationObserver(this.handleEvent.bind(this))),this.observer.observe(this.target,this.options)}disconnect(){this.observer.disconnect()}getNodes(){return"subtree"in this.options?Array.from(this.target.querySelectorAll(this.options.selector)):Array.from(this.target.childNodes)}}var h=n(9655);function p(t,e){return e&&e.some((e=>e.slot===t))}const f=l.d`
    <template ${g={property:"childElements",filter:(0,u.R)()},"string"==typeof g&&(g={property:g}),new c.ON("fast-children",d,g)}>
        ${(0,h.g)((t=>t.accordion),l.d`
                <fluent-accordion part="control">
                    <fluent-accordion-item
                        part="item"
                        class="item"
                        expanded="${t=>t.expanded?"true":"false"}"
                        heading-level="${t=>t.titleLevel}"
                    >
                        <svg
                            class="icon"
                            part="expanded-icon"
                            slot="expanded-icon"
                            width="12"
                            height="12"
                            viewBox="0 0 12 12"
                            xmlns="http://www.w3.org/2000/svg"
                        >
                            <path
                                fill="currentcolor"
                                d="M11.4551 8.98242L6 3.5332L0.544922 8.98242L0.0175781 8.45508L6 2.4668L11.9824 8.45508L11.4551 8.98242Z"
                            />
                        </svg>
                        <svg
                            class="icon"
                            part="collapsed-icon"
                            slot="collapsed-icon"
                            width="12"
                            height="12"
                            viewBox="0 0 12 12"
                            fill="none"
                            xmlns="http://www.w3.org/2000/svg"
                        >
                            <path
                                fill="currentcolor"
                                d="M11.3613 2.73633L11.8887 3.26367L6 9.15234L0.111328 3.26367L0.638672 2.73633L6 8.09766L11.3613 2.73633Z"
                                fill="black"
                            />
                        </svg>

                        <span part="title" slot="heading">${t=>t.title}</span>
                        <slot></slot>
                        ${(0,h.g)((t=>p("action",t.childElements)),l.d`
                                <div class="action" part="action">
                                    <slot name="action"></slot>
                                </div>
                            `)}
                    </fluent-accordion-item>
                </fluent-accordion>
            `)}
        ${(0,h.g)((t=>!t.accordion),l.d`
                <div class="control" part="control">
                    <span
                        class="heading"
                        part="title"
                        slot="heading"
                        role="heading"
                        aria-level="${t=>t.titleLevel}"
                        >${t=>t.title}</span
                    >
                    <slot></slot>
                    ${(0,h.g)((t=>p("action",t.childElements)),l.d`
                            <div class="action" part="action">
                                <slot name="action"></slot>
                            </div>
                        `)}
                </div>
            `)}
    </template>
`;var g,v=n(1108),m=n(5826),y=n(4381),C=n(7683);const b=v.i`
    :host {
        overflow: hidden;
    }

    fluent-accordion {
        border: none;
        margin-bottom: 10px;
    }

    fluent-accordion-item {
        border: none;
    }

    fluent-accordion-item::part(heading),
    .heading {
        margin-bottom: 6px;
        font-size: var(--type-ramp-minus-1-font-size);
    }

    .heading {
        margin-inline-start: 5px;
        display: inline-block;
        line-height: var(--type-ramp-plus-1-line-height);
        margin-bottom: 6px;
    }

    fluent-accordion-item::part(region) {
        padding: 0;
        flex-direction: column;
    }

    .action {
        color: ${m.iq.var};
        font-size: var(--type-ramp-minus-1-font-size);
        height: 38px;
        display: flex;
        margin-inline-start: 16px;
        align-items: center;
    }
`.withBehaviors(m.iq,(0,y.vF)(v.i`
            fluent-accordion-item {
                color: ${C.H.ButtonText};
            }
        `));let S=class extends s{};S=(0,i.gn)([(0,r.M)({name:"msft-edge-shopping-section",template:f,styles:b})],S)},7683:function(t,e,n){"use strict";var i;n.d(e,{H:function(){return i}}),function(t){t.Canvas="Canvas",t.CanvasText="CanvasText",t.LinkText="LinkText",t.VisitedText="VisitedText",t.ActiveText="ActiveText",t.ButtonFace="ButtonFace",t.ButtonText="ButtonText",t.Field="Field",t.FieldText="FieldText",t.Highlight="Highlight",t.HighlightText="HighlightText",t.GrayText="GrayText"}(i||(i={}))},3511:function(t,e,n){"use strict";n.d(e,{gn:function(){return i}});function i(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a}},3687:function(t,e,n){"use strict";n.d(e,{o:function(){return S}});var i=n(5263),r=n(9927),o=n(6790),a=n(535),s=n(9226),l=n(9526),c=n(4095),u=n(1449);class d extends o.H{}(0,a.gn)([r.Lj],d.prototype,"download",void 0),(0,a.gn)([r.Lj],d.prototype,"href",void 0),(0,a.gn)([r.Lj],d.prototype,"hreflang",void 0),(0,a.gn)([r.Lj],d.prototype,"ping",void 0),(0,a.gn)([r.Lj],d.prototype,"referrerpolicy",void 0),(0,a.gn)([r.Lj],d.prototype,"rel",void 0),(0,a.gn)([r.Lj],d.prototype,"target",void 0),(0,a.gn)([r.Lj],d.prototype,"type",void 0),(0,a.gn)([s.LO],d.prototype,"defaultSlottedContent",void 0);class h{}(0,a.gn)([(0,r.Lj)({attribute:"aria-expanded",mode:"fromView"})],h.prototype,"ariaExpanded",void 0),(0,u.e)(h,l.v),(0,u.e)(d,c.hW,h);var p=n(8480),f=n(1337),g=n(1217);const v=p.d`
    <a
        class="control"
        part="control"
        download="${t=>t.download}"
        href="${t=>t.href}"
        hreflang="${t=>t.hreflang}"
        ping="${t=>t.ping}"
        referrerpolicy="${t=>t.referrerpolicy}"
        rel="${t=>t.rel}"
        target="${t=>t.target}"
        type="${t=>t.type}"
        aria-atomic="${t=>t.ariaAtomic}"
        aria-busy="${t=>t.ariaBusy}"
        aria-controls="${t=>t.ariaControls}"
        aria-current="${t=>t.ariaCurrent}"
        aria-describedBy="${t=>t.ariaDescribedby}"
        aria-details="${t=>t.ariaDetails}"
        aria-disabled="${t=>t.ariaDisabled}"
        aria-errormessage="${t=>t.ariaErrormessage}"
        aria-expanded="${t=>t.ariaExpanded}"
        aria-flowto="${t=>t.ariaFlowto}"
        aria-haspopup="${t=>t.ariaHaspopup}"
        aria-hidden="${t=>t.ariaHidden}"
        aria-invalid="${t=>t.ariaInvalid}"
        aria-keyshortcuts="${t=>t.ariaKeyshortcuts}"
        aria-label="${t=>t.ariaLabel}"
        aria-labelledby="${t=>t.ariaLabelledby}"
        aria-live="${t=>t.ariaLive}"
        aria-owns="${t=>t.ariaOwns}"
        aria-relevant="${t=>t.ariaRelevant}"
        aria-roledescription="${t=>t.ariaRoledescription}"
        ${(0,f.i)("control")}
    >
        ${c.hX}
        <span class="content" part="content">
            <slot ${(0,g.Q)("defaultSlottedContent")}></slot>
        </span>
        ${c.zq}
    </a>
`;var m=n(1108),y=n(9881),C=n(6970);const b=m.i`
  ${y.G6}
`.withBehaviors((0,C.H)("accent",y.jQ),(0,C.H)("hypertext",y.Xu),(0,C.H)("lightweight",y.vt),(0,C.H)("outline",y.O8),(0,C.H)("stealth",y.cg));let S=class extends d{appearanceChanged(t,e){t!==e&&(this.classList.add(e),this.classList.remove(t))}connectedCallback(){super.connectedCallback(),this.appearance||(this.appearance="neutral")}defaultSlottedContentChanged(){const t=this.defaultSlottedContent.filter((t=>t.nodeType===Node.ELEMENT_NODE));1===t.length&&t[0]instanceof SVGElement?this.control.classList.add("icon-only"):this.control.classList.remove("icon-only")}};(0,i.gn)([r.Lj],S.prototype,"appearance",void 0),S=(0,i.gn)([(0,o.M)({name:"fluent-anchor",template:v,styles:b,shadowOptions:{delegatesFocus:!0,mode:"closed"}})],S)},3393:function(t,e,n){"use strict";n.d(e,{X:function(){return D}});var i=n(5263),r=n(9927),o=n(6790),a=n(535),s=n(9226),l=n(9526),c=n(4095),u=n(1449),d=n(2858);class h extends o.H{}class p extends((0,d.U)(h)){constructor(){super(...arguments),this.proxy=document.createElement("input")}}class f extends p{constructor(){super(...arguments),this.handleSubmission=()=>{if(!this.form)return;const t=this.proxy.isConnected;t||this.attachProxy(),"function"==typeof this.form.requestSubmit?this.form.requestSubmit(this.proxy):this.proxy.click(),t||this.detachProxy()},this.handleFormReset=()=>{var t;null===(t=this.form)||void 0===t||t.reset()}}formactionChanged(){this.proxy instanceof HTMLInputElement&&(this.proxy.formAction=this.formaction)}formenctypeChanged(){this.proxy instanceof HTMLInputElement&&(this.proxy.formEnctype=this.formenctype)}formmethodChanged(){this.proxy instanceof HTMLInputElement&&(this.proxy.formMethod=this.formmethod)}formnovalidateChanged(){this.proxy instanceof HTMLInputElement&&(this.proxy.formNoValidate=this.formnovalidate)}formtargetChanged(){this.proxy instanceof HTMLInputElement&&(this.proxy.formTarget=this.formtarget)}typeChanged(t,e){this.proxy instanceof HTMLInputElement&&(this.proxy.type=this.type),"submit"===e&&this.addEventListener("click",this.handleSubmission),"submit"===t&&this.removeEventListener("click",this.handleSubmission),"reset"===e&&this.addEventListener("click",this.handleFormReset),"reset"===t&&this.removeEventListener("click",this.handleFormReset)}connectedCallback(){super.connectedCallback(),this.proxy.setAttribute("type",this.type)}get root(){return this.control}}(0,a.gn)([(0,r.Lj)({mode:"boolean"})],f.prototype,"autofocus",void 0),(0,a.gn)([(0,r.Lj)({attribute:"form"})],f.prototype,"formId",void 0),(0,a.gn)([r.Lj],f.prototype,"formaction",void 0),(0,a.gn)([r.Lj],f.prototype,"formenctype",void 0),(0,a.gn)([r.Lj],f.prototype,"formmethod",void 0),(0,a.gn)([(0,r.Lj)({mode:"boolean"})],f.prototype,"formnovalidate",void 0),(0,a.gn)([r.Lj],f.prototype,"formtarget",void 0),(0,a.gn)([r.Lj],f.prototype,"type",void 0),(0,a.gn)([s.LO],f.prototype,"defaultSlottedContent",void 0);class g{}(0,a.gn)([(0,r.Lj)({attribute:"aria-expanded",mode:"fromView"})],g.prototype,"ariaExpanded",void 0),(0,a.gn)([(0,r.Lj)({attribute:"aria-pressed",mode:"fromView"})],g.prototype,"ariaPressed",void 0),(0,u.e)(g,l.v),(0,u.e)(f,c.hW,g);var v=n(8480),m=n(1337),y=n(1217);const C=v.d`
    <button
        class="control"
        part="control"
        ?autofocus="${t=>t.autofocus}"
        ?disabled="${t=>t.disabled}"
        form="${t=>t.formId}"
        formaction="${t=>t.formaction}"
        formenctype="${t=>t.formenctype}"
        formmethod="${t=>t.formmethod}"
        formnovalidate="${t=>t.formnovalidate}"
        formtarget="${t=>t.formtarget}"
        name="${t=>t.name}"
        type="${t=>t.type}"
        value="${t=>t.value}"
        aria-atomic="${t=>t.ariaAtomic}"
        aria-busy="${t=>t.ariaBusy}"
        aria-controls="${t=>t.ariaControls}"
        aria-current="${t=>t.ariaCurrent}"
        aria-describedBy="${t=>t.ariaDescribedby}"
        aria-details="${t=>t.ariaDetails}"
        aria-disabled="${t=>t.ariaDisabled}"
        aria-errormessage="${t=>t.ariaErrormessage}"
        aria-expanded="${t=>t.ariaExpanded}"
        aria-flowto="${t=>t.ariaFlowto}"
        aria-haspopup="${t=>t.ariaHaspopup}"
        aria-hidden="${t=>t.ariaHidden}"
        aria-invalid="${t=>t.ariaInvalid}"
        aria-keyshortcuts="${t=>t.ariaKeyshortcuts}"
        aria-label="${t=>t.ariaLabel}"
        aria-labelledby="${t=>t.ariaLabelledby}"
        aria-live="${t=>t.ariaLive}"
        aria-owns="${t=>t.ariaOwns}"
        aria-pressed="${t=>t.ariaPressed}"
        aria-relevant="${t=>t.ariaRelevant}"
        aria-roledescription="${t=>t.ariaRoledescription}"
        ${(0,m.i)("control")}
    >
        ${c.hX}
        <span class="content" part="content">
            <slot ${(0,y.Q)("defaultSlottedContent")}></slot>
        </span>
        ${c.zq}
    </button>
`;var b=n(1108),S=n(3917),x=n(4381),E=n(5066),w=n(5826),A=n(9881),I=n(6970);const k=b.i`
  :host([disabled]),
  :host([disabled]:hover),
  :host([disabled]:active) {
    opacity: var(--disabled-opacity);
    background-color: ${w.nE.var};
    cursor: ${S.H};
  }

  ${A.G6}
`.withBehaviors((0,x.vF)(b.i`
      :host([disabled]),
      :host([disabled]:hover),
      :host([disabled]:active),
      :host([disabled]) .control,
      :host([disabled]) .control:hover,
      :host([appearance='neutral'][disabled]:hover) .control {
        forced-color-adjust: none;
        background-color: ${E.H.ButtonFace};
        border-color: ${E.H.GrayText};
        color: ${E.H.GrayText};
        opacity: 1;
      }
    `),(0,I.H)("accent",b.i`
      :host([appearance='accent'][disabled]),
      :host([appearance='accent'][disabled]:hover),
      :host([appearance='accent'][disabled]:active) {
        background: ${w.iq.var};
      }

      ${A.jQ}
    `.withBehaviors((0,x.vF)(b.i`
          :host([appearance='accent'][disabled]) .control,
          :host([appearance='accent'][disabled]) .control:hover {
            background: ${E.H.ButtonFace};
            border-color: ${E.H.GrayText};
            color: ${E.H.GrayText};
          }
        `))),(0,I.H)("lightweight",b.i`
      :host([appearance='lightweight'][disabled]:hover),
      :host([appearance='lightweight'][disabled]:active) {
        background-color: transparent;
        color: ${w.YK.var};
      }

      :host([appearance='lightweight'][disabled]) .content::before,
      :host([appearance='lightweight'][disabled]:hover) .content::before,
      :host([appearance='lightweight'][disabled]:active) .content::before {
        background: transparent;
      }

      ${A.vt}
    `.withBehaviors((0,x.vF)(b.i`
          :host([appearance='lightweight'][disabled]) .control {
            forced-color-adjust: none;
            color: ${E.H.GrayText};
          }

          :host([appearance='lightweight'][disabled]) .control:hover .content::before {
            background: none;
          }
        `))),(0,I.H)("outline",b.i`
      :host([appearance='outline'][disabled]:hover),
      :host([appearance='outline'][disabled]:active) {
        background: transparent;
        border-color: ${w.Fv.var};
      }

      ${A.O8}
    `.withBehaviors((0,x.vF)(b.i`
          :host([appearance='outline'][disabled]) .control {
            border-color: ${E.H.GrayText};
          }
        `))),(0,I.H)("stealth",b.i`
      :host([appearance='stealth'][disabled]),
      :host([appearance='stealth'][disabled]:hover),
      :host([appearance='stealth'][disabled]:active) {
        background: ${w.Br.var};
      }

      ${A.cg}
    `.withBehaviors((0,x.vF)(b.i`
          :host([appearance='stealth'][disabled]),
          :host([appearance='stealth'][disabled]:hover) {
            background: ${E.H.ButtonFace};
          }

          :host([appearance='stealth'][disabled]) .control {
            background: ${E.H.ButtonFace};
            border-color: transparent;
            color: ${E.H.GrayText};
          }
        `))));let D=class extends f{appearanceChanged(t,e){t!==e&&(this.classList.add(e),this.classList.remove(t))}connectedCallback(){super.connectedCallback(),this.appearance||(this.appearance="neutral")}defaultSlottedContentChanged(){const t=this.defaultSlottedContent.filter((t=>t.nodeType===Node.ELEMENT_NODE));1===t.length&&t[0]instanceof SVGElement?this.control.classList.add("icon-only"):this.control.classList.remove("icon-only")}};(0,i.gn)([r.Lj],D.prototype,"appearance",void 0),D=(0,i.gn)([(0,o.M)({name:"fluent-button",template:C,styles:k,shadowOptions:{delegatesFocus:!0,mode:"closed"}})],D)},2208:function(t,e,n){"use strict";n.d(e,{r:function(){return o}});var i=n(7123),r=n(5542);function o(t,e,n,o,a,s){return l=>{const c=(0,i.$p)(t,l),u=(0,r.Yc)(l)?-1:1,d=(0,r.Ce)(i.Cz)(c)(r.Tq)((()=>u))((0,r.iC)((0,i.$p)(e,l)))(l),h=(0,r.Ik)(t,d)(l),p=(0,i.$p)(n,l),f=(0,i.$p)(o,l),g=(0,i.$p)(a,l),v=(0,i.$p)(s,l);return function(t,e,n,i,o,a,s){const l=t+n*Math.abs(i-o),c=1===n?i<o:n*i>n*o,u=c?t:l,d=c?l:t,h=u+n*a,p=u+n*s;return{rest:(0,r.qZ)(u,e),hover:(0,r.qZ)(d,e),active:(0,r.qZ)(h,e),focus:(0,r.qZ)(p,e)}}(h,c,u,p,f,g,v)}}},691:function(t,e,n){"use strict";n.d(e,{lB:function(){return i},vm:function(){return s},mq:function(){return l},Kf:function(){return d},ET:function(){return h},$p:function(){return p},sF:function(){return f},K2:function(){return g},uZ:function(){return v}});var i,r=n(9599),o=n(3403),a=n(4734);function s(t){const e=(0,a.Z)(t);return function(t){return"function"==typeof t?n=>e(Object.assign({},n,{backgroundColor:t(n)})):e(t)}}function l(t,e){const n=(0,a.Z)(e);return e=>"function"==typeof e?i=>n(Object.assign({},i,{backgroundColor:e(i)}))[t]:n(e)[t]}!function(t){t.rest="rest",t.hover="hover",t.active="active",t.focus="focus",t.selected="selected"}(i||(i={}));const c=new Map;function u(t){const e=c.get(t);if(!e){let e=(0,r.in)(t);if(null===e&&(e=(0,r.hg)(t)),null===e)throw new Error(`${t} cannot be converted to a ColorRGBA64. Color strings must be one of the following formats: "#RGB", "#RRGGBB", or "rgb(r, g, b)"`);return c.set(t,e),e}return e}function d(t){return(0,r.pJ)(t)||(0,r.b4)(t)}function h(t,e){return u(t).equalValue(u(e))}const p=(0,a.Z)(((t,e)=>(0,o.wo)(u(t),u(e))),((t,e)=>t+e));function f(t){return(0,o.hM)(u(t))}function g(...t){return e=>Math.max.apply(null,t.map((t=>t(e))))}const v=(t,e,n)=>Math.min(Math.max(t,e),n)},3428:function(t,e,n){"use strict";n.d(e,{wF:function(){return l},Nj:function(){return p}});var i=n(7123),r=n(691),o=n(5542);const a=(0,r.K2)(i.MY,i.jW,i.hD,i.VQ);function s(t){return e=>{const n=(0,o.BD)(e),r=n>=a(e)?-1:1;return(0,o.qZ)(n+r*t(e),(0,i.yv)(e))}}const l=(0,r.vm)(s(i.MY)),c=(0,r.vm)(s(i.jW)),u=(0,r.vm)(s(i.hD)),d=(0,r.vm)(s(i.VQ)),h=(0,r.vm)(s(i.y$)),p=(0,r.vm)((t=>({rest:l(t),hover:c(t),active:u(t),focus:d(t),selected:h(t)})))},9514:function(t,e,n){"use strict";n.d(e,{Q:function(){return s},_:function(){return l}});var i=n(7123),r=n(691),o=n(2208);function a(t){return(0,o.r)(i.yv,t,0,0,0,0)}const s=(0,r.mq)(r.lB.rest,(0,r.vm)(a(4.5))),l=(0,r.mq)(r.lB.rest,(0,r.vm)(a(3)))},3131:function(t,e,n){"use strict";n.d(e,{DZ:function(){return a},CH:function(){return s}});var i=n(7123),r=n(691),o=n(2208);const a=(0,r.vm)((0,o.r)(i.yv,14,0,i.Ax,i.Nt,i.Cv)),s=(0,r.mq)(r.lB.rest,a);(0,r.mq)(r.lB.hover,a),(0,r.mq)(r.lB.active,a),(0,r.mq)(r.lB.focus,a)},8011:function(t,e,n){"use strict";n.d(e,{he:function(){return h},A4:function(){return E},$B:function(){return w},s5:function(){return x},Mw:function(){return A},WT:function(){return I},GD:function(){return k},NI:function(){return D},l$:function(){return T}});var i=n(8838),r=n(5737);function o(t){return(...e)=>n=>{const i=e[0];let r="function"==typeof i?i(n):i;for(let i=1;i<e.length;i++){const o=e[i];r=t(r,"function"==typeof o?o(n):o)}return r}}const a=o(((t,e)=>t+e)),s=o(((t,e)=>t-e)),l=o(((t,e)=>t*e));o(((t,e)=>t/e));function c(...t){return a.apply(this,t)}function u(...t){return s.apply(this,t)}function d(...t){return l.apply(this,t)}var h,p=n(7123),f=n(5542),g=n(691);function v(t,e){return n=>-1===(0,p.q2)(n)?e(n):t(n)}!function(t){t[t.LightMode=1]="LightMode",t[t.DarkMode=.23]="DarkMode"}(h||(h={}));const m=(0,f.hi)(p.yv,(t=>{const e=(0,p.q2)(t);return new i.h(e,e,e,1).toStringHexRGB()})),y=t=>(0,r.uZ)(u(m,p.Dk)(t),0,(0,p.yv)(t).length-1),C=(0,g.K2)(p.MY,p.jW,p.hD),b=(0,g.K2)(c(m,p.Dk),C),S=t=>{const e=.14,n=new i.h(e,e,e,1);return(0,f.hi)(p.yv,n.toStringHexRGB())(t)},x=(0,g.vm)(v((0,f.qZ)(u(y,p.Dk),p.yv),(0,f.Qs)(p.yv)(0,u(S,d(p.Dk,5))))),E=(0,g.vm)(v((0,f.qZ)(y,p.yv),(0,f.Qs)(p.yv)(0,u(S,d(p.Dk,4))))),w=(0,g.vm)(v((0,f.qZ)(c(y,p.Dk),p.yv),(0,f.Qs)(p.yv)(p.Dk,u(S,d(p.Dk,3))))),A=(0,g.vm)(v((0,f.qZ)(m,p.yv),(0,f.Qs)(p.yv)(0,u(S,d(p.Dk,3))))),I=w,k=(0,g.vm)(v((0,f.qZ)(b,p.yv),(0,f.Qs)(p.yv)(C,u(S,d(p.Dk,2))))),D=(0,g.vm)(v((0,f.qZ)(c(b,p.Dk),p.yv),(0,f.Qs)(p.yv)(c(C,p.Dk),u(S,p.Dk)))),T=(0,g.vm)(v((0,f.qZ)(c(b,d(p.Dk,2)),p.yv),(0,f.Qs)(p.yv)(c(C,d(p.Dk,2)),S)))},5542:function(t,e,n){"use strict";n.d(e,{Ik:function(){return a},hi:function(){return s},Yc:function(){return l},qZ:function(){return c},Qs:function(){return u},Ce:function(){return h},Tq:function(){return p},BD:function(){return f},iC:function(){return g}});var i,r=n(7123),o=n(691);function a(t,e){return n=>{if(!(0,o.Kf)(e))return-1;const i=(0,r.$p)(t,n),a=i.indexOf(e);return-1!==a?a:i.findIndex((t=>(0,o.Kf)(t)&&(0,o.ET)(e,t)))}}function s(t,e){return n=>{const i=(0,r.$p)(t,n),s=(0,r.$p)(e,n),l=a(i,s)(n);let c;if(-1!==l)return l;try{c=(0,o.sF)(s)}catch(t){c=-1}return-1===c?0:i.map(((t,e)=>({luminance:(0,o.sF)(t),index:e}))).reduce(((t,e)=>Math.abs(e.luminance-c)<Math.abs(t.luminance-c)?e:t)).index}}function l(t){return(0,o.sF)((0,r.Cz)(t))<=(-.1+Math.sqrt(.21))/2}function c(t,e){return"function"==typeof t?n=>e(n)[(0,o.uZ)(t(n),0,e(n).length-1)]:e[(0,o.uZ)(t,0,e.length-1)]}function u(t){return(e,n)=>i=>c(l(i)?(0,r.$p)(n,i):(0,r.$p)(e,i),t(i))}function d(t,e,n=0,i=t.length-1){if(i===n)return t[n];const r=Math.floor((i-n)/2)+n;return e(t[r])?d(t,e,n,r):d(t,e,r+1,i)}function h(t){return e=>n=>i=>a=>s=>{const l=(0,r.$p)(t,s),c=(0,r.$p)(e,s),u=c.length,h=(0,o.uZ)(n(l,c,s),0,u-1),p=i(h,c,s);const f=[].concat(c),g=u-1;let v=h;return-1===p&&(f.reverse(),v=g-v),d(f,(function(t){return a((0,o.$p)(l,t))}),v,g)}}function p(t,e,n){return s(e,t)(n)}function f(t){return s(r.yv,(0,r.Cz)(t))(t)}function g(t){return e=>e>=t}!function(t){t.neutral="neutral",t.accent="accent"}(i||(i={}))},9724:function(t,e,n){"use strict";n.d(e,{M:function(){return B}});var i=n(5263),r=n(1108),o=n(9927),a=n(5066),s=n(9226);function l(t){return(e,n)=>{((t,e,n)=>{const{cssCustomProperty:i,attribute:r}=n;t.designSystemProperties||(t.designSystemProperties={}),!1===r?(0,s.LO)(t,e):(void 0===n.mode&&(n=Object.assign(Object.assign({},n),{mode:"fromView"})),(0,o.Lj)(n)(t,e)),t.designSystemProperties[e]={cssCustomProperty:!1!==i&&("string"==typeof i?i:"string"==typeof r?r:e),default:n.default}})(e,n,t)}}const c=n(8480).d`
    <slot></slot>
`;var u,d=n(83),h=n(4381),p=n(6530),f=n(9599),g=n(8838),v=n(3403),m=n(7042),y=n(5737);function C(t,e,n=18){const i=(0,v.$2)(t);let r=i.c+e*n;return r<0&&(r=0),(0,v.KW)(new m.t(i.l,r,i.h))}function b(t,e){return t*e}function S(t,e){return new g.h(b(t.r,e.r),b(t.g,e.g),b(t.b,e.b),1)}function x(t,e){return t<.5?(0,y.uZ)(2*e*t,0,1):(0,y.uZ)(1-2*(1-e)*(1-t),0,1)}function E(t,e){return new g.h(x(t.r,e.r),x(t.g,e.g),x(t.b,e.b),1)}!function(t){t[t.Burn=0]="Burn",t[t.Color=1]="Color",t[t.Darken=2]="Darken",t[t.Dodge=3]="Dodge",t[t.Lighten=4]="Lighten",t[t.Multiply=5]="Multiply",t[t.Overlay=6]="Overlay",t[t.Screen=7]="Screen"}(u||(u={}));var w,A=n(1197),I=n(894),k=n(7280),D=n(1397);function T(t,e,n,i){if(isNaN(t)||t<=0)return n;if(t>=1)return i;switch(e){case w.HSL:return(0,v.hP)(function(t,e,n){return isNaN(t)||t<=0?e:t>=1?n:new A.H((0,y.AG)(t,e.h,n.h),(0,y.t7)(t,e.s,n.s),(0,y.t7)(t,e.l,n.l))}(t,(0,v.lw)(n),(0,v.lw)(i)));case w.HSV:return(0,v.iI)(function(t,e,n){return isNaN(t)||t<=0?e:t>=1?n:new I.T((0,y.AG)(t,e.h,n.h),(0,y.t7)(t,e.s,n.s),(0,y.t7)(t,e.v,n.v))}(t,(0,v.T8)(n),(0,v.T8)(i)));case w.XYZ:return(0,v.rD)(function(t,e,n){return isNaN(t)||t<=0?e:t>=1?n:new D.x((0,y.t7)(t,e.x,n.x),(0,y.t7)(t,e.y,n.y),(0,y.t7)(t,e.z,n.z))}(t,(0,v.zP)(n),(0,v.zP)(i)));case w.LAB:return(0,v.DR)(function(t,e,n){return isNaN(t)||t<=0?e:t>=1?n:new k.R((0,y.t7)(t,e.l,n.l),(0,y.t7)(t,e.a,n.a),(0,y.t7)(t,e.b,n.b))}(t,(0,v.v1)(n),(0,v.v1)(i)));case w.LCH:return(0,v.KW)(function(t,e,n){return isNaN(t)||t<=0?e:t>=1?n:new m.t((0,y.t7)(t,e.l,n.l),(0,y.t7)(t,e.c,n.c),(0,y.AG)(t,e.h,n.h))}(t,(0,v.$2)(n),(0,v.$2)(i)));default:return function(t,e,n){return isNaN(t)||t<=0?e:t>=1?n:new g.h((0,y.t7)(t,e.r,n.r),(0,y.t7)(t,e.g,n.g),(0,y.t7)(t,e.b,n.b),(0,y.t7)(t,e.a,n.a))}(t,n,i)}}!function(t){t[t.RGB=0]="RGB",t[t.HSL=1]="HSL",t[t.HSV=2]="HSV",t[t.XYZ=3]="XYZ",t[t.LAB=4]="LAB",t[t.LCH=5]="LCH"}(w||(w={}));class M{constructor(t){if(null==t||0===t.length)throw new Error("The stops argument must be non-empty");this.stops=this.sortColorScaleStops(t)}static createBalancedColorScale(t){if(null==t||0===t.length)throw new Error("The colors argument must be non-empty");const e=new Array(t.length);for(let n=0;n<t.length;n++)0===n?e[n]={color:t[n],position:0}:n===t.length-1?e[n]={color:t[n],position:1}:e[n]={color:t[n],position:n*(1/(t.length-1))};return new M(e)}getColor(t,e=w.RGB){if(1===this.stops.length)return this.stops[0].color;if(t<=0)return this.stops[0].color;if(t>=1)return this.stops[this.stops.length-1].color;let n=0;for(let e=0;e<this.stops.length;e++)this.stops[e].position<=t&&(n=e);let i=n+1;i>=this.stops.length&&(i=this.stops.length-1);return T((t-this.stops[n].position)*(1/(this.stops[i].position-this.stops[n].position)),e,this.stops[n].color,this.stops[i].color)}trim(t,e,n=w.RGB){if(t<0||e>1||e<t)throw new Error("Invalid bounds");if(t===e)return new M([{color:this.getColor(t,n),position:0}]);const i=[];for(let n=0;n<this.stops.length;n++)this.stops[n].position>=t&&this.stops[n].position<=e&&i.push(this.stops[n]);if(0===i.length)return new M([{color:this.getColor(t),position:t},{color:this.getColor(e),position:e}]);i[0].position!==t&&i.unshift({color:this.getColor(t),position:t}),i[i.length-1].position!==e&&i.push({color:this.getColor(e),position:e});const r=e-t,o=new Array(i.length);for(let e=0;e<i.length;e++)o[e]={color:i[e].color,position:(i[e].position-t)/r};return new M(o)}findNextColor(t,e,n=!1,i=w.RGB,r=.005,o=32){isNaN(t)||t<=0?t=0:t>=1&&(t=1);const a=this.getColor(t,i),s=n?0:1,l=this.getColor(s,i);if((0,v.wo)(a,l)<=e)return s;let c=n?0:t,u=n?t:0,d=s,h=0;for(;h<=o;){d=Math.abs(u-c)/2+c;const t=this.getColor(d,i),o=(0,v.wo)(a,t);if(Math.abs(o-e)<=r)return d;o>e?n?c=d:u=d:n?u=d:c=d,h++}return d}clone(){const t=new Array(this.stops.length);for(let e=0;e<t.length;e++)t[e]={color:this.stops[e].color,position:this.stops[e].position};return new M(t)}sortColorScaleStops(t){return t.sort(((t,e)=>{const n=t.position,i=e.position;return n<i?-1:n>i?1:0}))}}class P{constructor(t){this.config=Object.assign({},P.defaultPaletteConfig,t),this.palette=[],this.updatePaletteColors()}updatePaletteGenerationValues(t){let e=!1;for(const n in t)this.config[n]&&(this.config[n].equalValue?this.config[n].equalValue(t[n])||(this.config[n]=t[n],e=!0):t[n]!==this.config[n]&&(this.config[n]=t[n],e=!0));return e&&this.updatePaletteColors(),e}updatePaletteColors(){const t=this.generatePaletteColorScale();for(let e=0;e<this.config.steps;e++)this.palette[e]=t.getColor(e/(this.config.steps-1),this.config.interpolationMode)}generatePaletteColorScale(){const t=(0,v.lw)(this.config.baseColor),e=new M([{position:0,color:this.config.scaleColorLight},{position:.5,color:this.config.baseColor},{position:1,color:this.config.scaleColorDark}]).trim(this.config.clipLight,1-this.config.clipDark);let n=e.getColor(0),i=e.getColor(1);if(t.s>=this.config.saturationAdjustmentCutoff&&(n=C(n,this.config.saturationLight),i=C(i,this.config.saturationDark)),0!==this.config.multiplyLight){const t=S(this.config.baseColor,n);n=T(this.config.multiplyLight,this.config.interpolationMode,n,t)}if(0!==this.config.multiplyDark){const t=S(this.config.baseColor,i);i=T(this.config.multiplyDark,this.config.interpolationMode,i,t)}if(0!==this.config.overlayLight){const t=E(this.config.baseColor,n);n=T(this.config.overlayLight,this.config.interpolationMode,n,t)}if(0!==this.config.overlayDark){const t=E(this.config.baseColor,i);i=T(this.config.overlayDark,this.config.interpolationMode,i,t)}return this.config.baseScalePosition?this.config.baseScalePosition<=0?new M([{position:0,color:this.config.baseColor},{position:1,color:i.clamp()}]):this.config.baseScalePosition>=1?new M([{position:0,color:n.clamp()},{position:1,color:this.config.baseColor}]):new M([{position:0,color:n.clamp()},{position:this.config.baseScalePosition,color:this.config.baseColor},{position:1,color:i.clamp()}]):new M([{position:0,color:n.clamp()},{position:.5,color:this.config.baseColor},{position:1,color:i.clamp()}])}}P.defaultPaletteConfig={baseColor:(0,f.in)("#808080"),steps:11,interpolationMode:w.RGB,scaleColorLight:new g.h(1,1,1,1),scaleColorDark:new g.h(0,0,0,1),clipLight:.185,clipDark:.16,saturationAdjustmentCutoff:.05,saturationLight:.35,saturationDark:1.25,overlayLight:0,overlayDark:.25,multiplyLight:0,multiplyDark:0,baseScalePosition:.5},P.greyscalePaletteConfig={baseColor:(0,f.in)("#808080"),steps:11,interpolationMode:w.RGB,scaleColorLight:new g.h(1,1,1,1),scaleColorDark:new g.h(0,0,0,1),clipLight:0,clipDark:0,saturationAdjustmentCutoff:0,saturationLight:0,saturationDark:0,overlayLight:0,overlayDark:0,multiplyLight:0,multiplyDark:0,baseScalePosition:.5};P.defaultPaletteConfig.scaleColorLight,P.defaultPaletteConfig.scaleColorDark;class R{constructor(t){this.palette=[],this.config=Object.assign({},R.defaultPaletteConfig,t),this.regenPalettes()}regenPalettes(){let t=this.config.steps;(isNaN(t)||t<3)&&(t=3);const e=.14,n=new g.h(e,e,e,1),i=new P(Object.assign(Object.assign({},P.greyscalePaletteConfig),{baseColor:n,baseScalePosition:86/94,steps:t})).palette,r=((0,v.rp)(this.config.baseColor)+(0,v.lw)(this.config.baseColor).l)/2,o=this.matchRelativeLuminanceIndex(r,i)/(t-1),a=this.matchRelativeLuminanceIndex(e,i)/(t-1),s=(0,v.lw)(this.config.baseColor),l=(0,v.hP)(A.H.fromObject({h:s.h,s:s.s,l:e})),c=(0,v.hP)(A.H.fromObject({h:s.h,s:s.s,l:.06})),u=new Array(5);u[0]={position:0,color:new g.h(1,1,1,1)},u[1]={position:o,color:this.config.baseColor},u[2]={position:a,color:l},u[3]={position:.99,color:c},u[4]={position:1,color:new g.h(0,0,0,1)};const d=new M(u);this.palette=new Array(t);for(let e=0;e<t;e++){const n=d.getColor(e/(t-1),w.RGB);this.palette[e]=n}}matchRelativeLuminanceIndex(t,e){let n=Number.MAX_VALUE,i=0,r=0;const o=e.length;for(;r<o;r++){const o=Math.abs((0,v.rp)(e[r])-t);o<n&&(n=o,i=r)}return i}}function O(t){return new R({baseColor:t}).palette.map((t=>t.toStringHexRGB().toUpperCase()))}R.defaultPaletteConfig={baseColor:(0,f.in)("#808080"),steps:94};var L=n(3131),_=n(7123),N=n(6571);const H=r.i`
  ${(0,N.j)("block")};
`,F=new d.j("neutral-foreground-rest",L.CH,(t=>t)),Z=r.i`
  :host {
    background-color: var(--background-color);
    color: ${F.var};
  }
`.withBehaviors(F,(0,h.vF)(r.i`
      :host {
        background-color: ${a.H.ButtonFace};
        box-shadow: 0 0 0 1px ${a.H.CanvasText};
        color: ${a.H.ButtonText};
      }
    `));let B=class extends p.hO{constructor(){super(...arguments),this.noPaint=!1}noPaintChanged(){this.noPaint||void 0===this.backgroundColor?this.$fastController.removeStyles(Z):this.$fastController.addStyles(Z)}backgroundColorChanged(){this.noPaintChanged()}neutralBaseColorChanged(t,e){const n=(0,f.in)(e);n&&(this.neutralPalette=O(n))}accentBaseColorChanged(t,e){const n=(0,f.in)(e);n&&(this.accentPalette=O(n))}};(0,i.gn)([(0,o.Lj)({attribute:"no-paint",mode:"boolean"})],B.prototype,"noPaint",void 0),(0,i.gn)([l({attribute:"background-color",default:_.GD.backgroundColor})],B.prototype,"backgroundColor",void 0),(0,i.gn)([l({attribute:"neutral-base-color",cssCustomProperty:!1,default:_.GD.neutralBaseColor})],B.prototype,"neutralBaseColor",void 0),(0,i.gn)([l({attribute:"accent-base-color",cssCustomProperty:!1,default:_.GD.accentBaseColor})],B.prototype,"accentBaseColor",void 0),(0,i.gn)([l({attribute:!1,cssCustomProperty:!1,default:_.GD.neutralPalette})],B.prototype,"neutralPalette",void 0),(0,i.gn)([l({attribute:!1,cssCustomProperty:!1,default:_.GD.accentPalette})],B.prototype,"accentPalette",void 0),(0,i.gn)([l({default:_.GD.density,converter:o.Id})],B.prototype,"density",void 0),(0,i.gn)([l({attribute:"design-unit",converter:o.Id,default:_.GD.designUnit})],B.prototype,"designUnit",void 0),(0,i.gn)([l({attribute:"direction",cssCustomProperty:!1,default:_.GD.direction})],B.prototype,"direction",void 0),(0,i.gn)([l({attribute:"base-height-multiplier",default:_.GD.baseHeightMultiplier,converter:o.Id})],B.prototype,"baseHeightMultiplier",void 0),(0,i.gn)([l({attribute:"base-horizontal-spacing-multiplier",converter:o.Id,default:_.GD.baseHorizontalSpacingMultiplier})],B.prototype,"baseHorizontalSpacingMultiplier",void 0),(0,i.gn)([l({attribute:"corner-radius",converter:o.Id,default:_.GD.cornerRadius})],B.prototype,"cornerRadius",void 0),(0,i.gn)([l({attribute:"elevated-corner-radius",converter:o.Id,default:_.GD.elevatedCornerRadius})],B.prototype,"elevatedCornerRadius",void 0),(0,i.gn)([l({attribute:"outline-width",converter:o.Id,default:_.GD.outlineWidth})],B.prototype,"outlineWidth",void 0),(0,i.gn)([l({attribute:"focus-outline-width",converter:o.Id,default:_.GD.focusOutlineWidth})],B.prototype,"focusOutlineWidth",void 0),(0,i.gn)([l({attribute:"disabled-opacity",converter:o.Id,default:_.GD.disabledOpacity})],B.prototype,"disabledOpacity",void 0),(0,i.gn)([l({attribute:"type-ramp-minus-2-font-size",default:_.GD.typeRampMinus2FontSize})],B.prototype,"typeRampMinus2FontSize",void 0),(0,i.gn)([l({attribute:"type-ramp-minus-2-line-height",default:_.GD.typeRampMinus2LineHeight})],B.prototype,"typeRampMinus2LineHeight",void 0),(0,i.gn)([l({attribute:"type-ramp-minus-1-font-size",default:_.GD.typeRampMinus1FontSize})],B.prototype,"typeRampMinus1FontSize",void 0),(0,i.gn)([l({attribute:"type-ramp-minus-1-line-height",default:_.GD.typeRampMinus1LineHeight})],B.prototype,"typeRampMinus1LineHeight",void 0),(0,i.gn)([l({attribute:"type-ramp-base-font-size",default:_.GD.typeRampBaseFontSize})],B.prototype,"typeRampBaseFontSize",void 0),(0,i.gn)([l({attribute:"type-ramp-base-line-height",default:_.GD.typeRampBaseLineHeight})],B.prototype,"typeRampBaseLineHeight",void 0),(0,i.gn)([l({attribute:"type-ramp-plus-1-font-size",default:_.GD.typeRampPlus1FontSize})],B.prototype,"typeRampPlus1FontSize",void 0),(0,i.gn)([l({attribute:"type-ramp-plus-1-line-height",default:_.GD.typeRampPlus1LineHeight})],B.prototype,"typeRampPlus1LineHeight",void 0),(0,i.gn)([l({attribute:"type-ramp-plus-2-font-size",default:_.GD.typeRampPlus2FontSize})],B.prototype,"typeRampPlus2FontSize",void 0),(0,i.gn)([l({attribute:"type-ramp-plus-2-line-height",default:_.GD.typeRampPlus2LineHeight})],B.prototype,"typeRampPlus2LineHeight",void 0),(0,i.gn)([l({attribute:"type-ramp-plus-3-font-size",default:_.GD.typeRampPlus3FontSize})],B.prototype,"typeRampPlus3FontSize",void 0),(0,i.gn)([l({attribute:"type-ramp-plus-3-line-height",default:_.GD.typeRampPlus3LineHeight})],B.prototype,"typeRampPlus3LineHeight",void 0),(0,i.gn)([l({attribute:"type-ramp-plus-4-font-size",default:_.GD.typeRampPlus4FontSize})],B.prototype,"typeRampPlus4FontSize",void 0),(0,i.gn)([l({attribute:"type-ramp-plus-4-line-height",default:_.GD.typeRampPlus4LineHeight})],B.prototype,"typeRampPlus4LineHeight",void 0),(0,i.gn)([l({attribute:"type-ramp-plus-5-font-size",default:_.GD.typeRampPlus5FontSize})],B.prototype,"typeRampPlus5FontSize",void 0),(0,i.gn)([l({attribute:"type-ramp-plus-5-line-height",default:_.GD.typeRampPlus5LineHeight})],B.prototype,"typeRampPlus5LineHeight",void 0),(0,i.gn)([l({attribute:"type-ramp-plus-6-font-size",default:_.GD.typeRampPlus6FontSize})],B.prototype,"typeRampPlus6FontSize",void 0),(0,i.gn)([l({attribute:"type-ramp-plus-6-line-height",default:_.GD.typeRampPlus6LineHeight})],B.prototype,"typeRampPlus6LineHeight",void 0),(0,i.gn)([l({attribute:"accent-fill-rest-delta",converter:o.Id,cssCustomProperty:!1,default:_.GD.accentFillRestDelta})],B.prototype,"accentFillRestDelta",void 0),(0,i.gn)([l({attribute:"accent-fill-hover-delta",converter:o.Id,cssCustomProperty:!1,default:_.GD.accentFillHoverDelta})],B.prototype,"accentFillHoverDelta",void 0),(0,i.gn)([l({attribute:"accent-fill-active-delta",cssCustomProperty:!1,converter:o.Id,default:_.GD.accentFillActiveDelta})],B.prototype,"accentFillActiveDelta",void 0),(0,i.gn)([l({attribute:"accent-fill-focus-delta",converter:o.Id,cssCustomProperty:!1,default:_.GD.accentFillFocusDelta})],B.prototype,"accentFillFocusDelta",void 0),(0,i.gn)([l({attribute:"accent-fill-selected-delta",converter:o.Id,cssCustomProperty:!1,default:_.GD.accentFillSelectedDelta})],B.prototype,"accentFillSelectedDelta",void 0),(0,i.gn)([l({attribute:"accent-foreground-rest-delta",converter:o.Id,cssCustomProperty:!1,default:_.GD.accentForegroundRestDelta})],B.prototype,"accentForegroundRestDelta",void 0),(0,i.gn)([l({attribute:"accent-foreground-hover-delta",converter:o.Id,cssCustomProperty:!1,default:_.GD.accentForegroundHoverDelta})],B.prototype,"accentForegroundHoverDelta",void 0),(0,i.gn)([l({attribute:"accent-foreground-active-delta",converter:o.Id,cssCustomProperty:!1,default:_.GD.accentForegroundActiveDelta})],B.prototype,"accentForegroundActiveDelta",void 0),(0,i.gn)([l({attribute:"accent-foreground-focus-delta",converter:o.Id,cssCustomProperty:!1,default:_.GD.accentForegroundFocusDelta})],B.prototype,"accentForegroundFocusDelta",void 0),(0,i.gn)([l({attribute:"neutral-fill-rest-delta",converter:o.Id,cssCustomProperty:!1,default:_.GD.neutralFillRestDelta})],B.prototype,"neutralFillRestDelta",void 0),(0,i.gn)([l({attribute:"neutral-fill-hover-delta",converter:o.Id,cssCustomProperty:!1,default:_.GD.neutralFillHoverDelta})],B.prototype,"neutralFillHoverDelta",void 0),(0,i.gn)([l({attribute:"neutral-fill-active-delta",converter:o.Id,cssCustomProperty:!1,default:_.GD.neutralFillActiveDelta})],B.prototype,"neutralFillActiveDelta",void 0),(0,i.gn)([l({attribute:"neutral-fill-focus-delta",converter:o.Id,cssCustomProperty:!1,default:_.GD.neutralFillFocusDelta})],B.prototype,"neutralFillFocusDelta",void 0),(0,i.gn)([l({attribute:"neutral-fill-selected-delta",converter:o.Id,cssCustomProperty:!1,default:_.GD.neutralFillSelectedDelta})],B.prototype,"neutralFillSelectedDelta",void 0),(0,i.gn)([l({attribute:"neutral-fill-input-rest-delta",converter:o.Id,cssCustomProperty:!1,default:_.GD.neutralFillInputRestDelta})],B.prototype,"neutralFillInputRestDelta",void 0),(0,i.gn)([l({attribute:"neutral-fill-input-hover-delta",converter:o.Id,cssCustomProperty:!1,default:_.GD.neutralFillInputHoverDelta})],B.prototype,"neutralFillInputHoverDelta",void 0),(0,i.gn)([l({attribute:"neutral-fill-input-active-delta",converter:o.Id,cssCustomProperty:!1,default:_.GD.neutralFillInputActiveDelta})],B.prototype,"neutralFillInputActiveDelta",void 0),(0,i.gn)([l({attribute:"neutral-fill-input-focus-delta",converter:o.Id,cssCustomProperty:!1,default:_.GD.neutralFillInputFocusDelta})],B.prototype,"neutralFillInputFocusDelta",void 0),(0,i.gn)([l({attribute:"neutral-fill-input-selected-delta",converter:o.Id,cssCustomProperty:!1,default:_.GD.neutralFillInputSelectedDelta})],B.prototype,"neutralFillInputSelectedDelta",void 0),(0,i.gn)([l({attribute:"neutral-fill-stealth-rest-delta",converter:o.Id,cssCustomProperty:!1,default:_.GD.neutralFillStealthRestDelta})],B.prototype,"neutralFillStealthRestDelta",void 0),(0,i.gn)([l({attribute:"neutral-fill-stealth-hover-delta",converter:o.Id,cssCustomProperty:!1,default:_.GD.neutralFillStealthHoverDelta})],B.prototype,"neutralFillStealthHoverDelta",void 0),(0,i.gn)([l({attribute:"neutral-fill-stealth-active-delta",converter:o.Id,cssCustomProperty:!1,default:_.GD.neutralFillStealthActiveDelta})],B.prototype,"neutralFillStealthActiveDelta",void 0),(0,i.gn)([l({attribute:"neutral-fill-stealth-focus-delta",converter:o.Id,cssCustomProperty:!1,default:_.GD.neutralFillStealthFocusDelta})],B.prototype,"neutralFillStealthFocusDelta",void 0),(0,i.gn)([l({attribute:"neutral-fill-stealth-selected-delta",converter:o.Id,cssCustomProperty:!1,default:_.GD.neutralFillStealthSelectedDelta})],B.prototype,"neutralFillStealthSelectedDelta",void 0),(0,i.gn)([l({attribute:"neutral-fill-toggle-hover-delta",converter:o.Id,cssCustomProperty:!1,default:_.GD.neutralFillToggleHoverDelta})],B.prototype,"neutralFillToggleHoverDelta",void 0),(0,i.gn)([l({attribute:"neutral-fill-toggle-hover-active",converter:o.Id,cssCustomProperty:!1,default:_.GD.neutralFillToggleActiveDelta})],B.prototype,"neutralFillToggleActiveDelta",void 0),(0,i.gn)([l({attribute:"neutral-fill-toggle-hover-focus",converter:o.Id,cssCustomProperty:!1,default:_.GD.neutralFillToggleFocusDelta})],B.prototype,"neutralFillToggleFocusDelta",void 0),(0,i.gn)([l({attribute:"base-layer-luminance",converter:o.Id,cssCustomProperty:!1,default:_.GD.baseLayerLuminance})],B.prototype,"baseLayerLuminance",void 0),(0,i.gn)([l({attribute:"neutral-fill-card-delta",converter:o.Id,cssCustomProperty:!1,default:_.GD.neutralFillCardDelta})],B.prototype,"neutralFillCardDelta",void 0),(0,i.gn)([l({attribute:"neutral-foreground-hover-delta",converter:o.Id,cssCustomProperty:!1,default:_.GD.neutralForegroundHoverDelta})],B.prototype,"neutralForegroundHoverDelta",void 0),(0,i.gn)([l({attribute:"neutral-foreground-active-delta",converter:o.Id,cssCustomProperty:!1,default:_.GD.neutralForegroundActiveDelta})],B.prototype,"neutralForegroundActiveDelta",void 0),(0,i.gn)([l({attribute:"neutral-foreground-focus-delta",converter:o.Id,cssCustomProperty:!1,default:_.GD.neutralForegroundFocusDelta})],B.prototype,"neutralForegroundFocusDelta",void 0),(0,i.gn)([l({attribute:"neutral-divider-rest-delta",converter:o.Id,cssCustomProperty:!1,default:_.GD.neutralDividerRestDelta})],B.prototype,"neutralDividerRestDelta",void 0),(0,i.gn)([l({attribute:"neutral-outline-rest-delta",converter:o.Id,cssCustomProperty:!1,default:_.GD.neutralOutlineRestDelta})],B.prototype,"neutralOutlineRestDelta",void 0),(0,i.gn)([l({attribute:"neutral-outline-hover-delta",converter:o.Id,cssCustomProperty:!1,default:_.GD.neutralOutlineHoverDelta})],B.prototype,"neutralOutlineHoverDelta",void 0),(0,i.gn)([l({attribute:"neutral-outline-active-delta",converter:o.Id,cssCustomProperty:!1,default:_.GD.neutralOutlineActiveDelta})],B.prototype,"neutralOutlineActiveDelta",void 0),(0,i.gn)([l({attribute:"neutral-outline-focus-delta",converter:o.Id,cssCustomProperty:!1,default:_.GD.neutralOutlineFocusDelta})],B.prototype,"neutralOutlineFocusDelta",void 0),(0,i.gn)([l({attribute:"neutral-contrast-fill-rest-delta",converter:o.Id,cssCustomProperty:!1,default:_.GD.neutralContrastFillRestDelta})],B.prototype,"neutralContrastFillRestDelta",void 0),(0,i.gn)([l({attribute:"neutral-contrast-fill-hover-delta",converter:o.Id,cssCustomProperty:!1,default:_.GD.neutralContrastFillHoverDelta})],B.prototype,"neutralContrastFillHoverDelta",void 0),(0,i.gn)([l({attribute:"neutral-contrast-fill-active-delta",converter:o.Id,cssCustomProperty:!1,default:_.GD.neutralContrastFillActiveDelta})],B.prototype,"neutralContrastFillActiveDelta",void 0),(0,i.gn)([l({attribute:"neutral-contrast-fill-focus-delta",converter:o.Id,cssCustomProperty:!1,default:_.GD.neutralContrastFillFocusDelta})],B.prototype,"neutralContrastFillFocusDelta",void 0),B=(0,i.gn)([(0,p._1)({name:"fluent-design-system-provider",template:c,styles:H,shadowOptions:{mode:"closed"}})],B)},7123:function(t,e,n){"use strict";n.d(e,{GD:function(){return i},R6:function(){return s},Wo:function(){return h},v$:function(){return p},B2:function(){return d},bX:function(){return f},kb:function(){return m},nd:function(){return y},L8:function(){return v},kp:function(){return g},au:function(){return c},Cz:function(){return a},q2:function(){return H},o7:function(){return u},$p:function(){return r},db:function(){return Y},DI:function(){return q},UB:function(){return W},yI:function(){return U},hD:function(){return S},Dk:function(){return F},VQ:function(){return x},jW:function(){return b},q_:function(){return I},Zb:function(){return k},EL:function(){return A},ef:function(){return w},VI:function(){return D},MY:function(){return C},y$:function(){return E},gs:function(){return P},IU:function(){return R},fq:function(){return M},qD:function(){return T},Uy:function(){return O},d0:function(){return _},G:function(){return N},OK:function(){return L},Nt:function(){return B},Cv:function(){return $},Ax:function(){return Z},KS:function(){return j},OD:function(){return z},k9:function(){return G},Kp:function(){return V},yv:function(){return l}});const i={typeRampMinus2FontSize:"10px",typeRampMinus2LineHeight:"16px",typeRampMinus1FontSize:"12px",typeRampMinus1LineHeight:"16px",typeRampBaseFontSize:"14px",typeRampBaseLineHeight:"20px",typeRampPlus1FontSize:"16px",typeRampPlus1LineHeight:"24px",typeRampPlus2FontSize:"20px",typeRampPlus2LineHeight:"28px",typeRampPlus3FontSize:"28px",typeRampPlus3LineHeight:"36px",typeRampPlus4FontSize:"34px",typeRampPlus4LineHeight:"44px",typeRampPlus5FontSize:"46px",typeRampPlus5LineHeight:"56px",typeRampPlus6FontSize:"60px",typeRampPlus6LineHeight:"72px",accentBaseColor:"#0078D4",accentPalette:["#FFFFFF","#FBFDFE","#F6FAFE","#F2F8FD","#EEF6FC","#E9F4FB","#E5F1FB","#E1EFFA","#DCEDF9","#D8EAF8","#D4E8F8","#CFE6F7","#CBE4F6","#C7E1F6","#C2DFF5","#BEDDF4","#BADAF3","#B6D8F3","#B1D6F2","#ADD4F1","#A9D1F0","#A4CFF0","#A0CDEF","#9CCAEE","#97C8EE","#93C6ED","#8FC4EC","#8AC1EB","#86BFEB","#82BDEA","#7DBAE9","#79B8E8","#75B6E8","#70B3E7","#6CB1E6","#68AFE5","#63ADE5","#5FAAE4","#5BA8E3","#56A6E3","#52A3E2","#4EA1E1","#499FE0","#459DE0","#419ADF","#3D98DE","#3896DD","#3493DD","#3091DC","#2B8FDB","#278DDB","#238ADA","#1E88D9","#1A86D8","#1683D8","#1181D7","#0D7FD6","#097DD5","#047AD5","#0078D4","#0075CF","#0072C9","#006FC4","#006CBE","#0069B9","#0066B4","#0063AE","#0060A9","#005CA3","#00599E","#005699","#005393","#00508E","#004D88","#004A83","#00477D","#004478","#004173","#003E6D","#003B68","#003862","#00355D","#003258","#002F52","#002B4D","#002847","#002542","#00223C","#001F36","#001B30","#00182B","#001525","#00121F","#000000"],backgroundColor:"#FFFFFF",baseHeightMultiplier:8,baseHorizontalSpacingMultiplier:3,cornerRadius:2,elevatedCornerRadius:4,density:0,designUnit:4,direction:n(7435).N.ltr,disabledOpacity:.3,focusOutlineWidth:2,neutralBaseColor:"#808080",neutralPalette:["#FFFFFF","#FCFCFC","#FAFAFA","#F7F7F7","#F5F5F5","#F2F2F2","#EFEFEF","#EDEDED","#EAEAEA","#E8E8E8","#E5E5E5","#E2E2E2","#E0E0E0","#DDDDDD","#DBDBDB","#D8D8D8","#D6D6D6","#D3D3D3","#D0D0D0","#CECECE","#CBCBCB","#C9C9C9","#C6C6C6","#C3C3C3","#C1C1C1","#BEBEBE","#BCBCBC","#B9B9B9","#B6B6B6","#B4B4B4","#B1B1B1","#AFAFAF","#ACACAC","#A9A9A9","#A7A7A7","#A4A4A4","#A2A2A2","#9F9F9F","#9D9D9D","#9A9A9A","#979797","#959595","#929292","#909090","#8D8D8D","#8A8A8A","#888888","#858585","#838383","#808080","#7D7D7D","#7B7B7B","#787878","#767676","#737373","#717171","#6E6E6E","#6B6B6B","#696969","#666666","#646464","#616161","#5F5F5F","#5C5C5C","#5A5A5A","#575757","#545454","#525252","#4F4F4F","#4D4D4D","#4A4A4A","#484848","#454545","#424242","#404040","#3D3D3D","#3B3B3B","#383838","#363636","#333333","#313131","#2E2E2E","#2B2B2B","#292929","#262626","#242424","#212121","#1E1E1E","#1B1B1B","#181818","#151515","#121212","#101010","#000000"],outlineWidth:1,accentFillRestDelta:0,accentFillHoverDelta:4,accentFillActiveDelta:-5,accentFillFocusDelta:0,accentFillSelectedDelta:12,accentForegroundRestDelta:0,accentForegroundHoverDelta:6,accentForegroundActiveDelta:-4,accentForegroundFocusDelta:0,neutralFillRestDelta:7,neutralFillHoverDelta:10,neutralFillActiveDelta:5,neutralFillFocusDelta:0,neutralFillSelectedDelta:7,neutralFillInputRestDelta:0,neutralFillInputHoverDelta:0,neutralFillInputActiveDelta:0,neutralFillInputFocusDelta:0,neutralFillInputSelectedDelta:0,neutralFillStealthRestDelta:0,neutralFillStealthHoverDelta:5,neutralFillStealthActiveDelta:3,neutralFillStealthFocusDelta:0,neutralFillStealthSelectedDelta:7,neutralFillToggleHoverDelta:8,neutralFillToggleActiveDelta:-5,neutralFillToggleFocusDelta:0,baseLayerLuminance:-1,neutralFillCardDelta:3,neutralForegroundHoverDelta:0,neutralForegroundActiveDelta:0,neutralForegroundFocusDelta:0,neutralDividerRestDelta:8,neutralOutlineRestDelta:25,neutralOutlineHoverDelta:40,neutralOutlineActiveDelta:16,neutralOutlineFocusDelta:25,neutralContrastFillRestDelta:0,neutralContrastFillHoverDelta:-3,neutralContrastFillActiveDelta:7,neutralContrastFillFocusDelta:0};function r(t,e){return"function"==typeof t?t(e):t}function o(t){return e=>e&&void 0!==e[t]?e[t]:i[t]}const a=o("backgroundColor"),s=(o("neutralBaseColor"),o("accentBaseColor")),l=(o("cornerRadius"),o("neutralPalette")),c=o("accentPalette"),u=(o("designUnit"),o("baseHeightMultiplier"),o("baseHorizontalSpacingMultiplier"),o("outlineWidth"),o("focusOutlineWidth"),o("disabledOpacity"),o("direction")),d=(o("accentFillRestDelta"),o("accentFillHoverDelta")),h=o("accentFillActiveDelta"),p=o("accentFillFocusDelta"),f=o("accentFillSelectedDelta"),g=o("accentForegroundRestDelta"),v=o("accentForegroundHoverDelta"),m=o("accentForegroundActiveDelta"),y=o("accentForegroundFocusDelta"),C=o("neutralFillRestDelta"),b=o("neutralFillHoverDelta"),S=o("neutralFillActiveDelta"),x=o("neutralFillFocusDelta"),E=o("neutralFillSelectedDelta"),w=o("neutralFillInputRestDelta"),A=o("neutralFillInputHoverDelta"),I=o("neutralFillInputActiveDelta"),k=o("neutralFillInputFocusDelta"),D=o("neutralFillInputSelectedDelta"),T=o("neutralFillStealthRestDelta"),M=o("neutralFillStealthHoverDelta"),P=o("neutralFillStealthActiveDelta"),R=o("neutralFillStealthFocusDelta"),O=o("neutralFillStealthSelectedDelta"),L=o("neutralFillToggleHoverDelta"),_=o("neutralFillToggleActiveDelta"),N=o("neutralFillToggleFocusDelta"),H=o("baseLayerLuminance"),F=o("neutralFillCardDelta"),Z=o("neutralForegroundHoverDelta"),B=o("neutralForegroundActiveDelta"),$=o("neutralForegroundFocusDelta"),U=o("neutralDividerRestDelta"),V=o("neutralOutlineRestDelta"),G=o("neutralOutlineHoverDelta"),j=o("neutralOutlineActiveDelta"),z=o("neutralOutlineFocusDelta"),W=(o("neutralContrastFillRestDelta"),o("neutralContrastFillHoverDelta")),Y=o("neutralContrastFillActiveDelta"),q=o("neutralContrastFillFocusDelta")},7980:function(t,e,n){"use strict";n.d(e,{h:function(){return T}});var i=n(5263),r=n(6790),o=n(535),a=n(109),s=n(9927),l=n(9226),c=n(7435),u=n(8973),d=n(4095);var h=n(1449),p=n(9880);class f extends r.H{constructor(){super(...arguments),this.role=p.O.menuitem,this.hasSubmenu=!1,this.currentDirection=c.N.ltr,this.focusSubmenuOnLoad=!1,this.handleMenuItemKeyDown=t=>{if(t.defaultPrevented)return!1;switch(t.keyCode){case u.bq:case u.ei:return this.invoke(),!1;case u.ho:return this.expandAndFocus(),!1;case u.BJ:if(this.expanded)return this.expanded=!1,this.focus(),!1}return!0},this.handleMenuItemClick=t=>(t.defaultPrevented||this.disabled||this.invoke(),!1),this.submenuLoaded=()=>{this.focusSubmenuOnLoad&&(this.focusSubmenuOnLoad=!1,this.hasSubmenu&&(this.submenu.focus(),this.setAttribute("tabindex","-1")))},this.handleMouseOver=t=>(this.disabled||!this.hasSubmenu||this.expanded||(this.expanded=!0),!1),this.handleMouseOut=t=>(!this.expanded||this.contains(document.activeElement)||(this.expanded=!1),!1),this.expandAndFocus=()=>{this.hasSubmenu&&(this.focusSubmenuOnLoad=!0,this.expanded=!0)},this.invoke=()=>{if(!this.disabled)switch(this.role){case p.O.menuitemcheckbox:this.checked=!this.checked,this.$emit("change");break;case p.O.menuitem:this.updateSubmenu(),this.hasSubmenu?this.expandAndFocus():this.$emit("change");break;case p.O.menuitemradio:this.checked||(this.checked=!0)}},this.updateSubmenu=()=>{this.submenu=this.domChildren().find((t=>"menu"===t.getAttribute("role"))),this.hasSubmenu=void 0!==this.submenu}}expandedChanged(t){if(this.$fastController.isConnected){if(void 0===this.submenu)return;!1===this.expanded?this.submenu.collapseExpandedItem():this.currentDirection=(t=>{const e=t.closest("[dir]");return null!==e&&"rtl"===e.dir?c.N.rtl:c.N.ltr})(this),this.$emit("expanded-change",this,{bubbles:!1})}}checkedChanged(t,e){this.$fastController.isConnected&&this.$emit("change")}connectedCallback(){super.connectedCallback(),a.SO.queueUpdate((()=>{this.updateSubmenu()})),this.observer=new MutationObserver(this.updateSubmenu)}disconnectedCallback(){super.disconnectedCallback(),this.submenu=void 0,void 0!==this.observer&&(this.observer.disconnect(),this.observer=void 0)}domChildren(){return Array.from(this.children)}}(0,o.gn)([(0,s.Lj)({mode:"boolean"})],f.prototype,"disabled",void 0),(0,o.gn)([(0,s.Lj)({attribute:"expanded"})],f.prototype,"expanded",void 0),(0,o.gn)([s.Lj],f.prototype,"role",void 0),(0,o.gn)([s.Lj],f.prototype,"checked",void 0),(0,o.gn)([l.LO],f.prototype,"submenuRegion",void 0),(0,o.gn)([l.LO],f.prototype,"hasSubmenu",void 0),(0,o.gn)([l.LO],f.prototype,"currentDirection",void 0),(0,o.gn)([l.LO],f.prototype,"submenu",void 0),(0,h.e)(f,d.hW);var g=n(8480),v=n(9655),m=n(1337);const y=(C="fast",g.d`
    <template
        role="${t=>t.role}"
        aria-haspopup="${t=>t.hasSubmenu?"menu":void 0}"
        aria-checked="${t=>t.role!==p.O.menuitem?t.checked:void 0}"
        aria-disabled="${t=>t.disabled}"
        aria-expanded="${t=>t.expanded}"
        @keydown="${(t,e)=>t.handleMenuItemKeyDown(e.event)}"
        @click="${(t,e)=>t.handleMenuItemClick(e.event)}"
        @mouseover="${(t,e)=>t.handleMouseOver(e.event)}"
        @mouseout="${(t,e)=>t.handleMouseOut(e.event)}"
        class="${t=>t.disabled?"disabled":""} ${t=>t.expanded?"expanded":""}"
    >

            ${(0,v.g)((t=>t.role===p.O.menuitemcheckbox),g.d`
                    <div part="input-container" class="input-container">
                        <span part="checkbox" class="checkbox">
                            <slot name="checkbox-indicator">
                                <svg
                                    aria-hidden="true"
                                    part="checkbox-indicator"
                                    class="checkbox-indicator"
                                    viewBox="0 0 20 20"
                                    xmlns="http://www.w3.org/2000/svg"
                                >
                                    <path
                                        fill-rule="evenodd"
                                        clip-rule="evenodd"
                                        d="M8.143 12.6697L15.235 4.5L16.8 5.90363L8.23812 15.7667L3.80005 11.2556L5.27591 9.7555L8.143 12.6697Z"
                                    />
                                </svg>
                            </slot>
                        </span>
                    </div>
                `)}
            ${(0,v.g)((t=>t.role===p.O.menuitemradio),g.d`
                    <div part="input-container" class="input-container">
                        <span part="radio" class="radio">
                            <slot name="radio-indicator">
                                <span
                                    part="radio-indicator"
                                    class="radio-indicator"
                                ></span>
                            </slot>
                        </span>
                    </div>
                `)}
            ${(0,v.g)((t=>t.hasSubmenu),g.d`
                    <div
                        part="expand-collapse-glyph-container"
                        class="expand-collapse-glyph-container"
                    >
                        <span part="expand-collapse" class="expand-collapse">
                            <slot name="expand-collapse-indicator">
                                <svg
                                    viewBox="0 0 16 16"
                                    xmlns="http://www.w3.org/2000/svg"
                                    class="expand-collapse-glyph"
                                    part="expand-collapse-glyph"
                                >
                                    <path
                                        d="M5.00001 12.3263C5.00124 12.5147 5.05566 12.699 5.15699 12.8578C5.25831 13.0167 5.40243 13.1437 5.57273 13.2242C5.74304 13.3047 5.9326 13.3354 6.11959 13.3128C6.30659 13.2902 6.4834 13.2152 6.62967 13.0965L10.8988 8.83532C11.0739 8.69473 11.2153 8.51658 11.3124 8.31402C11.4096 8.11146 11.46 7.88966 11.46 7.66499C11.46 7.44033 11.4096 7.21853 11.3124 7.01597C11.2153 6.81341 11.0739 6.63526 10.8988 6.49467L6.62967 2.22347C6.48274 2.10422 6.30501 2.02912 6.11712 2.00691C5.92923 1.9847 5.73889 2.01628 5.56823 2.09799C5.39757 2.17969 5.25358 2.30817 5.153 2.46849C5.05241 2.62882 4.99936 2.8144 5.00001 3.00369V12.3263Z"
                                    />
                                </svg>
                            </slot>
                        </span>
                    </div>
                `)}
        </div>
        ${d.hX}
        <span class="content" part="content">
            <slot></slot>
        </span>
        ${d.zq}
        ${(0,v.g)((t=>t.expanded),g.d`
                <${C}-anchored-region
                    :anchorElement="${t=>t}"
                    vertical-positioning-mode="dynamic"
                    vertical-default-position="bottom"
                    vertical-inset="true"
                    horizontal-positioning-mode="dynamic"
                    horizontal-default-position="end"
                    class="submenu-region"
                    dir="${t=>t.currentDirection}"
                    @loaded="${t=>t.submenuLoaded()}"
                    ${(0,m.i)("submenuRegion")}
                    part="submenu-region"
                >
                    <slot name="submenu"></slot>
                </${C}-anchored-region>
            `)}
    </template>
`);var C;var b=n(1108),S=n(6571),x=n(937),E=n(3917),w=n(4381),A=n(5066),I=n(9116),k=n(5826);const D=b.i`
    ${(0,S.j)("grid")} :host {
        outline: none;
        box-sizing: border-box;
        height: calc(${I.i} * 1px);
        grid-template-columns: minmax(42px, auto) 1fr minmax(42px, auto);
        grid-template-rows: auto;
        justify-items: center;
        align-items: center;
        padding: 0;
        margin: 0 calc(var(--design-unit) * 1px);
        white-space: nowrap;
        overflow: hidden;
        color: ${k.sp.var};
        fill: currentcolor;
        cursor: pointer;
        font-family: var(--body-font);
        font-size: var(--type-ramp-base-font-size);
        line-height: var(--type-ramp-base-line-height);
        border-radius: calc(var(--corner-radius) * 1px);
        border: calc(var(--outline-width) * 1px) solid transparent;
    }

    :host(:${x.b}) {
        border: calc(var(--outline-width) * 1px) solid ${k.cI.var};
        box-shadow: 0 0 0 calc((var(--focus-outline-width) - var(--outline-width)) * 1px) ${k.cI.var};
    }

    :host(:hover) {
        background: ${k.Cs.var};
    }

    :host(:active) {
        background: ${k.Nv.var};
    }

    :host(.disabled) {
        cursor: ${E.H};
        opacity: var(--disabled-opacity);
    }

    :host(.disabled:hover) .start,
    :host(.disabled:hover) .end,
    :host(.disabled:hover)::slotted(svg) {
        fill: currentcolor;
    }

    .content {
        grid-column-start: 2;
        justify-self: start;
        overflow: hidden;
        text-overflow: ellipsis;
    }

    .start,
    .end,
    ::slotted(svg) {
        ${""} width: 16px;
        height: 16px;
        display: flex;
    }

    :host(:hover) .start,
    :host(:hover) .end,
    :host(:hover)::slotted(svg),
    :host(:active) .start,
    :host(:active) .end,
    :host(:active)::slotted(svg) {
        fill: ${k.sp.var};
    }


    :host([role="menuitemcheckbox"]),
    :host([role="menuitemradio"]) {
        display: grid;
        grid-template-columns: auto auto 1fr minmax(42px, auto);
        align-items: center;
        min-height: 32px;
    }

    :host .input-container {
        display: none;
    }

    :host([role="menuitemcheckbox"]) .input-container,
    :host([role="menuitemradio"]) .input-container {
        display: grid;
        margin-inline-end: 10px;
    }

    :host([role="menuitemcheckbox"]) .start,
    :host([role="menuitemradio"]) .start {
        grid-column-start: 2;
        margin-inline-end: 10px;
    }

    :host([role="menuitemcheckbox"]) .content,
    :host([role="menuitemradio"]) .content {
        grid-column-start: 3;
    }

    :host([role="menuitemcheckbox"]) .end,
    :host([role="menuitemradio"]) .end {
        grid-column-start: 4;
    }

    :host .checkbox,
    :host .radio {
        display: flex;
        align-items: center;
        justify-content: center;
        position: relative;
        width: 20px;
        height: 20px;
        box-sizing: border-box;
        border: calc(var(--outline-width) * 1px) solid ${k.sp.var};
        outline: none;
        margin-inline-start: 10px;
    }

    :host .checkbox {
        border-radius: calc(var(--corner-radius) * 1px);
    }

    :host .radio {
        border-radius: 999px;
    }

    :host .checkbox-indicator,
    :host .radio-indicator,
    ::slotted([slot="checkbox-indicator"]),
    ::slotted([slot="radio-indicator"]) {
        display: none;
    }

    :host([aria-checked="true"]) .checkbox-indicator,
    :host([aria-checked="true"]) ::slotted([slot="checkbox-indicator"]) {
        width: 100%;
        height: 100%;
        display: block;
        fill: ${k.sp.var};
        pointer-events: none;
    }

    :host([aria-checked="true"]) .radio-indicator {
        position: absolute;
        top: 4px;
        left: 4px;
        right: 4px;
        bottom: 4px;
        border-radius: 999px;
        display: block;
        background: ${k.sp.var};
        pointer-events: none;
    }

    :host([aria-checked="true"]) ::slotted([slot="radio-indicator"]) {
        display: block;
        pointer-events: none;
    }
`.withBehaviors(k.Nv,k.Cs,k.Br,k.cI,k.sp,(0,w.vF)(b.i`
            :host {
                forced-color-adjust: none;
                border-color: transparent;
                color: ${A.H.ButtonText};
                fill: ${A.H.ButtonText};
            }
            :host(:hover) {
                background: ${A.H.Highlight};
                color: ${A.H.HighlightText};
            }
            :host(:hover) .start,
            :host(:hover) .end,
            :host(:hover)::slotted(svg),
            :host(:active) .start,
            :host(:active) .end,
            :host(:active)::slotted(svg) {
                fill: ${A.H.HighlightText};
            }
            :host(:${x.b}) {
                background: ${A.H.Highlight};
                border-color: ${A.H.ButtonText};
                box-shadow: 0 0 0 calc(var(--focus-outline-width) * 1px) inset ${A.H.HighlightText};
                color: ${A.H.HighlightText};
                fill: currentcolor;
            }
            :host(.disabled),
            :host(.disabled:hover),
            :host(.disabled:hover) .start,
            :host(.disabled:hover) .end,
            :host(.disabled:hover)::slotted(svg) {
                background: ${A.H.Canvas};
                color: ${A.H.GrayText};
                fill: currentcolor;
                opacity: 1;
            }

            :host .checkbox,
            :host .radio{
                border-color: ${A.H.ButtonText};
                background: ${A.H.HighlightText};
            }

            :host([checked="true"]) .checkbox,
            :host([checked="true"]) .radio {
                background: ${A.H.HighlightText};
                border-color: ${A.H.HighlightText};
            }

            :host(:hover) .checkbox,
            :host(:hover) .radio,
            :host(:${x.b}) .checkbox,
            :host(:${x.b}) .radio,
            :host([checked="true"]:hover) .checkbox,
            :host([checked="true"]:hover) .radio,
            :host([checked="true"]:${x.b}) .checkbox,
            :host([checked="true"]:${x.b}) .radio {
                border-color: ${A.H.HighlightText};
            }

            :host([aria-checked="true"]) {
                background: ${A.H.Highlight};
                color: ${A.H.HighlightText};
            }

            :host([aria-checked="true"]) .checkbox-indicator,
            :host([aria-checked="true"]) ::slotted([slot="checkbox-indicator"]),
            :host([aria-checked="true"]) ::slotted([slot="radio-indicator"]) {
                fill: ${A.H.Highlight};
            }

            :host([aria-checked="true"]) .radio-indicator {
                background: ${A.H.Highlight};
            }
        `));let T=class extends f{};T=(0,i.gn)([(0,r.M)({name:"fluent-menu-item",template:y,styles:D,shadowOptions:{mode:"closed"}})],T)},5826:function(t,e,n){"use strict";n.d(e,{fE:function(){return wt},En:function(){return Et},iq:function(){return xt},LU:function(){return At},_c:function(){return ut},Jd:function(){return dt},gt:function(){return ct},YK:function(){return lt},I:function(){return Mt},a:function(){return ft},Ep:function(){return pt},j5:function(){return St},gL:function(){return bt},ZC:function(){return Ct},nE:function(){return ht},Nv:function(){return mt},Cs:function(){return vt},Br:function(){return gt},DR:function(){return yt},cI:function(){return Lt},Kt:function(){return _t},EV:function(){return ot},m1:function(){return at},oK:function(){return st},eH:function(){return rt},sp:function(){return it},BO:function(){return Rt},dA:function(){return Pt},$F:function(){return Ot},i2:function(){return Dt},LW:function(){return Tt},Xt:function(){return kt},Fv:function(){return It}});var i=n(83),r=n(7435);const o="#FFFFFF",a="#000000";var s=n(691),l=n(7123),c=n(2208);const u=(0,s.vm)((0,c.r)(l.yv,4.5,0,l.OK,l.d0,l.G)),d=(0,s.mq)(s.lB.rest,u),h=((0,s.mq)(s.lB.hover,u),(0,s.mq)(s.lB.active,u),(0,s.mq)(s.lB.focus,u),(t,e)=>(0,s.$p)(o,t)>=e?o:a);function p(t){return function(e){return"function"==typeof e?n=>h(e(n),t):h(d(e),t)}}const f=p(4.5),g=p(3);var v=n(5542);function m(t){return e=>{const n=(0,l.au)(e),i=(0,l.R6)(e),r=(0,v.hi)(l.au,i)(e),o={rest:(0,l.kp)(e),hover:(0,l.L8)(e),active:(0,l.kb)(e),focus:(0,l.nd)(e)},a=(0,v.Yc)(e)?-1:1,s=r+(1===a?Math.min(o.rest,o.hover):Math.max(a*o.rest,a*o.hover)),c=(0,v.Ce)(l.Cz)(l.au)((()=>s))((()=>a))((e=>e>=t))(e),u=(0,v.Ik)(l.au,c)(e),d=u+a*Math.abs(o.rest-o.hover),h=1===a?o.rest<o.hover:a*o.rest>a*o.hover,p=h?u:d,f=h?d:u,g=p+a*o.active,m=p+a*o.focus;return{rest:(0,v.qZ)(p,n),hover:(0,v.qZ)(f,n),active:(0,v.qZ)(g,n),focus:(0,v.qZ)(m,n)}}}const y=(0,s.vm)(m(4.5)),C=(0,s.vm)(m(3)),b=((0,s.mq)(s.lB.rest,y),(0,s.mq)(s.lB.hover,y),(0,s.mq)(s.lB.active,y),(0,s.mq)(s.lB.focus,y),(0,s.mq)(s.lB.rest,C),(0,s.mq)(s.lB.hover,C),(0,s.mq)(s.lB.active,C),(0,s.mq)(s.lB.focus,C),(t,e)=>(0,s.$p)(o,t)>=e?o:a);function S(t){return function(e){return"function"==typeof e?n=>b(e(n),t):b((0,l.R6)(e),t)}}const x=S(4.5),E=(S(3),(0,s.K2)(l.MY,l.jW,l.hD,l.VQ,l.qD,l.fq,l.gs,l.IU));function w(t){return e=>{const n=(0,v.BD)(e),i=n>=E(e)?-1:1;return(0,v.qZ)(n+i*t(e),(0,l.yv)(e))}}const A=(0,s.vm)(w(l.qD)),I=(0,s.vm)(w(l.fq)),k=(0,s.vm)(w(l.gs)),D=(0,s.vm)(w(l.IU)),T=(0,s.vm)(w(l.Uy)),M=(0,s.vm)((t=>({rest:A(t),hover:I(t),active:k(t),focus:D(t),selected:T(t)})));function P(t){return e=>{const n=(0,v.Yc)(e)?-1:1;return(0,v.qZ)((0,v.BD)(e)-t(e)*n,(0,l.yv)(e))}}const R=(0,s.vm)(P(l.ef)),O=(0,s.vm)(P(l.EL)),L=(0,s.vm)(P(l.q_)),_=(0,s.vm)(P(l.Zb)),N=(0,s.vm)(P(l.VI)),H=(0,s.vm)((t=>({rest:R(t),hover:O(t),active:L(t),focus:_(t),selected:N(t)})));var F=n(4595);const Z=(0,s.K2)(l.MY,l.jW,l.hD);function B(t){return e=>{const n=(0,l.au)(e),i=n.length,r=(0,l.R6)(e),o=x(Object.assign({},e,{backgroundColor:r})),a=(0,l.B2)(e),c=(0,v.BD)(e)>=Z(e)?-1:1,u=i-1,d=(0,v.hi)(l.au,r)(e);let h=0;for(;h<c*a&&(0,F.Z)(d+h+c,0,i)&&(0,s.$p)(n[d+h+c],o)>=t&&(0,F.Z)(d+h+c+c,0,u);)h+=c;const p=d+h,f=p+-1*c*a,g=f+c*(0,l.Wo)(e),m=f+c*(0,l.v$)(e);return{rest:(0,v.qZ)(f,n),hover:(0,v.qZ)(p,n),active:(0,v.qZ)(g,n),focus:(0,v.qZ)(m,n),selected:(0,v.qZ)(f+((0,v.Yc)(e)?-1*(0,l.bX)(e):(0,l.bX)(e)),n)}}}const $=(0,s.vm)(B(4.5)),U=(0,s.vm)(B(3)),V=((0,s.mq)(s.lB.rest,$),(0,s.mq)(s.lB.hover,$),(0,s.mq)(s.lB.active,$),(0,s.mq)(s.lB.focus,$),(0,s.mq)(s.lB.selected,$),(0,s.mq)(s.lB.rest,U),(0,s.mq)(s.lB.hover,U),(0,s.mq)(s.lB.active,U),(0,s.mq)(s.lB.focus,U),(0,s.mq)(s.lB.selected,U),t=>{const e=(0,l.Dk)(t),n=(0,v.hi)(l.yv,(0,l.Cz)(t))(t);return(0,v.qZ)(n-e,(0,l.yv)(t))});const G=(0,s.vm)((t=>{const e=(0,l.yv)(t),n=(0,v.BD)(t),i=(0,v.Yc)(t)?-1:1,r=(0,l.Kp)(t),o=n+i*r,a=o+i*((0,l.k9)(t)-r),s=o+i*((0,l.KS)(t)-r),c=o+i*((0,l.OD)(t)-r);return{rest:(0,v.qZ)(o,e),hover:(0,v.qZ)(a,e),active:(0,v.qZ)(s,e),focus:(0,v.qZ)(c,e)}})),j=((0,s.mq)(s.lB.rest,G),(0,s.mq)(s.lB.hover,G),(0,s.mq)(s.lB.active,G),(0,s.mq)(s.lB.focus,G),(0,s.vm)((t=>{const e=(0,l.yv)(t),n=(0,v.BD)(t),i=(0,l.yI)(t),r=n+((0,v.Yc)(t)?-1:1)*i;return(0,v.qZ)(r,e)})));function z(t){return t>3.5}const W=(0,v.Ce)(l.Cz)(l.yv)((function(t,e,n){return(0,v.hi)(l.yv,t)(n)}))((function(t,e,n){return(0,v.Yc)(n)?-1:1}))(z),Y=(0,s.vm)(W);function q(t,e,n){return(0,v.Yc)(n)?1:-1}const X=(0,s.vm)((0,c.r)(l.yv,14,0,l.UB,l.db,l.DI)),K=(0,s.mq)(s.lB.rest,X);(0,s.mq)(s.lB.hover,X),(0,s.mq)(s.lB.active,X),(0,s.mq)(s.lB.focus,X);var Q=n(3131),J=n(9514),tt=n(3428),et=n(8011),nt=n(9724);const it=(0,i.Q)("neutral-foreground-rest",(t=>(0,Q.DZ)(t).rest),nt.M.findProvider),rt=(0,i.Q)("neutral-foreground-hover",(t=>(0,Q.DZ)(t).hover),nt.M.findProvider),ot=(0,i.Q)("neutral-foreground-active",(t=>(0,Q.DZ)(t).active),nt.M.findProvider),at=(0,i.Q)("neutral-foreground-focus",(t=>(0,Q.DZ)(t).focus),nt.M.findProvider),st=((0,i.Q)("neutral-foreground-toggle",f,nt.M.findProvider),(0,i.Q)("neutral-foreground-toggle-large",g,nt.M.findProvider),(0,i.Q)("neutral-foreground-hint",J.Q,nt.M.findProvider)),lt=((0,i.Q)("neutral-foreground-hint-large",J._,nt.M.findProvider),(0,i.Q)("accent-foreground-rest",(t=>y(t).rest),nt.M.findProvider)),ct=(0,i.Q)("accent-foreground-hover",(t=>y(t).hover),nt.M.findProvider),ut=(0,i.Q)("accent-foreground-active",(t=>y(t).active),nt.M.findProvider),dt=((0,i.Q)("accent-foreground-focus",(t=>y(t).focus),nt.M.findProvider),(0,i.Q)("accent-foreground-cut-rest",(t=>x(t)),nt.M.findProvider)),ht=((0,i.Q)("accent-foreground-large-rest",(t=>C(t).rest),nt.M.findProvider),(0,i.Q)("accent-foreground-large-hover",(t=>C(t).hover),nt.M.findProvider),(0,i.Q)("accent-foreground-large-active",(t=>C(t).active),nt.M.findProvider),(0,i.Q)("accent-foreground-large-focus",(t=>C(t).focus),nt.M.findProvider),(0,i.Q)("neutral-fill-rest",(t=>(0,tt.Nj)(t).rest),nt.M.findProvider)),pt=(0,i.Q)("neutral-fill-hover",(t=>(0,tt.Nj)(t).hover),nt.M.findProvider),ft=(0,i.Q)("neutral-fill-active",(t=>(0,tt.Nj)(t).active),nt.M.findProvider),gt=((0,i.Q)("neutral-fill-focus",(t=>(0,tt.Nj)(t).focus),nt.M.findProvider),(0,i.Q)("neutral-fill-selected",(t=>(0,tt.Nj)(t).selected),nt.M.findProvider),(0,i.Q)("neutral-fill-stealth-rest",(t=>M(t).rest),nt.M.findProvider)),vt=(0,i.Q)("neutral-fill-stealth-hover",(t=>M(t).hover),nt.M.findProvider),mt=(0,i.Q)("neutral-fill-stealth-active",(t=>M(t).active),nt.M.findProvider),yt=((0,i.Q)("neutral-fill-stealth-focus",(t=>M(t).focus),nt.M.findProvider),(0,i.Q)("neutral-fill-stealth-selected",(t=>M(t).selected),nt.M.findProvider)),Ct=((0,i.Q)("neutral-fill-toggle-rest",(t=>u(t).rest),nt.M.findProvider),(0,i.Q)("neutral-fill-toggle-hover",(t=>u(t).hover),nt.M.findProvider),(0,i.Q)("neutral-fill-toggle-active",(t=>u(t).active),nt.M.findProvider),(0,i.Q)("neutral-fill-toggle-focus",(t=>u(t).focus),nt.M.findProvider),(0,i.Q)("neutral-fill-input-rest",(t=>H(t).rest),nt.M.findProvider)),bt=(0,i.Q)("neutral-fill-input-hover",(t=>H(t).hover),nt.M.findProvider),St=(0,i.Q)("neutral-fill-input-active",(t=>H(t).active),nt.M.findProvider),xt=((0,i.Q)("neutral-fill-input-focus",(t=>H(t).focus),nt.M.findProvider),(0,i.Q)("accent-fill-rest",(t=>$(t).rest),nt.M.findProvider)),Et=(0,i.Q)("accent-fill-hover",(t=>$(t).hover),nt.M.findProvider),wt=(0,i.Q)("accent-fill-active",(t=>$(t).active),nt.M.findProvider),At=((0,i.Q)("accent-fill-focus",(t=>$(t).focus),nt.M.findProvider),(0,i.Q)("accent-fill-selected",(t=>$(t).selected),nt.M.findProvider)),It=((0,i.Q)("accent-fill-large-rest",(t=>U(t).rest),nt.M.findProvider),(0,i.Q)("accent-fill-large-hover",(t=>U(t).hover),nt.M.findProvider),(0,i.Q)("accent-fill-large-active",(t=>U(t).active),nt.M.findProvider),(0,i.Q)("accent-fill-large-focus",(t=>U(t).focus),nt.M.findProvider),(0,i.Q)("accent-fill-large-selected",(t=>U(t).selected),nt.M.findProvider),(0,i.Q)("neutral-fill-card-rest",(t=>{return"function"==typeof(e=t)?t=>V(Object.assign({},t,{backgroundColor:e(t)})):V(e);var e}),nt.M.findProvider),(0,i.Q)("neutral-outline-rest",(t=>G(t).rest),nt.M.findProvider)),kt=(0,i.Q)("neutral-outline-hover",(t=>G(t).hover),nt.M.findProvider),Dt=(0,i.Q)("neutral-outline-active",(t=>G(t).active),nt.M.findProvider),Tt=(0,i.Q)("neutral-outline-focus",(t=>G(t).focus),nt.M.findProvider),Mt=(0,i.Q)("neutral-divider-rest",j,nt.M.findProvider),Pt=(0,i.Q)("neutral-layer-floating",et.s5,nt.M.findProvider),Rt=(0,i.Q)("neutral-layer-card",et.A4,nt.M.findProvider),Ot=((0,i.Q)("neutral-layer-card-container",et.$B,nt.M.findProvider),(0,i.Q)("neutral-layer-l1",et.Mw,nt.M.findProvider)),Lt=((0,i.Q)("neutral-layer-l1-alt",et.WT,nt.M.findProvider),(0,i.Q)("neutral-layer-l2",et.GD,nt.M.findProvider),(0,i.Q)("neutral-layer-l3",et.NI,nt.M.findProvider),(0,i.Q)("neutral-layer-l4",et.l$,nt.M.findProvider),(0,i.Q)("neutral-focus",Y,nt.M.findProvider)),_t=(0,i.Q)("neutral-focus-inner-accent",(Nt=l.R6,(0,v.Ce)(Y)(l.au)(function(t){return(e,n,i)=>n.indexOf(t(i))}(Nt))(q)(z)),nt.M.findProvider);var Nt;(0,i.Q)("neutral-contrast-foreground-rest",(t=>(0,Q.CH)(K)(t)),nt.M.findProvider),(0,i.Q)("neutral-contrast-fill-rest",(t=>X(t).rest),nt.M.findProvider),(0,i.Q)("neutral-contrast-fill-hover",(t=>X(t).hover),nt.M.findProvider),(0,i.Q)("neutral-contrast-fill-active",(t=>X(t).active),nt.M.findProvider),(0,i.Q)("neutral-contrast-fill-focus",(t=>X(t).focus),nt.M.findProvider),(0,i.Q)("inline-start",(t=>(0,l.o7)(t)===r.N.ltr?"left":"right"),nt.M.findProvider),(0,i.Q)("inline-end",(t=>(0,l.o7)(t)===r.N.ltr?"right":"left"),nt.M.findProvider)},7708:function(t,e,n){"use strict";n.d(e,{XC:function(){return i}});const i="box-shadow: 0 0 calc((var(--elevation) * 0.225px) + 2px) rgba(0, 0, 0, calc(.11 * (2 - var(--background-luminance, 1)))), 0 calc(var(--elevation) * 0.4px) calc((var(--elevation) * 0.9px)) rgba(0, 0, 0, calc(.13 * (2 - var(--background-luminance, 1))));"},9881:function(t,e,n){"use strict";n.d(e,{G6:function(){return u},jQ:function(){return d},Xu:function(){return h},vt:function(){return p},O8:function(){return f},cg:function(){return g}});var i=n(1108),r=n(5066),o=n(6571),a=n(937),s=n(4381),l=n(9116),c=n(5826);const u=i.i`
  ${(0,o.j)("inline-flex")} :host {
    font-family: var(--body-font);
    outline: none;
    font-size: var(--type-ramp-base-font-size);
    line-height: var(--type-ramp-base-line-height);
    height: calc(${l.i} * 1px);
    min-width: calc(${l.i} * 1px);
    background-color: ${c.nE.var};
    color: ${c.sp.var};
    border-radius: calc(var(--corner-radius) * 1px);
    fill: currentcolor;
    cursor: pointer;
  }

  .control {
    background: transparent;
    height: inherit;
    flex-grow: 1;
    box-sizing: border-box;
    display: inline-flex;
    justify-content: center;
    align-items: center;
    padding: 0 calc((10 + (var(--design-unit) * 2 * var(--density))) * 1px);
    white-space: nowrap;
    outline: none;
    text-decoration: none;
    border: calc(var(--outline-width) * 1px) solid transparent;
    color: inherit;
    border-radius: inherit;
    fill: inherit;
    cursor: inherit;
    font-family: inherit;
  }

  .control,
  .end,
  .start {
    font: inherit;
  }

  .control.icon-only {
    padding: 0;
    line-height: 0;
  }

  :host(:hover) {
    background-color: ${c.Ep.var};
  }

  :host(:active) {
    background-color: ${c.a.var};
  }

  .control:${a.b} {
    border: calc(var(--outline-width) * 1px) solid ${c.cI.var};
    box-shadow: 0 0 0 calc((var(--focus-outline-width) - var(--outline-width)) * 1px) ${c.cI.var};
  }

  .control::-moz-focus-inner {
    border: 0;
  }

  .content {
    pointer-events: none;
  }

  .start,
  .end {
    display: flex;
    pointer-events: none;
  }

  ::slotted(svg) {
    ${""} width: 16px;
    height: 16px;
    pointer-events: none;
  }

  .start {
    margin-inline-end: 11px;
  }

  .end {
    margin-inline-start: 11px;
  }
`.withBehaviors(c.nE,c.cI,c.sp,c.Ep,c.a,(0,s.vF)(i.i`
        :host,
        :host([appearance="neutral"]) .control {
          background-color: ${r.H.ButtonFace};
          border-color: ${r.H.ButtonText};
          color: ${r.H.ButtonText};
          fill: currentcolor;
        }

        :host(:not([disabled][href]):hover),
        :host([appearance="neutral"]:not([disabled]):hover) .control {
          forced-color-adjust: none;
          background-color: ${r.H.Highlight};
          color: ${r.H.HighlightText};
        }

        .control:${a.b},
        :host([appearance="outline"]) .control:${a.b},
        :host([appearance="neutral"]:${a.b}) .control {
          forced-color-adjust: none;
          background-color: ${r.H.Highlight};
          border-color: ${r.H.ButtonText};
          box-shadow: 0 0 0 calc((var(--focus-outline-width) - var(--outline-width)) * 1px) ${r.H.ButtonText};
          color: ${r.H.HighlightText};
        }

        .control:not([disabled]):hover,
        :host([appearance="outline"]) .control:hover {
          border-color: ${r.H.ButtonText};
        }

        :host([href]) .control {
          border-color: ${r.H.LinkText};
          color: ${r.H.LinkText};
        }

        :host([href]) .control:hover,
        :host(.neutral[href]) .control:hover,
        :host(.outline[href]) .control:hover,
        :host([href]) .control:${a.b}{
          forced-color-adjust: none;
          background: ${r.H.ButtonFace};
          border-color: ${r.H.LinkText};
          box-shadow: 0 0 0 1px ${r.H.LinkText} inset;
          color: ${r.H.LinkText};
          fill: currentcolor;
        }
    `)),d=i.i`
    :host([appearance="accent"]) {
        background: ${c.iq.var};
        color: ${c.Jd.var};
    }

    :host([appearance="accent"]:hover) {
        background: ${c.En.var};
    }

    :host([appearance="accent"]:active) .control:active {
        background: ${c.fE.var};
    }

    :host([appearance="accent"]) .control:${a.b} {
        box-shadow: 0 0 0 calc(var(--focus-outline-width) * 1px) inset ${c.Kt.var}, 0 0 0 calc((var(--focus-outline-width) - var(--outline-width)) * 1px) ${c.cI.var}
    }
`.withBehaviors(c.iq,c.Jd,c.En,c.fE,c.Kt,(0,s.vF)(i.i`
        :host([appearance="accent"]) .control {
            forced-color-adjust: none;
            background: ${r.H.Highlight};
            color: ${r.H.HighlightText};
        }

        :host([appearance="accent"]) .control:hover,
        :host([appearance="accent"]:active) .control:active {
            background: ${r.H.HighlightText};
            border-color: ${r.H.Highlight};
            color: ${r.H.Highlight};
        }

        :host([appearance="accent"]) .control:${a.b} {
            border-color: ${r.H.ButtonText};
            box-shadow: 0 0 0 2px ${r.H.HighlightText} inset;
        }

        :host([appearance="accent"][href]) .control{
            background: ${r.H.LinkText};
            color: ${r.H.HighlightText};
        }

        :host([appearance="accent"][href]) .control:hover {
            background: ${r.H.ButtonFace};
            border-color: ${r.H.LinkText};
            box-shadow: none;
            color: ${r.H.LinkText};
            fill: currentcolor;
        }

        :host([appearance="accent"][href]) .control:${a.b} {
          border-color: ${r.H.LinkText};
          box-shadow: 0 0 0 2px ${r.H.HighlightText} inset;
      }
    `)),h=i.i`
    :host([appearance="hypertext"]) {
        height: auto;
        font-size: inherit;
        line-height: inherit;
        background: transparent;
        min-width: 0;
    }

    :host([appearance="hypertext"]) .control {
        display: inline;
        padding: 0;
        border: none;
        box-shadow: none;
        border-radius: 0;
        line-height: 1;
    }
    :host a.control:not(:link) {
        background-color: transparent;
        cursor: default;
    }
    :host([appearance="hypertext"]) .control:link,
    :host([appearance="hypertext"]) .control:visited {
        background: transparent;
        color: ${c.YK.var};
        border-bottom: calc(var(--outline-width) * 1px) solid ${c.YK.var};
    }
    :host([appearance="hypertext"]) .control:hover {
        border-bottom-color: ${c.gt.var};
    }
    :host([appearance="hypertext"]) .control:active {
        border-bottom-color: ${c._c.var};
    }
    :host([appearance="hypertext"]) .control:${a.b} {
        border-bottom: calc(var(--focus-outline-width) * 1px) solid ${c.cI.var};
        margin-bottom: calc(calc(var(--outline-width) - var(--focus-outline-width)) * 1px);
    }
`.withBehaviors(c.YK,c.gt,c._c,c.cI,(0,s.vF)(i.i`
      :host([appearance="hypertext"]) .control:${a.b} {
        color: ${r.H.LinkText};
        border-bottom-color: ${r.H.LinkText};
      }
    `)),p=i.i`
    :host([appearance="lightweight"]) {
        background: transparent;
        color: ${c.YK.var};
    }

    :host([appearance="lightweight"]) .control {
        padding: 0;
        height: initial;
        border: none;
        box-shadow: none;
        border-radius: 0;
    }

    :host([appearance="lightweight"]:hover) {
        color: ${c.gt.var};
    }

    :host([appearance="lightweight"]:active) {
        color: ${c._c.var};
    }

    :host([appearance="lightweight"]) .content {
        position: relative;
    }

    :host([appearance="lightweight"]) .content::before {
        content: "";
        display: block;
        height: calc(var(--outline-width) * 1px);
        position: absolute;
        top: calc(1em + 3px);
        width: 100%;
    }

    :host([appearance="lightweight"]:hover) .content::before {
        background: ${c.gt.var};
    }

    :host([appearance="lightweight"]:active) .content::before {
        background: ${c._c.var};
    }

    :host([appearance="lightweight"]) .control:${a.b} .content::before {
        background: ${c.sp.var};
        height: calc(var(--focus-outline-width) * 1px);
    }
`.withBehaviors(c.YK,c.gt,c._c,c.gt,c.sp,(0,s.vF)(i.i`
        :host([appearance="lightweight"]) {
            color: ${r.H.ButtonText};
        }
        :host([appearance="lightweight"]) .control:hover,
        :host([appearance="lightweight"]) .control:${a.b} {
            forced-color-adjust: none;
            background: ${r.H.ButtonFace};
            color: ${r.H.Highlight};
        }
        :host([appearance="lightweight"]) .control:hover .content::before,
        :host([appearance="lightweight"]) .control:${a.b} .content::before {
            background: ${r.H.Highlight};
        }

        :host([appearance="lightweight"][href]) .control:hover,
        :host([appearance="lightweight"][href]) .control:${a.b} {
            background: ${r.H.ButtonFace};
            box-shadow: none;
            color: ${r.H.LinkText};
        }

        :host([appearance="lightweight"][href]) .control:hover .content::before,
        :host([appearance="lightweight"][href]) .control:${a.b} .content::before {
            background: ${r.H.LinkText};
        }
    `)),f=i.i`
    :host([appearance="outline"]) {
        background: transparent;
        border-color: ${c.Fv.var};
    }

    :host([appearance="outline"]:hover) {
        border-color: ${c.Xt.var};
    }

    :host([appearance="outline"]:active) {
        border-color: ${c.i2.var};
    }

    :host([appearance="outline"]) .control {
        border-color: inherit;
    }

    :host([appearance="outline"]) .control:${a.b} {
        box-shadow: 0 0 0 calc((var(--focus-outline-width) - var(--outline-width)) * 1px) ${c.cI.var};
        border-color: ${c.cI.var};
    }
`.withBehaviors(c.Fv,c.Xt,c.i2,c.cI,(0,s.vF)(i.i`
      :host([appearance='outline']) {
        border-color: ${r.H.ButtonText};
      }
      :host([appearance='outline'][href]) {
        border-color: ${r.H.LinkText};
      }
    `)),g=i.i`
  :host([appearance='stealth']) {
    background: ${c.Br.var};
  }

  :host([appearance='stealth']:hover) {
    background: ${c.Cs.var};
  }

  :host([appearance='stealth']:active) {
    background: ${c.Nv.var};
  }
`.withBehaviors(c.Br,c.Cs,c.Nv,(0,s.vF)(i.i`
        :host([appearance="stealth"]),
        :host([appearance="stealth"]) .control {
            forced-color-adjust: none;
            background: ${r.H.ButtonFace};
            border-color: transparent;
            color: ${r.H.ButtonText};
            fill: currentcolor;
        }

        :host([appearance="stealth"]:hover) .control {
            background: ${r.H.Highlight};
            border-color: ${r.H.Highlight};
            color: ${r.H.HighlightText};
            fill: currentcolor;
        }

        :host([appearance="stealth"]:${a.b}) .control {
            background: ${r.H.Highlight};
            box-shadow: 0 0 0 1px ${r.H.Highlight};
            color: ${r.H.HighlightText};
            fill: currentcolor;
        }

        :host([appearance="stealth"][href]) .control {
            color: ${r.H.LinkText};
        }

        :host([appearance="stealth"]:hover[href]) .control,
        :host([appearance="stealth"]:${a.b}[href]) .control {
            background: ${r.H.LinkText};
            border-color: ${r.H.LinkText};
            color: ${r.H.HighlightText};
            fill: currentcolor;
        }

      :host([appearance="stealth"]:${a.b}[href]) .control {
          box-shadow: 0 0 0 1px ${r.H.LinkText};
      }
    `))},9116:function(t,e,n){"use strict";n.d(e,{i:function(){return i}});const i="(var(--base-height-multiplier) + var(--density)) * var(--design-unit)"},6970:function(t,e,n){"use strict";n.d(e,{H:function(){return o}});var i=n(9226);class r{constructor(t,e,n){this.propertyName=t,this.value=e,this.styles=n}bind(t){i.y$.getNotifier(t).subscribe(this,this.propertyName),this.handleChange(t,this.propertyName)}unbind(t){i.y$.getNotifier(t).unsubscribe(this,this.propertyName),t.$fastController.removeStyles(this.styles)}handleChange(t,e){t[e]===this.value?t.$fastController.addStyles(this.styles):t.$fastController.removeStyles(this.styles)}}function o(t,e){return new r("appearance",t,e)}},5263:function(t,e,n){"use strict";n.d(e,{gn:function(){return i}});function i(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a}},3403:function(t,e,n){"use strict";n.d(e,{rp:function(){return u},hM:function(){return d},wo:function(){return p},lw:function(){return f},hP:function(){return g},T8:function(){return v},iI:function(){return m},zP:function(){return y},rD:function(){return C},v1:function(){return b},DR:function(){return S},$2:function(){return x},KW:function(){return E}});var i=n(1197),r=n(894),o=n(7280),a=n(7042),s=n(8838),l=n(1397),c=n(5737);function u(t){return.2126*t.r+.7152*t.g+.0722*t.b}function d(t){function e(t){return t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4)}return u(new s.h(e(t.r),e(t.g),e(t.b),1))}const h=(t,e)=>(t+.05)/(e+.05);function p(t,e){const n=d(t),i=d(e);return n>i?h(n,i):h(i,n)}function f(t){const e=Math.max(t.r,t.g,t.b),n=Math.min(t.r,t.g,t.b),r=e-n;let o=0;0!==r&&(o=e===t.r?(t.g-t.b)/r%6*60:e===t.g?60*((t.b-t.r)/r+2):60*((t.r-t.g)/r+4)),o<0&&(o+=360);const a=(e+n)/2;let s=0;return 0!==r&&(s=r/(1-Math.abs(2*a-1))),new i.H(o,s,a)}function g(t,e=1){const n=(1-Math.abs(2*t.l-1))*t.s,i=n*(1-Math.abs(t.h/60%2-1)),r=t.l-n/2;let o=0,a=0,l=0;return t.h<60?(o=n,a=i,l=0):t.h<120?(o=i,a=n,l=0):t.h<180?(o=0,a=n,l=i):t.h<240?(o=0,a=i,l=n):t.h<300?(o=i,a=0,l=n):t.h<360&&(o=n,a=0,l=i),new s.h(o+r,a+r,l+r,e)}function v(t){const e=Math.max(t.r,t.g,t.b),n=e-Math.min(t.r,t.g,t.b);let i=0;0!==n&&(i=e===t.r?(t.g-t.b)/n%6*60:e===t.g?60*((t.b-t.r)/n+2):60*((t.r-t.g)/n+4)),i<0&&(i+=360);let o=0;return 0!==e&&(o=n/e),new r.T(i,o,e)}function m(t,e=1){const n=t.s*t.v,i=n*(1-Math.abs(t.h/60%2-1)),r=t.v-n;let o=0,a=0,l=0;return t.h<60?(o=n,a=i,l=0):t.h<120?(o=i,a=n,l=0):t.h<180?(o=0,a=n,l=i):t.h<240?(o=0,a=i,l=n):t.h<300?(o=i,a=0,l=n):t.h<360&&(o=n,a=0,l=i),new s.h(o+r,a+r,l+r,e)}function y(t){function e(t){return t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}const n=e(t.r),i=e(t.g),r=e(t.b),o=.4124564*n+.3575761*i+.1804375*r,a=.2126729*n+.7151522*i+.072175*r,s=.0193339*n+.119192*i+.9503041*r;return new l.x(o,a,s)}function C(t,e=1){function n(t){return t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055}const i=n(3.2404542*t.x-1.5371385*t.y-.4985314*t.z),r=n(-.969266*t.x+1.8760108*t.y+.041556*t.z),o=n(.0556434*t.x-.2040259*t.y+1.0572252*t.z);return new s.h(i,r,o,e)}function b(t){return function(t){function e(t){return t>o.R.epsilon?Math.pow(t,1/3):(o.R.kappa*t+16)/116}const n=e(t.x/l.x.whitePoint.x),i=e(t.y/l.x.whitePoint.y),r=116*i-16,a=500*(n-i),s=200*(i-e(t.z/l.x.whitePoint.z));return new o.R(r,a,s)}(y(t))}function S(t,e=1){return C(function(t){const e=(t.l+16)/116,n=e+t.a/500,i=e-t.b/200,r=Math.pow(n,3),a=Math.pow(e,3),s=Math.pow(i,3);let c=0;c=r>o.R.epsilon?r:(116*n-16)/o.R.kappa;let u=0;u=t.l>o.R.epsilon*o.R.kappa?a:t.l/o.R.kappa;let d=0;return d=s>o.R.epsilon?s:(116*i-16)/o.R.kappa,c=l.x.whitePoint.x*c,u=l.x.whitePoint.y*u,d=l.x.whitePoint.z*d,new l.x(c,u,d)}(t),e)}function x(t){return function(t){let e=0;(Math.abs(t.b)>.001||Math.abs(t.a)>.001)&&(e=(0,c.vi)(Math.atan2(t.b,t.a))),e<0&&(e+=360);const n=Math.sqrt(t.a*t.a+t.b*t.b);return new a.t(t.l,n,e)}(b(t))}function E(t,e=1){return S(function(t){let e=0,n=0;return 0!==t.h&&(e=Math.cos((0,c.Ht)(t.h))*t.c,n=Math.sin((0,c.Ht)(t.h))*t.c),new o.R(t.l,e,n)}(t),e)}},1197:function(t,e,n){"use strict";n.d(e,{H:function(){return r}});var i=n(5737);class r{constructor(t,e,n){this.h=t,this.s=e,this.l=n}static fromObject(t){return!t||isNaN(t.h)||isNaN(t.s)||isNaN(t.l)?null:new r(t.h,t.s,t.l)}equalValue(t){return this.h===t.h&&this.s===t.s&&this.l===t.l}roundToPrecision(t){return new r((0,i.fZ)(this.h,t),(0,i.fZ)(this.s,t),(0,i.fZ)(this.l,t))}toObject(){return{h:this.h,s:this.s,l:this.l}}}},894:function(t,e,n){"use strict";n.d(e,{T:function(){return r}});var i=n(5737);class r{constructor(t,e,n){this.h=t,this.s=e,this.v=n}static fromObject(t){return!t||isNaN(t.h)||isNaN(t.s)||isNaN(t.v)?null:new r(t.h,t.s,t.v)}equalValue(t){return this.h===t.h&&this.s===t.s&&this.v===t.v}roundToPrecision(t){return new r((0,i.fZ)(this.h,t),(0,i.fZ)(this.s,t),(0,i.fZ)(this.v,t))}toObject(){return{h:this.h,s:this.s,v:this.v}}}},7280:function(t,e,n){"use strict";n.d(e,{R:function(){return r}});var i=n(5737);class r{constructor(t,e,n){this.l=t,this.a=e,this.b=n}static fromObject(t){return!t||isNaN(t.l)||isNaN(t.a)||isNaN(t.b)?null:new r(t.l,t.a,t.b)}equalValue(t){return this.l===t.l&&this.a===t.a&&this.b===t.b}roundToPrecision(t){return new r((0,i.fZ)(this.l,t),(0,i.fZ)(this.a,t),(0,i.fZ)(this.b,t))}toObject(){return{l:this.l,a:this.a,b:this.b}}}r.epsilon=216/24389,r.kappa=24389/27},7042:function(t,e,n){"use strict";n.d(e,{t:function(){return r}});var i=n(5737);class r{constructor(t,e,n){this.l=t,this.c=e,this.h=n}static fromObject(t){return!t||isNaN(t.l)||isNaN(t.c)||isNaN(t.h)?null:new r(t.l,t.c,t.h)}equalValue(t){return this.l===t.l&&this.c===t.c&&this.h===t.h}roundToPrecision(t){return new r((0,i.fZ)(this.l,t),(0,i.fZ)(this.c,t),(0,i.fZ)(this.h,t))}toObject(){return{l:this.l,c:this.c,h:this.h}}}},8838:function(t,e,n){"use strict";n.d(e,{h:function(){return r}});var i=n(5737);class r{constructor(t,e,n,i){this.r=t,this.g=e,this.b=n,this.a="number"!=typeof i||isNaN(i)?1:i}static fromObject(t){return!t||isNaN(t.r)||isNaN(t.g)||isNaN(t.b)?null:new r(t.r,t.g,t.b,t.a)}equalValue(t){return this.r===t.r&&this.g===t.g&&this.b===t.b&&this.a===t.a}toStringHexRGB(){return"#"+[this.r,this.g,this.b].map(this.formatHexValue).join("")}toStringHexRGBA(){return this.toStringHexRGB()+this.formatHexValue(this.a)}toStringHexARGB(){return"#"+[this.a,this.r,this.g,this.b].map(this.formatHexValue).join("")}toStringWebRGB(){return`rgb(${Math.round((0,i.cY)(this.r,0,255))},${Math.round((0,i.cY)(this.g,0,255))},${Math.round((0,i.cY)(this.b,0,255))})`}toStringWebRGBA(){return`rgba(${Math.round((0,i.cY)(this.r,0,255))},${Math.round((0,i.cY)(this.g,0,255))},${Math.round((0,i.cY)(this.b,0,255))},${(0,i.uZ)(this.a,0,1)})`}roundToPrecision(t){return new r((0,i.fZ)(this.r,t),(0,i.fZ)(this.g,t),(0,i.fZ)(this.b,t),(0,i.fZ)(this.a,t))}clamp(){return new r((0,i.uZ)(this.r,0,1),(0,i.uZ)(this.g,0,1),(0,i.uZ)(this.b,0,1),(0,i.uZ)(this.a,0,1))}toObject(){return{r:this.r,g:this.g,b:this.b,a:this.a}}formatHexValue(t){return(0,i.yi)((0,i.cY)(t,0,255))}}},1397:function(t,e,n){"use strict";n.d(e,{x:function(){return r}});var i=n(5737);class r{constructor(t,e,n){this.x=t,this.y=e,this.z=n}static fromObject(t){return!t||isNaN(t.x)||isNaN(t.y)||isNaN(t.z)?null:new r(t.x,t.y,t.z)}equalValue(t){return this.x===t.x&&this.y===t.y&&this.z===t.z}roundToPrecision(t){return new r((0,i.fZ)(this.x,t),(0,i.fZ)(this.y,t),(0,i.fZ)(this.z,t))}toObject(){return{x:this.x,y:this.y,z:this.z}}}r.whitePoint=new r(.95047,1,1.08883)},5737:function(t,e,n){"use strict";function i(t,e,n){return isNaN(t)||t<=e?e:t>=n?n:t}function r(t,e,n){return isNaN(t)||t<=e?0:t>=n?1:t/(n-e)}function o(t,e,n){return isNaN(t)?e:e+t*(n-e)}function a(t){return t*(Math.PI/180)}function s(t){return t*(180/Math.PI)}function l(t){const e=Math.round(i(t,0,255)).toString(16);return 1===e.length?"0"+e:e}function c(t,e,n){return isNaN(t)||t<=0?e:t>=1?n:e+t*(n-e)}function u(t,e,n){if(t<=0)return e%360;if(t>=1)return n%360;const i=(e-n+360)%360;return i<=(n-e+360)%360?(e-i*t+360)%360:(e+i*t+360)%360}n.d(e,{uZ:function(){return i},Fv:function(){return r},cY:function(){return o},Ht:function(){return a},vi:function(){return s},yi:function(){return l},t7:function(){return c},AG:function(){return u},fZ:function(){return d}});Math.PI;function d(t,e){const n=Math.pow(10,e);return Math.round(t*n)/n}},9599:function(t,e,n){"use strict";n.d(e,{pJ:function(){return u},b4:function(){return h},lu:function(){return g},in:function(){return p},hg:function(){return f}});var i=n(8838),r=n(5737);const o={aliceblue:{r:.941176,g:.972549,b:1},antiquewhite:{r:.980392,g:.921569,b:.843137},aqua:{r:0,g:1,b:1},aquamarine:{r:.498039,g:1,b:.831373},azure:{r:.941176,g:1,b:1},beige:{r:.960784,g:.960784,b:.862745},bisque:{r:1,g:.894118,b:.768627},black:{r:0,g:0,b:0},blanchedalmond:{r:1,g:.921569,b:.803922},blue:{r:0,g:0,b:1},blueviolet:{r:.541176,g:.168627,b:.886275},brown:{r:.647059,g:.164706,b:.164706},burlywood:{r:.870588,g:.721569,b:.529412},cadetblue:{r:.372549,g:.619608,b:.627451},chartreuse:{r:.498039,g:1,b:0},chocolate:{r:.823529,g:.411765,b:.117647},coral:{r:1,g:.498039,b:.313725},cornflowerblue:{r:.392157,g:.584314,b:.929412},cornsilk:{r:1,g:.972549,b:.862745},crimson:{r:.862745,g:.078431,b:.235294},cyan:{r:0,g:1,b:1},darkblue:{r:0,g:0,b:.545098},darkcyan:{r:0,g:.545098,b:.545098},darkgoldenrod:{r:.721569,g:.52549,b:.043137},darkgray:{r:.662745,g:.662745,b:.662745},darkgreen:{r:0,g:.392157,b:0},darkgrey:{r:.662745,g:.662745,b:.662745},darkkhaki:{r:.741176,g:.717647,b:.419608},darkmagenta:{r:.545098,g:0,b:.545098},darkolivegreen:{r:.333333,g:.419608,b:.184314},darkorange:{r:1,g:.54902,b:0},darkorchid:{r:.6,g:.196078,b:.8},darkred:{r:.545098,g:0,b:0},darksalmon:{r:.913725,g:.588235,b:.478431},darkseagreen:{r:.560784,g:.737255,b:.560784},darkslateblue:{r:.282353,g:.239216,b:.545098},darkslategray:{r:.184314,g:.309804,b:.309804},darkslategrey:{r:.184314,g:.309804,b:.309804},darkturquoise:{r:0,g:.807843,b:.819608},darkviolet:{r:.580392,g:0,b:.827451},deeppink:{r:1,g:.078431,b:.576471},deepskyblue:{r:0,g:.74902,b:1},dimgray:{r:.411765,g:.411765,b:.411765},dimgrey:{r:.411765,g:.411765,b:.411765},dodgerblue:{r:.117647,g:.564706,b:1},firebrick:{r:.698039,g:.133333,b:.133333},floralwhite:{r:1,g:.980392,b:.941176},forestgreen:{r:.133333,g:.545098,b:.133333},fuchsia:{r:1,g:0,b:1},gainsboro:{r:.862745,g:.862745,b:.862745},ghostwhite:{r:.972549,g:.972549,b:1},gold:{r:1,g:.843137,b:0},goldenrod:{r:.854902,g:.647059,b:.12549},gray:{r:.501961,g:.501961,b:.501961},green:{r:0,g:.501961,b:0},greenyellow:{r:.678431,g:1,b:.184314},grey:{r:.501961,g:.501961,b:.501961},honeydew:{r:.941176,g:1,b:.941176},hotpink:{r:1,g:.411765,b:.705882},indianred:{r:.803922,g:.360784,b:.360784},indigo:{r:.294118,g:0,b:.509804},ivory:{r:1,g:1,b:.941176},khaki:{r:.941176,g:.901961,b:.54902},lavender:{r:.901961,g:.901961,b:.980392},lavenderblush:{r:1,g:.941176,b:.960784},lawngreen:{r:.486275,g:.988235,b:0},lemonchiffon:{r:1,g:.980392,b:.803922},lightblue:{r:.678431,g:.847059,b:.901961},lightcoral:{r:.941176,g:.501961,b:.501961},lightcyan:{r:.878431,g:1,b:1},lightgoldenrodyellow:{r:.980392,g:.980392,b:.823529},lightgray:{r:.827451,g:.827451,b:.827451},lightgreen:{r:.564706,g:.933333,b:.564706},lightgrey:{r:.827451,g:.827451,b:.827451},lightpink:{r:1,g:.713725,b:.756863},lightsalmon:{r:1,g:.627451,b:.478431},lightseagreen:{r:.12549,g:.698039,b:.666667},lightskyblue:{r:.529412,g:.807843,b:.980392},lightslategray:{r:.466667,g:.533333,b:.6},lightslategrey:{r:.466667,g:.533333,b:.6},lightsteelblue:{r:.690196,g:.768627,b:.870588},lightyellow:{r:1,g:1,b:.878431},lime:{r:0,g:1,b:0},limegreen:{r:.196078,g:.803922,b:.196078},linen:{r:.980392,g:.941176,b:.901961},magenta:{r:1,g:0,b:1},maroon:{r:.501961,g:0,b:0},mediumaquamarine:{r:.4,g:.803922,b:.666667},mediumblue:{r:0,g:0,b:.803922},mediumorchid:{r:.729412,g:.333333,b:.827451},mediumpurple:{r:.576471,g:.439216,b:.858824},mediumseagreen:{r:.235294,g:.701961,b:.443137},mediumslateblue:{r:.482353,g:.407843,b:.933333},mediumspringgreen:{r:0,g:.980392,b:.603922},mediumturquoise:{r:.282353,g:.819608,b:.8},mediumvioletred:{r:.780392,g:.082353,b:.521569},midnightblue:{r:.098039,g:.098039,b:.439216},mintcream:{r:.960784,g:1,b:.980392},mistyrose:{r:1,g:.894118,b:.882353},moccasin:{r:1,g:.894118,b:.709804},navajowhite:{r:1,g:.870588,b:.678431},navy:{r:0,g:0,b:.501961},oldlace:{r:.992157,g:.960784,b:.901961},olive:{r:.501961,g:.501961,b:0},olivedrab:{r:.419608,g:.556863,b:.137255},orange:{r:1,g:.647059,b:0},orangered:{r:1,g:.270588,b:0},orchid:{r:.854902,g:.439216,b:.839216},palegoldenrod:{r:.933333,g:.909804,b:.666667},palegreen:{r:.596078,g:.984314,b:.596078},paleturquoise:{r:.686275,g:.933333,b:.933333},palevioletred:{r:.858824,g:.439216,b:.576471},papayawhip:{r:1,g:.937255,b:.835294},peachpuff:{r:1,g:.854902,b:.72549},peru:{r:.803922,g:.521569,b:.247059},pink:{r:1,g:.752941,b:.796078},plum:{r:.866667,g:.627451,b:.866667},powderblue:{r:.690196,g:.878431,b:.901961},purple:{r:.501961,g:0,b:.501961},red:{r:1,g:0,b:0},rosybrown:{r:.737255,g:.560784,b:.560784},royalblue:{r:.254902,g:.411765,b:.882353},saddlebrown:{r:.545098,g:.270588,b:.07451},salmon:{r:.980392,g:.501961,b:.447059},sandybrown:{r:.956863,g:.643137,b:.376471},seagreen:{r:.180392,g:.545098,b:.341176},seashell:{r:1,g:.960784,b:.933333},sienna:{r:.627451,g:.321569,b:.176471},silver:{r:.752941,g:.752941,b:.752941},skyblue:{r:.529412,g:.807843,b:.921569},slateblue:{r:.415686,g:.352941,b:.803922},slategray:{r:.439216,g:.501961,b:.564706},slategrey:{r:.439216,g:.501961,b:.564706},snow:{r:1,g:.980392,b:.980392},springgreen:{r:0,g:1,b:.498039},steelblue:{r:.27451,g:.509804,b:.705882},tan:{r:.823529,g:.705882,b:.54902},teal:{r:0,g:.501961,b:.501961},thistle:{r:.847059,g:.74902,b:.847059},tomato:{r:1,g:.388235,b:.278431},transparent:{r:0,g:0,b:0,a:0},turquoise:{r:.25098,g:.878431,b:.815686},violet:{r:.933333,g:.509804,b:.933333},wheat:{r:.960784,g:.870588,b:.701961},white:{r:1,g:1,b:1},whitesmoke:{r:.960784,g:.960784,b:.960784},yellow:{r:1,g:1,b:0},yellowgreen:{r:.603922,g:.803922,b:.196078}},a=/^rgb\(\s*((?:(?:25[0-5]|2[0-4]\d|1\d\d|\d{1,2})\s*,\s*){2}(?:25[0-5]|2[0-4]\d|1\d\d|\d{1,2})\s*)\)$/i,s=/^rgba\(\s*((?:(?:25[0-5]|2[0-4]\d|1\d\d|\d{1,2})\s*,\s*){3}(?:0|1|0?\.\d*)\s*)\)$/i,l=/^#((?:[0-9a-f]{6}|[0-9a-f]{3}))$/i,c=/^#((?:[0-9a-f]{8}|[0-9a-f]{4}))$/i;function u(t){return l.test(t)}function d(t){return function(t){return c.test(t)}(t)}function h(t){return a.test(t)}function p(t){const e=l.exec(t);if(null===e)return null;let n=e[1];if(3===n.length){const t=n.charAt(0),e=n.charAt(1),i=n.charAt(2);n=t.concat(t,e,e,i,i)}const o=parseInt(n,16);return isNaN(o)?null:new i.h((0,r.Fv)((16711680&o)>>>16,0,255),(0,r.Fv)((65280&o)>>>8,0,255),(0,r.Fv)(255&o,0,255),1)}function f(t){const e=a.exec(t);if(null===e)return null;const n=e[1].split(",");return new i.h((0,r.Fv)(Number(n[0]),0,255),(0,r.Fv)(Number(n[1]),0,255),(0,r.Fv)(Number(n[2]),0,255),1)}function g(t){const e=t.toLowerCase();return u(e)?p(e):d(e)?function(t){const e=c.exec(t);if(null===e)return null;let n=e[1];if(4===n.length){const t=n.charAt(0),e=n.charAt(1),i=n.charAt(2),r=n.charAt(3);n=t.concat(t,e,e,i,i,r,r)}const o=parseInt(n,16);return isNaN(o)?null:new i.h((0,r.Fv)((16711680&o)>>>16,0,255),(0,r.Fv)((65280&o)>>>8,0,255),(0,r.Fv)(255&o,0,255),(0,r.Fv)((4278190080&o)>>>24,0,255))}(e):h(e)?f(e):function(t){return s.test(t)}(e)?function(t){const e=s.exec(t);if(null===e)return null;const n=e[1].split(",");return 4===n.length?new i.h((0,r.Fv)(Number(n[0]),0,255),(0,r.Fv)(Number(n[1]),0,255),(0,r.Fv)(Number(n[2]),0,255),Number(n[3])):null}(e):function(t){return o.hasOwnProperty(t)}(e)?function(t){const e=o[t.toLowerCase()];return e?new i.h(e.r,e.g,e.b,e.hasOwnProperty("a")?e.a:void 0):null}(e):null}},9927:function(t,e,n){"use strict";n.d(e,{bw:function(){return o},Id:function(){return a},so:function(){return s},Lj:function(){return l}});var i=n(9226),r=n(109);const o={toView:t=>t?"true":"false",fromView:t=>null!=t&&"false"!==t&&!1!==t&&0!==t},a={toView(t){if(null==t)return null;const e=1*t;return isNaN(e)?null:e.toString()},fromView(t){if(null==t)return null;const e=1*t;return isNaN(e)?null:e}};class s{constructor(t,e,n=e.toLowerCase(),i="reflect",r){this.guards=new Set,this.Owner=t,this.name=e,this.attribute=n,this.mode=i,this.converter=r,this.fieldName=`_${e}`,this.callbackName=`${e}Changed`,this.hasCallback=this.callbackName in t.prototype,"boolean"===i&&void 0===r&&(this.converter=o)}setValue(t,e){const n=t[this.fieldName],i=this.converter;void 0!==i&&(e=i.fromView(e)),n!==e&&(t[this.fieldName]=e,this.tryReflectToAttribute(t),this.hasCallback&&t[this.callbackName](n,e),t.$fastController.notify(this.name))}getValue(t){return i.y$.track(t,this.name),t[this.fieldName]}onAttributeChangedCallback(t,e){this.guards.has(t)||(this.guards.add(t),this.setValue(t,e),this.guards.delete(t))}tryReflectToAttribute(t){const e=this.mode,n=this.guards;n.has(t)||"fromView"===e||r.SO.queueUpdate((()=>{n.add(t);const i=t[this.fieldName];switch(e){case"reflect":const e=this.converter;r.SO.setAttribute(t,this.attribute,void 0!==e?e.toView(i):i);break;case"boolean":r.SO.setBooleanAttribute(t,this.attribute,i)}n.delete(t)}))}static collect(t,...e){const n=[];e.push(t.attributes);for(let i=0,r=e.length;i<r;++i){const r=e[i];if(void 0!==r)for(let e=0,i=r.length;e<i;++e){const i=r[e];"string"==typeof i?n.push(new s(t,i)):n.push(new s(t,i.property,i.attribute,i.mode,i.converter))}}return n}}function l(t,e){let n;function i(t,e){arguments.length>1&&(n.property=e);const i=t.constructor.attributes||(t.constructor.attributes=[]);i.push(n)}return arguments.length>1?(n={},void i(t,e)):(n=void 0===t?{}:t,i)}},6790:function(t,e,n){"use strict";n.d(e,{H:function(){return m},M:function(){return y}});var i=n(109),r=n(3480),o=n(9226),a=n(6169),s=n(9927);const l={mode:"open"},c={},u=new Map;class d{constructor(t,e=t.definition){"string"==typeof e&&(e={name:e}),this.type=t,this.name=e.name,this.template=e.template;const n=s.so.collect(t,e.attributes),i=new Array(n.length),r={},o={};for(let t=0,e=n.length;t<e;++t){const e=n[t];i[t]=e.attribute,r[e.name]=e,o[e.attribute]=e}this.attributes=n,this.observedAttributes=i,this.propertyLookup=r,this.attributeLookup=o,this.shadowOptions=void 0===e.shadowOptions?l:null===e.shadowOptions?void 0:Object.assign(Object.assign({},l),e.shadowOptions),this.elementOptions=void 0===e.elementOptions?c:Object.assign(Object.assign({},c),e.elementOptions),this.styles=void 0===e.styles?void 0:Array.isArray(e.styles)?a.XL.create(e.styles):e.styles instanceof a.XL?e.styles:a.XL.create([e.styles])}define(t=customElements){const e=this.type;if(!this.isDefined){const t=this.attributes,n=e.prototype;for(let e=0,i=t.length;e<i;++e)o.y$.defineProperty(n,t[e]);Reflect.defineProperty(e,"observedAttributes",{value:this.observedAttributes,enumerable:!0}),u.set(e,this),this.isDefined=!0}return t.get(this.name)||t.define(this.name,e,this.elementOptions),this}static forType(t){return u.get(t)}}const h=new WeakMap,p={bubbles:!0,composed:!0,cancelable:!0};function f(t){return t.shadowRoot||h.get(t)||null}class g extends r.A{constructor(t,e){super(t),this.boundObservables=null,this.behaviors=null,this.needsInitialization=!0,this._template=null,this._styles=null,this._isConnected=!1,this.view=null,this.element=t,this.definition=e;const n=e.shadowOptions;if(void 0!==n){const e=t.attachShadow(n);"closed"===n.mode&&h.set(t,e)}const i=o.y$.getAccessors(t);if(i.length>0){const e=this.boundObservables=Object.create(null);for(let n=0,r=i.length;n<r;++n){const r=i[n].name,o=t[r];void 0!==o&&(delete t[r],e[r]=o)}}}get isConnected(){return o.y$.track(this,"isConnected"),this._isConnected}setIsConnected(t){this._isConnected=t,o.y$.notify(this,"isConnected")}get template(){return this._template}set template(t){this._template!==t&&(this._template=t,this.needsInitialization||this.renderTemplate(t))}get styles(){return this._styles}set styles(t){this._styles!==t&&(null!==this._styles&&this.removeStyles(this._styles),this._styles=t,this.needsInitialization||null===t||this.addStyles(t))}addStyles(t){const e=f(this.element)||this.element.getRootNode();if(t instanceof HTMLStyleElement)e.prepend(t);else if(!t.isAttachedTo(e)){const n=t.behaviors;t.addStylesTo(e),null!==n&&this.addBehaviors(n)}}removeStyles(t){const e=f(this.element)||this.element.getRootNode();if(t instanceof HTMLStyleElement)e.removeChild(t);else if(t.isAttachedTo(e)){const n=t.behaviors;t.removeStylesFrom(e),null!==n&&this.removeBehaviors(n)}}addBehaviors(t){const e=this.behaviors||(this.behaviors=new Map),n=t.length,i=[];for(let r=0;r<n;++r){const n=t[r];e.has(n)?e.set(n,e.get(n)+1):(e.set(n,1),i.push(n))}if(this._isConnected){const t=this.element;for(let e=0;e<i.length;++e)i[e].bind(t,o.Wp)}}removeBehaviors(t,e=!1){const n=this.behaviors;if(null===n)return;const i=t.length,r=[];for(let o=0;o<i;++o){const i=t[o];if(n.has(i)){const t=n.get(i)-1;0===t||e?n.delete(i)&&r.push(i):n.set(i,t)}}if(this._isConnected){const t=this.element;for(let e=0;e<r.length;++e)r[e].unbind(t)}}onConnectedCallback(){if(this._isConnected)return;const t=this.element;this.needsInitialization?this.finishInitialization():null!==this.view&&this.view.bind(t,o.Wp);const e=this.behaviors;if(null!==e)for(const[n]of e)n.bind(t,o.Wp);this.setIsConnected(!0)}onDisconnectedCallback(){if(!this._isConnected)return;this.setIsConnected(!1);const t=this.view;null!==t&&t.unbind();const e=this.behaviors;if(null!==e){const t=this.element;for(const[n]of e)n.unbind(t)}}onAttributeChangedCallback(t,e,n){const i=this.definition.attributeLookup[t];void 0!==i&&i.onAttributeChangedCallback(this.element,n)}emit(t,e,n){return!!this._isConnected&&this.element.dispatchEvent(new CustomEvent(t,Object.assign(Object.assign({detail:e},p),n)))}finishInitialization(){const t=this.element,e=this.boundObservables;if(null!==e){const n=Object.keys(e);for(let i=0,r=n.length;i<r;++i){const r=n[i];t[r]=e[r]}this.boundObservables=null}const n=this.definition;null===this._template&&(this.element.resolveTemplate?this._template=this.element.resolveTemplate():n.template&&(this._template=n.template||null)),null!==this._template&&this.renderTemplate(this._template),null===this._styles&&(this.element.resolveStyles?this._styles=this.element.resolveStyles():n.styles&&(this._styles=n.styles||null)),null!==this._styles&&this.addStyles(this._styles),this.needsInitialization=!1}renderTemplate(t){const e=this.element,n=f(e)||e;null!==this.view?(this.view.dispose(),this.view=null):this.needsInitialization||i.SO.removeChildNodes(n),t&&(this.view=t.render(e,n,e))}static forCustomElement(t){const e=t.$fastController;if(void 0!==e)return e;const n=d.forType(t.constructor);if(void 0===n)throw new Error("Missing FASTElement definition.");return t.$fastController=new g(t,n)}}function v(t){return class extends t{constructor(){super(),g.forCustomElement(this)}$emit(t,e,n){return this.$fastController.emit(t,e,n)}connectedCallback(){this.$fastController.onConnectedCallback()}disconnectedCallback(){this.$fastController.onDisconnectedCallback()}attributeChangedCallback(t,e,n){this.$fastController.onAttributeChangedCallback(t,e,n)}}}const m=Object.assign(v(HTMLElement),{from:t=>v(t),define:(t,e)=>new d(t,e).define().type});function y(t){return function(e){new d(e,t).define()}}},109:function(t,e,n){"use strict";n.d(e,{pc:function(){return c},Yl:function(){return u},SO:function(){return d}});var i=n(4164);const r=[],o=i.P.trustedTypes.createPolicy("fast-html",{createHTML:t=>t});let a=o;function s(){let t=0;for(;t<r.length;){if(r[t].call(),t++,t>1024){for(let e=0,n=r.length-t;e<n;e++)r[e]=r[e+t];r.length-=t,t=0}}r.length=0}const l=`fast-${Math.random().toString(36).substring(2,8)}`,c=`${l}{`,u=`}${l}`,d=Object.freeze({supportsAdoptedStyleSheets:Array.isArray(document.adoptedStyleSheets)&&"replace"in CSSStyleSheet.prototype,setHTMLPolicy(t){if(a!==o)throw new Error("The HTML policy can only be set once.");a=t},createHTML:t=>a.createHTML(t),isMarker:t=>t&&8===t.nodeType&&t.data.startsWith(l),extractDirectiveIndexFromMarker:t=>parseInt(t.data.replace(`${l}:`,"")),createInterpolationPlaceholder:t=>`${c}${t}${u}`,createCustomAttributePlaceholder(t,e){return`${t}="${this.createInterpolationPlaceholder(e)}"`},createBlockPlaceholder:t=>`\x3c!--${l}:${t}--\x3e`,queueUpdate(t){r.length<1&&window.requestAnimationFrame(s),r.push(t)},nextUpdate:()=>new Promise((t=>{d.queueUpdate(t)})),setAttribute(t,e,n){null==n?t.removeAttribute(e):t.setAttribute(e,n)},setBooleanAttribute(t,e,n){n?t.setAttribute(e,""):t.removeAttribute(e)},removeChildNodes(t){for(let e=t.firstChild;null!==e;e=t.firstChild)t.removeChild(e)},createTemplateWalker:t=>document.createTreeWalker(t,133,null,!1)})},3480:function(t,e,n){"use strict";function i(t){const e=this.spillover;-1===e.indexOf(t)&&e.push(t)}function r(t){const e=this.spillover,n=e.indexOf(t);-1!==n&&e.splice(n,1)}function o(t){const e=this.spillover,n=this.source;for(let i=0,r=e.length;i<r;++i)e[i].handleChange(n,t)}function a(t){return-1!==this.spillover.indexOf(t)}n.d(e,{q:function(){return s},A:function(){return l}});class s{constructor(t,e){this.sub1=void 0,this.sub2=void 0,this.spillover=void 0,this.source=t,this.sub1=e}has(t){return this.sub1===t||this.sub2===t}subscribe(t){this.has(t)||(void 0!==this.sub1?void 0!==this.sub2?(this.spillover=[this.sub1,this.sub2,t],this.subscribe=i,this.unsubscribe=r,this.notify=o,this.has=a,this.sub1=void 0,this.sub2=void 0):this.sub2=t:this.sub1=t)}unsubscribe(t){this.sub1===t?this.sub1=void 0:this.sub2===t&&(this.sub2=void 0)}notify(t){const e=this.sub1,n=this.sub2,i=this.source;void 0!==e&&e.handleChange(i,t),void 0!==n&&n.handleChange(i,t)}}class l{constructor(t){this.subscribers={},this.source=t}notify(t){const e=this.subscribers[t];void 0!==e&&e.notify(t)}subscribe(t,e){let n=this.subscribers[e];void 0===n&&(this.subscribers[e]=n=new s(this.source)),n.subscribe(t)}unsubscribe(t,e){const n=this.subscribers[e];void 0!==n&&n.unsubscribe(t)}}},9226:function(t,e,n){"use strict";n.d(e,{y$:function(){return d},LO:function(){return f},z8:function(){return v},Wp:function(){return y}});var i=n(109),r=n(3480);const o=/(:|&&|\|\||if)/,a=new WeakMap,s=new WeakMap;let l,c=t=>{throw new Error("Must call enableArrayObservation before observing arrays.")};class u{constructor(t){this.name=t,this.field=`_${t}`,this.callback=`${t}Changed`}getValue(t){return void 0!==l&&l.watch(t,this.name),t[this.field]}setValue(t,e){const n=this.field,i=t[n];if(i!==e){t[n]=e;const r=t[this.callback];"function"==typeof r&&r.call(t,i,e),h(t).notify(this.name)}}}const d=Object.freeze({setArrayObserverFactory(t){c=t},getNotifier(t){let e=t.$fastController||a.get(t);return void 0===e&&(Array.isArray(t)?e=c(t):a.set(t,e=new r.A(t))),e},track(t,e){void 0!==l&&l.watch(t,e)},trackVolatile(){void 0!==l&&(l.needsRefresh=!0)},notify(t,e){h(t).notify(e)},defineProperty(t,e){"string"==typeof e&&(e=new u(e)),this.getAccessors(t).push(e),Reflect.defineProperty(t,e.name,{enumerable:!0,get:function(){return e.getValue(this)},set:function(t){e.setValue(this,t)}})},getAccessors(t){let e=s.get(t);if(void 0===e){let n=Reflect.getPrototypeOf(t);for(;void 0===e&&null!==n;)e=s.get(n),n=Reflect.getPrototypeOf(n);e=void 0===e?[]:e.slice(0),s.set(t,e)}return e},binding(t,e,n=this.isVolatileBinding(t)){return new C(t,e,n)},isVolatileBinding:t=>o.test(t.toString())}),h=d.getNotifier,p=(d.trackVolatile,i.SO.queueUpdate);function f(t,e){d.defineProperty(t,e)}let g=null;function v(t){g=t}class m{constructor(){this.index=0,this.length=0,this.parent=null,this.parentContext=null}get event(){return g}get isEven(){return this.index%2==0}get isOdd(){return this.index%2!=0}get isFirst(){return 0===this.index}get isInMiddle(){return!this.isFirst&&!this.isLast}get isLast(){return this.index===this.length-1}}d.defineProperty(m.prototype,"index"),d.defineProperty(m.prototype,"length");const y=Object.seal(new m);class C extends r.q{constructor(t,e,n=!1){super(t,e),this.binding=t,this.isVolatileBinding=n,this.needsRefresh=!0,this.needsQueue=!0,this.first=this,this.last=null,this.propertySource=void 0,this.propertyName=void 0,this.notifier=void 0,this.next=void 0}observe(t,e){this.needsRefresh&&null!==this.last&&this.disconnect();const n=l;l=this.needsRefresh?this:void 0,this.needsRefresh=this.isVolatileBinding;const i=this.binding(t,e);return l=n,i}disconnect(){if(null!==this.last){let t=this.first;for(;void 0!==t;)t.notifier.unsubscribe(this,t.propertyName),t=t.next;this.last=null,this.needsRefresh=this.needsQueue=!0}}watch(t,e){const n=this.last,i=h(t),r=null===n?this.first:{};if(r.propertySource=t,r.propertyName=e,r.notifier=i,i.subscribe(this,e),null!==n){if(!this.needsRefresh){l=void 0;const e=n.propertySource[n.propertyName];l=this,t===e&&(this.needsRefresh=!0)}n.next=r}this.last=r}handleChange(){this.needsQueue&&(this.needsQueue=!1,p(this))}call(){null!==this.last&&(this.needsQueue=!0,this.notify(this))}records(){let t=this.first;return{next:()=>{const e=t;return void 0===e?{value:void 0,done:!0}:(t=t.next,{value:e,done:!1})},[Symbol.iterator]:function(){return this}}}}},4164:function(t,e,n){"use strict";n.d(e,{P:function(){return i},o:function(){return r}});const i=function(){if("undefined"!=typeof globalThis)return globalThis;if(void 0!==n.g)return n.g;if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;try{return new Function("return this")()}catch(t){return{}}}();void 0===i.trustedTypes&&(i.trustedTypes={createPolicy:(t,e)=>e});const r=Object.freeze([])},1108:function(t,e,n){"use strict";n.d(e,{i:function(){return a}});class i{createCSS(){return""}createBehavior(){}}var r=n(6169);function o(t,e){const n=[];let o="";const a=[];for(let s=0,l=t.length-1;s<l;++s){o+=t[s];let l=e[s];if(l instanceof i){const t=l.createBehavior();l=l.createCSS(),t&&a.push(t)}l instanceof r.XL||l instanceof CSSStyleSheet?(""!==o.trim()&&(n.push(o),o=""),n.push(l)):o+=l}return o+=t[t.length-1],""!==o.trim()&&n.push(o),{styles:n,behaviors:a}}function a(t,...e){const{styles:n,behaviors:i}=o(t,e),a=r.XL.create(n);return i.length&&a.withBehaviors(...i),a}},6169:function(t,e,n){"use strict";n.d(e,{XL:function(){return r}});var i=n(109);class r{constructor(){this.targets=new WeakSet,this.behaviors=null}addStylesTo(t){this.targets.add(t)}removeStylesFrom(t){this.targets.delete(t)}isAttachedTo(t){return this.targets.has(t)}withBehaviors(...t){return this.behaviors=null===this.behaviors?t:this.behaviors.concat(t),this}}function o(t){return t.map((t=>t instanceof r?o(t.styles):[t])).reduce(((t,e)=>t.concat(e)),[])}function a(t){return t.map((t=>t instanceof r?t.behaviors:null)).reduce(((t,e)=>null===e?t:(null===t&&(t=[]),t.concat(e))),null)}r.create=(()=>{if(i.SO.supportsAdoptedStyleSheets){const t=new Map;return e=>new s(e,t)}return t=>new c(t)})();class s extends r{constructor(t,e){super(),this.styles=t,this.styleSheetCache=e,this._styleSheets=void 0,this.behaviors=a(t)}get styleSheets(){if(void 0===this._styleSheets){const t=this.styles,e=this.styleSheetCache;this._styleSheets=o(t).map((t=>{if(t instanceof CSSStyleSheet)return t;let n=e.get(t);return void 0===n&&(n=new CSSStyleSheet,n.replaceSync(t),e.set(t,n)),n}))}return this._styleSheets}addStylesTo(t){t.adoptedStyleSheets=[...t.adoptedStyleSheets,...this.styleSheets],super.addStylesTo(t)}removeStylesFrom(t){const e=this.styleSheets;t.adoptedStyleSheets=t.adoptedStyleSheets.filter((t=>-1===e.indexOf(t))),super.removeStylesFrom(t)}}let l=0;class c extends r{constructor(t){super(),this.styles=t,this.behaviors=null,this.behaviors=a(t),this.styleSheets=o(t),this.styleClass="fast-style-class-"+ ++l}addStylesTo(t){const e=this.styleSheets,n=this.styleClass;t=this.normalizeTarget(t);for(let i=e.length-1;i>-1;--i){const r=document.createElement("style");r.innerHTML=e[i],r.className=n,t.prepend(r)}super.addStylesTo(t)}removeStylesFrom(t){const e=(t=this.normalizeTarget(t)).querySelectorAll(`.${this.styleClass}`);for(let n=0,i=e.length;n<i;++n)t.removeChild(e[n]);super.removeStylesFrom(t)}isAttachedTo(t){return super.isAttachedTo(this.normalizeTarget(t))}normalizeTarget(t){return t===document?document.body:t}}},397:function(t,e,n){"use strict";n.d(e,{m0:function(){return r},d$:function(){return o},ON:function(){return a}});var i=n(109);class r{constructor(){this.targetIndex=0}}class o extends r{constructor(){super(...arguments),this.createPlaceholder=i.SO.createInterpolationPlaceholder}}class a extends r{constructor(t,e,n){super(),this.name=t,this.behavior=e,this.options=n}createPlaceholder(t){return i.SO.createCustomAttributePlaceholder(this.name,t)}createBehavior(t){return new this.behavior(t,this.options)}}},1543:function(t,e,n){"use strict";n.d(e,{R:function(){return o},x:function(){return a}});var i=n(9226),r=n(4164);function o(t){return t?function(e,n,i){return 1===e.nodeType&&e.matches(t)}:function(t,e,n){return 1===t.nodeType}}class a{constructor(t,e){this.target=t,this.options=e,this.source=null}bind(t){const e=this.options.property;this.shouldUpdate=i.y$.getAccessors(t).some((t=>t.name===e)),this.source=t,this.updateTarget(this.computeNodes()),this.shouldUpdate&&this.observe()}unbind(){this.updateTarget(r.o),this.source=null,this.shouldUpdate&&this.disconnect()}handleEvent(){this.updateTarget(this.computeNodes())}computeNodes(){let t=this.getNodes();return void 0!==this.options.filter&&(t=t.filter(this.options.filter)),t}updateTarget(t){this.source[this.options.property]=t}}},1337:function(t,e,n){"use strict";n.d(e,{i:function(){return o}});var i=n(397);class r{constructor(t,e){this.target=t,this.propertyName=e}bind(t){t[this.propertyName]=this.target}unbind(){}}function o(t){return new i.ON("fast-ref",r,t)}},1217:function(t,e,n){"use strict";n.d(e,{Q:function(){return a}});var i=n(397),r=n(1543);class o extends r.x{constructor(t,e){super(t,e)}observe(){this.target.addEventListener("slotchange",this)}disconnect(){this.target.removeEventListener("slotchange",this)}getNodes(){return this.target.assignedNodes(this.options)}}function a(t){return"string"==typeof t&&(t={property:t}),new i.ON("fast-slotted",o,t)}},8480:function(t,e,n){"use strict";n.d(e,{d:function(){return T}});var i=n(109),r=n(9226),o=n(397);function a(t,e){this.source=t,this.context=e,null===this.bindingObserver&&(this.bindingObserver=r.y$.binding(this.binding,this,this.isBindingVolatile)),this.updateTarget(this.bindingObserver.observe(t,e))}function s(t,e){this.source=t,this.context=e,this.target.addEventListener(this.targetName,this)}function l(){this.bindingObserver.disconnect(),this.source=null,this.context=null}function c(){this.bindingObserver.disconnect(),this.source=null,this.context=null;const t=this.target.$fastView;void 0!==t&&t.isComposed&&(t.unbind(),t.needsBindOnly=!0)}function u(){this.target.removeEventListener(this.targetName,this),this.source=null,this.context=null}function d(t){i.SO.setAttribute(this.target,this.targetName,t)}function h(t){i.SO.setBooleanAttribute(this.target,this.targetName,t)}function p(t){if(null==t&&(t=""),t.create){this.target.textContent="";let e=this.target.$fastView;void 0===e?e=t.create():this.target.$fastTemplate!==t&&(e.isComposed&&(e.remove(),e.unbind()),e=t.create()),e.isComposed?e.needsBindOnly&&(e.needsBindOnly=!1,e.bind(this.source,this.context)):(e.isComposed=!0,e.bind(this.source,this.context),e.insertBefore(this.target),this.target.$fastView=e,this.target.$fastTemplate=t)}else{const e=this.target.$fastView;void 0!==e&&e.isComposed&&(e.isComposed=!1,e.remove(),e.needsBindOnly?e.needsBindOnly=!1:e.unbind()),this.target.textContent=t}}function f(t){this.target[this.targetName]=t}function g(t){const e=this.classVersions||Object.create(null),n=this.target;let i=this.version||0;if(null!=t&&t.length){const r=t.split(/\s+/);for(let t=0,o=r.length;t<o;++t){const o=r[t];""!==o&&(e[o]=i,n.classList.add(o))}}if(this.classVersions=e,this.version=i+1,0!==i){i-=1;for(const t in e)e[t]===i&&n.classList.remove(t)}}class v extends o.d${constructor(t){super(),this.binding=t,this.bind=a,this.unbind=l,this.updateTarget=d,this.isBindingVolatile=r.y$.isVolatileBinding(this.binding)}get targetName(){return this.originalTargetName}set targetName(t){if(this.originalTargetName=t,void 0!==t)switch(t[0]){case":":if(this.cleanedTargetName=t.substr(1),this.updateTarget=f,"innerHTML"===this.cleanedTargetName){const t=this.binding;this.binding=(e,n)=>i.SO.createHTML(t(e,n))}break;case"?":this.cleanedTargetName=t.substr(1),this.updateTarget=h;break;case"@":this.cleanedTargetName=t.substr(1),this.bind=s,this.unbind=u;break;default:this.cleanedTargetName=t,"class"===t&&(this.updateTarget=g)}}targetAtContent(){this.updateTarget=p,this.unbind=c}createBehavior(t){return new m(t,this.binding,this.isBindingVolatile,this.bind,this.unbind,this.updateTarget,this.cleanedTargetName)}}class m{constructor(t,e,n,i,r,o,a){this.source=null,this.context=null,this.bindingObserver=null,this.target=t,this.binding=e,this.isBindingVolatile=n,this.bind=i,this.unbind=r,this.updateTarget=o,this.targetName=a}handleChange(){this.updateTarget(this.bindingObserver.observe(this.source,this.context))}handleEvent(t){(0,r.z8)(t);const e=this.binding(this.source,this.context);(0,r.z8)(null),!0!==e&&t.preventDefault()}}let y=null;class C{addFactory(t){t.targetIndex=this.targetIndex,this.behaviorFactories.push(t)}captureContentBinding(t){t.targetAtContent(),this.addFactory(t)}reset(){this.behaviorFactories=[],this.targetIndex=-1}release(){y=this}static borrow(t){const e=y||new C;return e.directives=t,e.reset(),y=null,e}}function b(t){if(1===t.length)return t[0];let e;const n=t.length,i=t.map((t=>"string"==typeof t?()=>t:(e=t.targetName||e,t.binding))),r=new v(((t,e)=>{let r="";for(let o=0;o<n;++o)r+=i[o](t,e);return r}));return r.targetName=e,r}const S=i.Yl.length;function x(t,e){const n=e.split(i.pc);if(1===n.length)return null;const r=[];for(let e=0,o=n.length;e<o;++e){const o=n[e],a=o.indexOf(i.Yl);let s;if(-1===a)s=o;else{const e=parseInt(o.substring(0,a));r.push(t.directives[e]),s=o.substring(a+S)}""!==s&&r.push(s)}return r}function E(t,e,n=!1){const i=e.attributes;for(let r=0,o=i.length;r<o;++r){const a=i[r],s=a.value,l=x(t,s);let c=null;null===l?n&&(c=new v((()=>s)),c.targetName=a.name):c=b(l),null!==c&&(e.removeAttributeNode(a),r--,o--,t.addFactory(c))}}function w(t,e,n){const i=x(t,e.textContent);if(null!==i){let r=e;for(let o=0,a=i.length;o<a;++o){const a=i[o],s=0===o?e:r.parentNode.insertBefore(document.createTextNode(""),r.nextSibling);"string"==typeof a?s.textContent=a:(s.textContent=" ",t.captureContentBinding(a)),r=s,t.targetIndex++,s!==e&&n.nextNode()}t.targetIndex--}}const A=document.createRange();class I{constructor(t,e){this.fragment=t,this.behaviors=e,this.source=null,this.context=null,this.firstChild=t.firstChild,this.lastChild=t.lastChild}appendTo(t){t.appendChild(this.fragment)}insertBefore(t){if(this.fragment.hasChildNodes())t.parentNode.insertBefore(this.fragment,t);else{const e=t.parentNode,n=this.lastChild;let i,r=this.firstChild;for(;r!==n;)i=r.nextSibling,e.insertBefore(r,t),r=i;e.insertBefore(n,t)}}remove(){const t=this.fragment,e=this.lastChild;let n,i=this.firstChild;for(;i!==e;)n=i.nextSibling,t.appendChild(i),i=n;t.appendChild(e)}dispose(){const t=this.firstChild.parentNode,e=this.lastChild;let n,i=this.firstChild;for(;i!==e;)n=i.nextSibling,t.removeChild(i),i=n;t.removeChild(e);const r=this.behaviors,o=this.source;for(let t=0,e=r.length;t<e;++t)r[t].unbind(o)}bind(t,e){const n=this.behaviors;if(this.source!==t)if(null!==this.source){const i=this.source;this.source=t,this.context=e;for(let r=0,o=n.length;r<o;++r){const o=n[r];o.unbind(i),o.bind(t,e)}}else{this.source=t,this.context=e;for(let i=0,r=n.length;i<r;++i)n[i].bind(t,e)}}unbind(){if(null===this.source)return;const t=this.behaviors,e=this.source;for(let n=0,i=t.length;n<i;++n)t[n].unbind(e);this.source=null}static disposeContiguousBatch(t){if(0!==t.length){A.setStartBefore(t[0].firstChild),A.setEndAfter(t[t.length-1].lastChild),A.deleteContents();for(let e=0,n=t.length;e<n;++e){const n=t[e],i=n.behaviors,r=n.source;for(let t=0,e=i.length;t<e;++t)i[t].unbind(r)}}}}class k{constructor(t,e){this.behaviorCount=0,this.hasHostBehaviors=!1,this.fragment=null,this.targetOffset=0,this.viewBehaviorFactories=null,this.hostBehaviorFactories=null,this.html=t,this.directives=e}create(t){if(null===this.fragment){let t;const e=this.html;if("string"==typeof e){t=document.createElement("template"),t.innerHTML=i.SO.createHTML(e);const n=t.content.firstElementChild;null!==n&&"TEMPLATE"===n.tagName&&(t=n)}else t=e;const n=function(t,e){const n=t.content;document.adoptNode(n);const r=C.borrow(e);E(r,t,!0);const o=r.behaviorFactories;r.reset();const a=i.SO.createTemplateWalker(n);let s;for(;s=a.nextNode();)switch(r.targetIndex++,s.nodeType){case 1:E(r,s);break;case 3:w(r,s,a);break;case 8:i.SO.isMarker(s)&&r.addFactory(e[i.SO.extractDirectiveIndexFromMarker(s)])}let l=0;(i.SO.isMarker(n.firstChild)||1===n.childNodes.length&&e.length)&&(n.insertBefore(document.createComment(""),n.firstChild),l=-1);const c=r.behaviorFactories;return r.release(),{fragment:n,viewBehaviorFactories:c,hostBehaviorFactories:o,targetOffset:l}}(t,this.directives);this.fragment=n.fragment,this.viewBehaviorFactories=n.viewBehaviorFactories,this.hostBehaviorFactories=n.hostBehaviorFactories,this.targetOffset=n.targetOffset,this.behaviorCount=this.viewBehaviorFactories.length+this.hostBehaviorFactories.length,this.hasHostBehaviors=this.hostBehaviorFactories.length>0}const e=this.fragment.cloneNode(!0),n=this.viewBehaviorFactories,r=new Array(this.behaviorCount),o=i.SO.createTemplateWalker(e);let a=0,s=this.targetOffset,l=o.nextNode();for(let t=n.length;a<t;++a){const t=n[a],e=t.targetIndex;for(;null!==l;){if(s===e){r[a]=t.createBehavior(l);break}l=o.nextNode(),s++}}if(this.hasHostBehaviors){const e=this.hostBehaviorFactories;for(let n=0,i=e.length;n<i;++n,++a)r[a]=e[n].createBehavior(t)}return new I(e,r)}render(t,e,n){"string"==typeof e&&(e=document.getElementById(e)),void 0===n&&(n=e);const i=this.create(n);return i.bind(t,r.Wp),i.appendTo(e),i}}const D=/([ \x09\x0a\x0c\x0d])([^\0-\x1F\x7F-\x9F "'>=/]+)([ \x09\x0a\x0c\x0d]*=[ \x09\x0a\x0c\x0d]*(?:[^ \x09\x0a\x0c\x0d"'`<>=]*|"[^"]*|'[^']*))$/;function T(t,...e){const n=[];let i="";for(let r=0,a=t.length-1;r<a;++r){const a=t[r];let s=e[r];if(i+=a,s instanceof k){const t=s;s=()=>t}if("function"==typeof s&&(s=new v(s)),s instanceof o.d$){const t=D.exec(a);null!==t&&(s.targetName=t[2])}s instanceof o.m0?(i+=s.createPlaceholder(n.length),n.push(s)):i+=s}return i+=t[t.length-1],new k(i,n)}},9655:function(t,e,n){"use strict";function i(t,e){const n="function"==typeof e?e:()=>e;return(e,i)=>t(e,i)?n(e,i):null}n.d(e,{g:function(){return i}})},83:function(t,e,n){"use strict";n.d(e,{j:function(){return i},Q:function(){return r}});class i{constructor(t,e,n){this.name=t,this.value=e,this.host=n,this.propertyName=`--${t}`,this.var=`var(${this.propertyName})`}bind(t){const e=this.host(t);null!==e&&("function"==typeof e.registerCSSCustomProperty?e.registerCSSCustomProperty(this):(Array.isArray(e.disconnectedCSSCustomPropertyRegistry)||(e.disconnectedCSSCustomPropertyRegistry=[]),e.disconnectedCSSCustomPropertyRegistry.push(this)))}unbind(t){const e=this.host(t);null!==e&&"function"==typeof e.unregisterCSSCustomProperty&&e.unregisterCSSCustomProperty(this)}}function r(t,e,n){return new i(t,e,n)}},6530:function(t,e,n){"use strict";n.d(e,{hO:function(){return v},PC:function(){return g},_1:function(){return m}});var i=n(535),r=n(6790),o=n(109),a=n(9226),s=n(9927),l=n(6169);const c=":host{}";class u{constructor(){this.queue=new Set,this.customPropertyTarget=null,this._owner=null,this.ticking=!1,this.cssCustomPropertyDefinitions=new Map}get owner(){return this._owner}register(t){const e=this.cssCustomPropertyDefinitions.get(t.name);e?e.count+=1:(this.cssCustomPropertyDefinitions.set(t.name,Object.assign(Object.assign({},t),{count:1})),this.set(t))}unregister(t){const e=this.cssCustomPropertyDefinitions.get(t);e&&(e.count-=1,0===e.count&&(this.cssCustomPropertyDefinitions.delete(t),this.remove(t)))}set(t){this.owner&&(this.customPropertyTarget?this.customPropertyTarget.setProperty(`--${t.name}`,this.owner.evaluate(t)):this.queue.add(this.set.bind(this,t)))}remove(t){this.customPropertyTarget?this.customPropertyTarget.removeProperty(`--${t}`):this.queue.add(this.remove.bind(this,t))}setAll(){this.ticking||(this.ticking=!0,o.SO.queueUpdate((()=>{this.ticking=!1,this.cssCustomPropertyDefinitions.forEach((t=>{this.set(t)}))})))}}class d extends u{constructor(t){super(),this.subscribers=new Set,this.sheet=t,this.styles=l.XL.create([t]),this.customPropertyTarget=t.cssRules[t.insertRule(c)].style}subscribe(t){this.subscribers.add(t),1===this.subscribers.size&&(this._owner=t),t.cssCustomPropertyDefinitions.forEach((t=>{this.register(t)})),t.$fastController.addStyles(this.styles)}unsubscribe(t){this.subscribers.delete(t),t.cssCustomPropertyDefinitions.forEach((t=>this.unregister(t.name))),this.owner===t&&(this._owner=this.subscribers.size?this.subscribers.values().next().value:null),!this.sheet.ownerNode&&this.styles&&t.$fastController.removeStyles(this.styles)}isSubscribed(t){return this.subscribers.has(t)}}class h extends u{constructor(t,e){super(),this._sheet=null,this.handleConnection={handleChange:()=>{var t;this._sheet=this.styles.sheet;const e=this.sheet.insertRule(c);this.customPropertyTarget=this.sheet.rules[e].style,a.y$.getNotifier(null===(t=this._owner)||void 0===t?void 0:t.$fastController).unsubscribe(this.handleConnection,"isConnected")}};const n=e.$fastController;n.addStyles(t),this.styles=t,this._owner=e,e.isConnected?this.handleConnection.handleChange():a.y$.getNotifier(n).subscribe(this.handleConnection,"isConnected"),e.cssCustomPropertyDefinitions.forEach((t=>{this.register(t)}))}get sheet(){return this._sheet}customPropertyTargetChanged(t,e){!t&&this.queue.size&&(this.queue.forEach((t=>t())),this.queue.clear())}}function p(t){const e=t.parentElement;if(e)return e;{const e=t.getRootNode();if(e.host instanceof HTMLElement)return e.host}return null}function f(t){const e=t.provider;return null!=e&&v.isDesignSystemProvider(e)}(0,i.gn)([a.LO],h.prototype,"customPropertyTarget",void 0);const g={bind(t){t.provider=v.findProvider(t)},unbind(t){}};class v extends r.H{constructor(){super(),this.isDesignSystemProvider=!0,this.designSystem={},this.useDefaults=!1,this.provider=null,this.cssCustomPropertyDefinitions=new Map,this.attributeChangeHandler={handleChange:(t,e)=>{const n=this[e],i=this.customPropertyManager;if(this.isValidDesignSystemValue(n)){this.designSystem[e]=n;const t=this.designSystemProperties[e];t&&t.cssCustomProperty&&i&&i.set({name:t.cssCustomProperty,value:n})}else{this.syncDesignSystemWithProvider();const t=this.designSystemProperties[e].cssCustomProperty;i&&("string"==typeof t&&i.remove(t),i.setAll())}}},this.localDesignSystemChangeHandler={handleChange:()=>{const t=this.customPropertyManager;t&&t.owner===this&&t.setAll()}},this.providerDesignSystemChangeHandler={handleChange:(t,e)=>{t[e]===this.designSystem[e]||this.isValidDesignSystemValue(this[e])||(this.designSystem[e]=t[e])}},o.SO.supportsAdoptedStyleSheets?this.customPropertyManager=new d(new CSSStyleSheet):this.customPropertyManager=new h(document.createElement("style"),this),void 0===this.designSystemProperties&&(this.designSystemProperties={}),this.$fastController.addBehaviors([g])}static get tagNames(){return v._tagNames}static isDesignSystemProvider(t){return t.isDesignSystemProvider||-1!==v.tagNames.indexOf(t.tagName)}static findProvider(t){if(f(t))return t.provider;let e=p(t);for(;null!==e;){if(v.isDesignSystemProvider(e))return t.provider=e,e;if(f(e))return t.provider=e.provider,e.provider;e=p(e)}return null}static registerTagName(t){const e=t.toUpperCase();-1===v.tagNames.indexOf(e)&&v._tagNames.push(e)}useDefaultsChanged(){if(this.useDefaults){const t=this.designSystemProperties;Object.keys(t).forEach((e=>{void 0===this[e]&&(this[e]=t[e].default)}))}}providerChanged(t,e){if(t instanceof HTMLElement){const e=a.y$.getNotifier(t.designSystem);a.y$.getAccessors(t.designSystem).forEach((t=>{e.unsubscribe(this.providerDesignSystemChangeHandler,t.name)}))}if(e instanceof HTMLElement&&v.isDesignSystemProvider(e)){const t=a.y$.getNotifier(e.designSystem),n=a.y$.getAccessors(this.designSystem).reduce(((t,e)=>Object.assign(Object.assign({},t),{[e.name]:e})),{}),i=a.y$.getNotifier(this.designSystem);a.y$.getAccessors(e.designSystem).forEach((e=>{t.subscribe(this.providerDesignSystemChangeHandler,e.name),n[e.name]||((0,a.LO)(this.designSystem,e.name),i.subscribe(this.localDesignSystemChangeHandler,e.name))})),this.syncDesignSystemWithProvider()}}customPropertyManagerChanged(t,e){t&&t.unsubscribe&&t.unsubscribe(this),e.subscribe&&e.subscribe(this)}connectedCallback(){super.connectedCallback(),this.customPropertyManager.subscribe&&this.customPropertyManager.isSubscribed&&!this.customPropertyManager.isSubscribed(this)&&this.customPropertyManager.subscribe(this);const t=a.y$.getNotifier(this),e=a.y$.getNotifier(this.designSystem);if(Object.keys(this.designSystemProperties).forEach((n=>{(0,a.LO)(this.designSystem,n),t.subscribe(this.attributeChangeHandler,n),e.subscribe(this.localDesignSystemChangeHandler,n);const i=this[n];if(this.isValidDesignSystemValue(i)){this.designSystem[n]=i;const{cssCustomProperty:t}=this.designSystemProperties[n];"string"==typeof t&&this.customPropertyManager&&this.customPropertyManager.owner===this&&this.customPropertyManager.set({name:t,value:this[n]})}})),Array.isArray(this.disconnectedCSSCustomPropertyRegistry)){for(let t=0;t<this.disconnectedCSSCustomPropertyRegistry.length;t++)this.registerCSSCustomProperty(this.disconnectedCSSCustomPropertyRegistry[t]);delete this.disconnectedCSSCustomPropertyRegistry}if(Array.isArray(this.disconnectedRegistry)){for(let t=0;t<this.disconnectedRegistry.length;t++)this.disconnectedRegistry[t](this);delete this.disconnectedRegistry}}disconnectedCallback(){super.disconnectedCallback(),this.customPropertyManager.unsubscribe&&this.customPropertyManager.unsubscribe(this)}registerCSSCustomProperty(t){this.cssCustomPropertyDefinitions.set(t.name,t),this.customPropertyManager.register(t)}unregisterCSSCustomProperty(t){this.cssCustomPropertyDefinitions.delete(t.name),this.customPropertyManager.unregister(t.name)}evaluate(t){return"function"==typeof t.value?t.value(Object.assign({},this.designSystem)):t.value}syncDesignSystemWithProvider(){if(this.provider){const t=a.y$.getAccessors(this.designSystem).reduce(((t,e)=>(t[e.name]=e,t)),{});a.y$.getAccessors(this.provider.designSystem).forEach((e=>{var n;this.designSystemProperties.hasOwnProperty(e.name)&&this.isValidDesignSystemValue(this[e.name])||!this.isValidDesignSystemValue(null===(n=this.provider)||void 0===n?void 0:n.designSystem[e.name])||(t[e.name]||a.y$.defineProperty(this.designSystem,e.name),this.designSystem[e.name]=this.provider.designSystem[e.name])}))}}isValidDesignSystemValue(t){return null!=t}}v._tagNames=[],(0,i.gn)([(0,s.Lj)({attribute:"use-defaults",mode:"boolean"})],v.prototype,"useDefaults",void 0),(0,i.gn)([a.LO],v.prototype,"provider",void 0),(0,i.gn)([a.LO],v.prototype,"customPropertyManager",void 0);const m=function(t){return e=>{(0,r.M)(t)(e),e.registerTagName("string"==typeof t?t:t.name)}}},2858:function(t,e,n){"use strict";n.d(e,{U:function(){return h}});var i=n(4164),r=n(109),o=n(9927),a=n(9226),s=n(8973);const l="form-associated-proxy",c="ElementInternals",u=c in window&&"setFormValue"in window.ElementInternals.prototype,d=new Map;function h(t){const e=class extends t{constructor(...t){super(...t),this.dirtyValue=!1,this.disabled=!1,this.proxyEventsToBlock=["change","click"],this.formDisabledCallback=t=>{this.disabled=t},this.formResetCallback=()=>{this.value=this.initialValue,this.dirtyValue=!1},this.proxyInitialized=!1,this.required=!1,this.initialValue=this.initialValue||""}static get formAssociated(){return u}get validity(){return this.elementInternals?this.elementInternals.validity:this.proxy.validity}get form(){return this.elementInternals?this.elementInternals.form:this.proxy.form}get validationMessage(){return this.elementInternals?this.elementInternals.validationMessage:this.proxy.validationMessage}get willValidate(){return this.elementInternals?this.elementInternals.willValidate:this.proxy.willValidate}get labels(){if(this.elementInternals)return Object.freeze(Array.from(this.elementInternals.labels));if(this.proxy instanceof HTMLElement&&this.proxy.ownerDocument&&this.id){const t=this.proxy.labels,e=Array.from(this.proxy.getRootNode().querySelectorAll(`[for='${this.id}']`)),n=t?e.concat(Array.from(t)):e;return Object.freeze(n)}return i.o}valueChanged(t,e){this.dirtyValue=!0,this.proxy instanceof HTMLElement&&(this.proxy.value=this.value),this.setFormValue(this.value),this.validate()}initialValueChanged(t,e){this.dirtyValue||(this.value=this.initialValue,this.dirtyValue=!1)}disabledChanged(t,e){this.proxy instanceof HTMLElement&&(this.proxy.disabled=this.disabled),r.SO.queueUpdate((()=>this.classList.toggle("disabled",this.disabled)))}nameChanged(t,e){this.proxy instanceof HTMLElement&&(this.proxy.name=this.name)}requiredChanged(t,e){this.proxy instanceof HTMLElement&&(this.proxy.required=this.required),r.SO.queueUpdate((()=>this.classList.toggle("required",this.required))),this.validate()}get elementInternals(){if(!u)return null;let t=d.get(this);return t||(t=this.attachInternals(),d.set(this,t)),t}connectedCallback(){super.connectedCallback(),this.addEventListener("keypress",this._keypressHandler),this.value||(this.value=this.initialValue,this.dirtyValue=!1),this.elementInternals||this.attachProxy(),this.form&&this.form.addEventListener("reset",this.formResetCallback)}disconnectedCallback(){this.proxyEventsToBlock.forEach((t=>this.proxy.removeEventListener(t,this.stopPropagation))),this.form&&this.form.removeEventListener("reset",this.formResetCallback)}checkValidity(){return this.elementInternals?this.elementInternals.checkValidity():this.proxy.checkValidity()}reportValidity(){return this.elementInternals?this.elementInternals.reportValidity():this.proxy.reportValidity()}setValidity(t,e,n){this.elementInternals?this.elementInternals.setValidity(t,e,n):"string"==typeof e&&this.proxy.setCustomValidity(e)}attachProxy(){var t;this.proxyInitialized||(this.proxyInitialized=!0,this.proxy.style.display="none",this.proxyEventsToBlock.forEach((t=>this.proxy.addEventListener(t,this.stopPropagation))),this.proxy.disabled=this.disabled,this.proxy.required=this.required,"string"==typeof this.name&&(this.proxy.name=this.name),"string"==typeof this.value&&(this.proxy.value=this.value),this.proxy.setAttribute("slot",l),this.proxySlot=document.createElement("slot"),this.proxySlot.setAttribute("name",l)),null===(t=this.shadowRoot)||void 0===t||t.appendChild(this.proxySlot),this.appendChild(this.proxy)}detachProxy(){var t;this.removeChild(this.proxy),null===(t=this.shadowRoot)||void 0===t||t.removeChild(this.proxySlot)}validate(){this.proxy instanceof HTMLElement&&this.setValidity(this.proxy.validity,this.proxy.validationMessage)}setFormValue(t,e){this.elementInternals&&this.elementInternals.setFormValue(t,e||t)}_keypressHandler(t){switch(t.keyCode){case s.bq:if(this.form instanceof HTMLFormElement){const t=this.form.querySelector("[type=submit]");null==t||t.click()}}}stopPropagation(t){t.stopPropagation()}};return(0,o.Lj)({mode:"boolean"})(e.prototype,"disabled"),(0,o.Lj)({mode:"fromView",attribute:"value"})(e.prototype,"initialValue"),(0,o.Lj)(e.prototype,"name"),(0,o.Lj)({mode:"boolean"})(e.prototype,"required"),(0,a.LO)(e.prototype,"value"),e}},9880:function(t,e,n){"use strict";var i;n.d(e,{O:function(){return i}}),function(t){t.menuitem="menuitem",t.menuitemcheckbox="menuitemcheckbox",t.menuitemradio="menuitemradio"}(i||(i={}))},9526:function(t,e,n){"use strict";n.d(e,{v:function(){return o}});var i=n(535),r=n(9927);class o{}(0,i.gn)([(0,r.Lj)({attribute:"aria-atomic",mode:"fromView"})],o.prototype,"ariaAtomic",void 0),(0,i.gn)([(0,r.Lj)({attribute:"aria-busy",mode:"fromView"})],o.prototype,"ariaBusy",void 0),(0,i.gn)([(0,r.Lj)({attribute:"aria-controls",mode:"fromView"})],o.prototype,"ariaControls",void 0),(0,i.gn)([(0,r.Lj)({attribute:"aria-current",mode:"fromView"})],o.prototype,"ariaCurrent",void 0),(0,i.gn)([(0,r.Lj)({attribute:"aria-describedby",mode:"fromView"})],o.prototype,"ariaDescribedby",void 0),(0,i.gn)([(0,r.Lj)({attribute:"aria-details",mode:"fromView"})],o.prototype,"ariaDetails",void 0),(0,i.gn)([(0,r.Lj)({attribute:"aria-disabled",mode:"fromView"})],o.prototype,"ariaDisabled",void 0),(0,i.gn)([(0,r.Lj)({attribute:"aria-errormessage",mode:"fromView"})],o.prototype,"ariaErrormessage",void 0),(0,i.gn)([(0,r.Lj)({attribute:"aria-flowto",mode:"fromView"})],o.prototype,"ariaFlowto",void 0),(0,i.gn)([(0,r.Lj)({attribute:"aria-haspopup",mode:"fromView"})],o.prototype,"ariaHaspopup",void 0),(0,i.gn)([(0,r.Lj)({attribute:"aria-hidden",mode:"fromView"})],o.prototype,"ariaHidden",void 0),(0,i.gn)([(0,r.Lj)({attribute:"aria-invalid",mode:"fromView"})],o.prototype,"ariaInvalid",void 0),(0,i.gn)([(0,r.Lj)({attribute:"aria-keyshortcuts",mode:"fromView"})],o.prototype,"ariaKeyshortcuts",void 0),(0,i.gn)([(0,r.Lj)({attribute:"aria-label",mode:"fromView"})],o.prototype,"ariaLabel",void 0),(0,i.gn)([(0,r.Lj)({attribute:"aria-labelledby",mode:"fromView"})],o.prototype,"ariaLabelledby",void 0),(0,i.gn)([(0,r.Lj)({attribute:"aria-live",mode:"fromView"})],o.prototype,"ariaLive",void 0),(0,i.gn)([(0,r.Lj)({attribute:"aria-owns",mode:"fromView"})],o.prototype,"ariaOwns",void 0),(0,i.gn)([(0,r.Lj)({attribute:"aria-relevant",mode:"fromView"})],o.prototype,"ariaRelevant",void 0),(0,i.gn)([(0,r.Lj)({attribute:"aria-roledescription",mode:"fromView"})],o.prototype,"ariaRoledescription",void 0)},4095:function(t,e,n){"use strict";n.d(e,{hW:function(){return o},zq:function(){return a},hX:function(){return s}});var i=n(8480),r=n(1337);class o{handleStartContentChange(){this.startContainer.classList.toggle("start",this.start.assignedNodes().length>0)}handleEndContentChange(){this.endContainer.classList.toggle("end",this.end.assignedNodes().length>0)}}const a=i.d`
    <span part="end" ${(0,r.i)("endContainer")}>
        <slot
            name="end"
            ${(0,r.i)("end")}
            @slotchange="${t=>t.handleEndContentChange()}"
        ></slot>
    </span>
`,s=i.d`
    <span part="start" ${(0,r.i)("startContainer")}>
        <slot
            name="start"
            ${(0,r.i)("start")}
            @slotchange="${t=>t.handleStartContentChange()}"
        ></slot>
    </span>
`},1449:function(t,e,n){"use strict";function i(t,...e){e.forEach((e=>{if(Object.getOwnPropertyNames(e.prototype).forEach((n=>{Object.defineProperty(t.prototype,n,Object.getOwnPropertyDescriptor(e.prototype,n))})),e.attributes){const n=t.attributes||[];t.attributes=n.concat(e.attributes)}}))}n.d(e,{e:function(){return i}})},4381:function(t,e,n){"use strict";n.d(e,{vF:function(){return r}});class i extends class{constructor(t){this.listenerCache=new WeakMap,this.query=t}bind(t){const{query:e}=this,n=this.constructListener(t);n.bind(e)(),e.addListener(n),this.listenerCache.set(t,n)}unbind(t){const e=this.listenerCache.get(t);e&&(this.query.removeListener(e),this.listenerCache.delete(t))}}{constructor(t,e){super(t),this.styles=e}static with(t){return e=>new i(t,e)}constructListener(t){let e=!1;const n=this.styles;return function(){const{matches:i}=this;i&&!e?(t.$fastController.addStyles(n),e=i):!i&&e&&(t.$fastController.removeStyles(n),e=i)}}unbind(t){super.unbind(t),t.$fastController.removeStyles(this.styles)}}const r=i.with(window.matchMedia("(forced-colors)"));i.with(window.matchMedia("(prefers-color-scheme: dark)")),i.with(window.matchMedia("(prefers-color-scheme: light)"))},3917:function(t,e,n){"use strict";n.d(e,{H:function(){return i}});const i="not-allowed"},6571:function(t,e,n){"use strict";n.d(e,{j:function(){return i}});function i(t){return`:host([hidden]){display:none}:host{display:${t}}`}},937:function(t,e,n){"use strict";n.d(e,{b:function(){return i}});const i=(0,n(9701).Zm)()?"focus-visible":"focus"},535:function(t,e,n){"use strict";n.d(e,{gn:function(){return i}});function i(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a}},9701:function(t,e,n){"use strict";n.d(e,{Zm:function(){return l},Re:function(){return a}});var i=n(6685),r=n(2677);var o=function(t){return!0===t||!1===t||(0,r.Z)(t)&&"[object Boolean]"==(0,i.Z)(t)};function a(...t){return t.every((t=>t instanceof HTMLElement))}let s;function l(){if(o(s))return s;if("undefined"==typeof window||!window.document||!window.document.createElement)return s=!1,s;const t=document.createElement("style"),e=function(){const t=document.querySelector('meta[property="csp-nonce"]');return t?t.getAttribute("content"):null}();null!==e&&t.setAttribute("nonce",e),document.head.appendChild(t);try{t.sheet.insertRule("foo:focus-visible {color:inherit}",0),s=!0}catch(t){s=!1}finally{document.head.removeChild(t)}return s}},8973:function(t,e,n){"use strict";var i;n.d(e,{Q6:function(){return r},BJ:function(){return o},ho:function(){return a},$Y:function(){return s},$B:function(){return l},bq:function(){return c},wn:function(){return u},ei:function(){return d}}),function(t){t[t.alt=18]="alt",t[t.arrowDown=40]="arrowDown",t[t.arrowLeft=37]="arrowLeft",t[t.arrowRight=39]="arrowRight",t[t.arrowUp=38]="arrowUp",t[t.back=8]="back",t[t.backSlash=220]="backSlash",t[t.break=19]="break",t[t.capsLock=20]="capsLock",t[t.closeBracket=221]="closeBracket",t[t.colon=186]="colon",t[t.colon2=59]="colon2",t[t.comma=188]="comma",t[t.ctrl=17]="ctrl",t[t.delete=46]="delete",t[t.end=35]="end",t[t.enter=13]="enter",t[t.equals=187]="equals",t[t.equals2=61]="equals2",t[t.equals3=107]="equals3",t[t.escape=27]="escape",t[t.forwardSlash=191]="forwardSlash",t[t.function1=112]="function1",t[t.function10=121]="function10",t[t.function11=122]="function11",t[t.function12=123]="function12",t[t.function2=113]="function2",t[t.function3=114]="function3",t[t.function4=115]="function4",t[t.function5=116]="function5",t[t.function6=117]="function6",t[t.function7=118]="function7",t[t.function8=119]="function8",t[t.function9=120]="function9",t[t.home=36]="home",t[t.insert=45]="insert",t[t.menu=93]="menu",t[t.minus=189]="minus",t[t.minus2=109]="minus2",t[t.numLock=144]="numLock",t[t.numPad0=96]="numPad0",t[t.numPad1=97]="numPad1",t[t.numPad2=98]="numPad2",t[t.numPad3=99]="numPad3",t[t.numPad4=100]="numPad4",t[t.numPad5=101]="numPad5",t[t.numPad6=102]="numPad6",t[t.numPad7=103]="numPad7",t[t.numPad8=104]="numPad8",t[t.numPad9=105]="numPad9",t[t.numPadDivide=111]="numPadDivide",t[t.numPadDot=110]="numPadDot",t[t.numPadMinus=109]="numPadMinus",t[t.numPadMultiply=106]="numPadMultiply",t[t.numPadPlus=107]="numPadPlus",t[t.openBracket=219]="openBracket",t[t.pageDown=34]="pageDown",t[t.pageUp=33]="pageUp",t[t.period=190]="period",t[t.print=44]="print",t[t.quote=222]="quote",t[t.scrollLock=145]="scrollLock",t[t.shift=16]="shift",t[t.space=32]="space",t[t.tab=9]="tab",t[t.tilde=192]="tilde",t[t.windowsLeft=91]="windowsLeft",t[t.windowsOpera=219]="windowsOpera",t[t.windowsRight=92]="windowsRight"}(i||(i={}));const r=40,o=37,a=39,s=38,l=35,c=13,u=36,d=32},7435:function(t,e,n){"use strict";var i;n.d(e,{N:function(){return i}}),function(t){t.ltr="ltr",t.rtl="rtl"}(i||(i={}))},5066:function(t,e,n){"use strict";var i;n.d(e,{H:function(){return i}}),function(t){t.Canvas="Canvas",t.CanvasText="CanvasText",t.LinkText="LinkText",t.VisitedText="VisitedText",t.ActiveText="ActiveText",t.ButtonFace="ButtonFace",t.ButtonText="ButtonText",t.Field="Field",t.FieldText="FieldText",t.Highlight="Highlight",t.HighlightText="HighlightText",t.GrayText="GrayText"}(i||(i={}))},4246:function(t,e,n){"use strict";var i=n(6672).Z.Symbol;e.Z=i},6685:function(t,e,n){"use strict";n.d(e,{Z:function(){return h}});var i=n(4246),r=Object.prototype,o=r.hasOwnProperty,a=r.toString,s=i.Z?i.Z.toStringTag:void 0;var l=function(t){var e=o.call(t,s),n=t[s];try{t[s]=void 0;var i=!0}catch(t){}var r=a.call(t);return i&&(e?t[s]=n:delete t[s]),r},c=Object.prototype.toString;var u=function(t){return c.call(t)},d=i.Z?i.Z.toStringTag:void 0;var h=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":d&&d in Object(t)?l(t):u(t)}},4186:function(t,e){"use strict";var n="object"==typeof global&&global&&global.Object===Object&&global;e.Z=n},6672:function(t,e,n){"use strict";var i=n(4186),r="object"==typeof self&&self&&self.Object===Object&&self,o=i.Z||r||Function("return this")();e.Z=o},4595:function(t,e,n){"use strict";n.d(e,{Z:function(){return c}});var i=Math.max,r=Math.min;var o=function(t,e,n){return t>=r(e,n)&&t<i(e,n)},a=n(9320),s=1/0;var l=function(t){return t?(t=(0,a.Z)(t))===s||t===-1/0?17976931348623157e292*(t<0?-1:1):t==t?t:0:0===t?t:0};var c=function(t,e,n){return e=l(e),void 0===n?(n=e,e=0):n=l(n),t=(0,a.Z)(t),o(t,e,n)}},6248:function(t,e){"use strict";var n=Array.isArray;e.Z=n},3645:function(t,e,n){"use strict";var i=n(6685),r=n(2453);e.Z=function(t){if(!(0,r.Z)(t))return!1;var e=(0,i.Z)(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e}},2453:function(t,e){"use strict";e.Z=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}},2677:function(t,e){"use strict";e.Z=function(t){return null!=t&&"object"==typeof t}},4924:function(t,e,n){"use strict";var i=n(6685),r=n(2677);e.Z=function(t){return"symbol"==typeof t||(0,r.Z)(t)&&"[object Symbol]"==(0,i.Z)(t)}},4734:function(t,e,n){"use strict";n.d(e,{Z:function(){return Q}});var i,r=n(3645),o=n(6672),a=o.Z["__core-js_shared__"],s=(i=/[^.]+$/.exec(a&&a.keys&&a.keys.IE_PROTO||""))?"Symbol(src)_1."+i:"";var l=function(t){return!!s&&s in t},c=n(2453),u=Function.prototype.toString;var d=function(t){if(null!=t){try{return u.call(t)}catch(t){}try{return t+""}catch(t){}}return""},h=/^\[object .+?Constructor\]$/,p=Function.prototype,f=Object.prototype,g=p.toString,v=f.hasOwnProperty,m=RegExp("^"+g.call(v).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var y=function(t){return!(!(0,c.Z)(t)||l(t))&&((0,r.Z)(t)?m:h).test(d(t))};var C=function(t,e){return null==t?void 0:t[e]};var b=function(t,e){var n=C(t,e);return y(n)?n:void 0},S=b(Object,"create");var x=function(){this.__data__=S?S(null):{},this.size=0};var E=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},w=Object.prototype.hasOwnProperty;var A=function(t){var e=this.__data__;if(S){var n=e[t];return"__lodash_hash_undefined__"===n?void 0:n}return w.call(e,t)?e[t]:void 0},I=Object.prototype.hasOwnProperty;var k=function(t){var e=this.__data__;return S?void 0!==e[t]:I.call(e,t)};var D=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=S&&void 0===e?"__lodash_hash_undefined__":e,this};function T(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}T.prototype.clear=x,T.prototype.delete=E,T.prototype.get=A,T.prototype.has=k,T.prototype.set=D;var M=T;var P=function(){this.__data__=[],this.size=0};var R=function(t,e){return t===e||t!=t&&e!=e};var O=function(t,e){for(var n=t.length;n--;)if(R(t[n][0],e))return n;return-1},L=Array.prototype.splice;var _=function(t){var e=this.__data__,n=O(e,t);return!(n<0)&&(n==e.length-1?e.pop():L.call(e,n,1),--this.size,!0)};var N=function(t){var e=this.__data__,n=O(e,t);return n<0?void 0:e[n][1]};var H=function(t){return O(this.__data__,t)>-1};var F=function(t,e){var n=this.__data__,i=O(n,t);return i<0?(++this.size,n.push([t,e])):n[i][1]=e,this};function Z(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}Z.prototype.clear=P,Z.prototype.delete=_,Z.prototype.get=N,Z.prototype.has=H,Z.prototype.set=F;var B=Z,$=b(o.Z,"Map");var U=function(){this.size=0,this.__data__={hash:new M,map:new($||B),string:new M}};var V=function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t};var G=function(t,e){var n=t.__data__;return V(e)?n["string"==typeof e?"string":"hash"]:n.map};var j=function(t){var e=G(this,t).delete(t);return this.size-=e?1:0,e};var z=function(t){return G(this,t).get(t)};var W=function(t){return G(this,t).has(t)};var Y=function(t,e){var n=G(this,t),i=n.size;return n.set(t,e),this.size+=n.size==i?0:1,this};function q(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}q.prototype.clear=U,q.prototype.delete=j,q.prototype.get=z,q.prototype.has=W,q.prototype.set=Y;var X=q;function K(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new TypeError("Expected a function");var n=function(){var i=arguments,r=e?e.apply(this,i):i[0],o=n.cache;if(o.has(r))return o.get(r);var a=t.apply(this,i);return n.cache=o.set(r,a)||o,a};return n.cache=new(K.Cache||X),n}K.Cache=X;var Q=K},9320:function(t,e,n){"use strict";n.d(e,{Z:function(){return p}});var i=/\s/;var r=function(t){for(var e=t.length;e--&&i.test(t.charAt(e)););return e},o=/^\s+/;var a=function(t){return t?t.slice(0,r(t)+1).replace(o,""):t},s=n(2453),l=n(4924),c=/^[-+]0x[0-9a-f]+$/i,u=/^0b[01]+$/i,d=/^0o[0-7]+$/i,h=parseInt;var p=function(t){if("number"==typeof t)return t;if((0,l.Z)(t))return NaN;if((0,s.Z)(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=(0,s.Z)(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=a(t);var n=u.test(t);return n||d.test(t)?h(t.slice(2),n?2:8):c.test(t)?NaN:+t}}},e={};function n(i){var r=e[i];if(void 0!==r)return r.exports;var o=e[i]={id:i,loaded:!1,exports:{}};return t[i](o,o.exports,n),o.loaded=!0,o.exports}n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,{a:e}),e},n.d=function(t,e){for(var i in e)n.o(e,i)&&!n.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),n.hmd=function(t){return(t=Object.create(t)).children||(t.children=[]),Object.defineProperty(t,"exports",{enumerable:!0,set:function(){throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+t.id)}}),t},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},function(){"use strict";var t=n(9355),e=n(3949),i=n.n(e),r=n(3511),o=n(6790),a=n(9927),s=n(9226);class l extends o.H{handleFooterContentChange(){this.footerContainer.classList.toggle("footer",this.footer.assignedNodes().length>0)}handleActionsContentChange(){this.actionsContainer.classList.toggle("actions",this.actions.assignedNodes().length>0)}handleHeaderIconContentChange(){this.headerIconContainer.classList.toggle("header-icon",this.headerIcon.assignedNodes().length>0)}handleStartContentChange(){this.startContentContainer.classList.toggle("start-content",this.startContent.assignedNodes().length>0)}}(0,r.gn)([(0,a.Lj)({attribute:"fixed-title",mode:"fromView"})],l.prototype,"fixedTitle",void 0),(0,r.gn)([(0,a.Lj)({mode:"fromView"})],l.prototype,"title",void 0),(0,r.gn)([(0,a.Lj)({attribute:"sub-title",mode:"fromView"})],l.prototype,"subTitle",void 0),(0,r.gn)([s.LO],l.prototype,"footerSlottedNodes",void 0),(0,r.gn)([s.LO],l.prototype,"actionsSlottedNodes",void 0),(0,r.gn)([s.LO],l.prototype,"startContentSlottedNodes",void 0);var c=n(8480),u=n(1337),d=n(1217),h=n(9655);const p=c.d`
    <template>
        <header class="header-fixed" part="header-fixed">
            <div class="header-title-wrapper">
                <span part="header-icon" aria-hidden="true" ${(0,u.i)("headerIconContainer")}>
                    <slot
                        name="header-icon"
                        ${(0,u.i)("headerIcon")}
                        @slotchange=${t=>t.handleHeaderIconContentChange()}
                    ></slot>
                </span>
                <h1 class="header-fixed-title" part="header-fixed-title">
                    ${t=>t.fixedTitle}
                </h1>
            </div>
            <div class="header-actions" part="header-actions">
                <slot name="header-actions"></slot>
            </div>
        </header>
        <div class="content" part="content">
            <div
                class="${t=>t.startContentSlottedNodes&&t.startContentSlottedNodes.length?"start-content":"start-content__hidden"}"
                part="start-content"
                ${(0,u.i)("startContentContainer")}
            >
                <slot
                    name="start-content"
                    ${(0,u.i)("startContent")}
                    ${(0,d.Q)("startContentSlottedNodes")}
                    @slotchange="${t=>t.handleStartContentChange()}"
                ></slot>
            </div>
            <div class="header" part="header">
                <slot name="header-content">
                    ${(0,h.g)((t=>t.title),c.d`
                            <h2 class="header-title" part="header-title">
                                ${t=>t.title}
                            </h2>
                        `)}
                    ${(0,h.g)((t=>t.subTitle),c.d`
                            <p class="header-sub-title" part="header-sub-title">
                                ${t=>t.subTitle}
                            </p>
                        `)}
                </slot>
                <div
                    class="${t=>t.actionsSlottedNodes&&t.actionsSlottedNodes.length?"actions":"actions__hidden"}"
                    part="actions"
                    ${(0,u.i)("actionsContainer")}
                >
                    <slot
                        name="actions"
                        ${(0,u.i)("actions")}
                        ${(0,d.Q)("actionsSlottedNodes")}
                        @slotchange="${t=>t.handleActionsContentChange()}"
                    ></slot>
                </div>
            </div>
            <div class="sections" part="sections">
                <slot></slot>
            </div>
            <footer
                class="${t=>t.footerSlottedNodes&&t.footerSlottedNodes.length?"footer":"footer__hidden"}"
                part="footer"
                ${(0,u.i)("footerContainer")}
            >
                <slot
                    name="footer"
                    ${(0,u.i)("footer")}
                    ${(0,d.Q)("footerSlottedNodes")}
                    @slotchange="${t=>t.handleFooterContentChange()}"
                ></slot>
            </footer>
        </div>
    </template>
`;var f=n(1108),g=n(6571),v=n(5826);const m=f.i`
    ${(0,g.j)("flex")} :host {
        --side-padding: 12px;
        flex-direction: column;
        height: 100%;
        font-size: var(--type-ramp-base-font-size);
        line-height: var(--type-ramp-base-line-height);
    }

    .content {
        overflow: hidden;
        overflow-y: auto;
    }

    .header-fixed {
        display: flex;
        justify-content: space-between;
        align-items: center;
        height: 40px;
    }

    .header-title-wrapper {
        display: flex;
        align-items: center;
        margin-inline-start: 8px;
    }

    .header-icon {
        display: flex;
        margin-inline-start: 4px;
    }

    .header-fixed-title {
        display: inline-block;
        font-weight: 600;
        margin-inline-start: 8px;
        margin-top: 9px;
        margin-bottom: 11px;
        font-size: var(--type-ramp-base-font-size);
        line-height: var(--type-ramp-base-line-height);
    }

    .header-actions {
        margin: 4px;
    }

    .illustration-container {
        display: flex;
        justify-content: center;
    }

    .header {
        text-align: center;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
    }

    .header-title,
    .header-sub-title {
        display: inline;
    }

    .header-title {
        margin: 16px 16px 8px;
        font-size: var(--type-ramp-plus-1-line-height);
        line-height: var(--type-ramp-plus-2-line-height);
    }

    .header-sub-title {
        margin: 0 32px 8px 32px;
        font-weight: 600;
        font-size: var(--type-ramp-base-font-size);
        line-height: var(--type-ramp-base-line-height);
    }

    .sections {
        padding: 0 var(--side-padding);
    }

    .footer,
    .actions {
        display: flex;
        align-items: center;
        justify-content: center;
    }

    .footer {
        padding: 10px 12px;
        border-top: calc(var(--outline-width) * 1px) solid
            ${v.I.var};
    }

    .actions {
        display: flex;
        flex-direction: column;
        width: calc(100% - 24px);
        padding: 10px 12px 13px;
        border-bottom: calc(var(--outline-width) * 1px) solid
            ${v.I.var};
    }

    .footer__hidden,
    .actions__hidden {
        display: none;
    }

    .start-content {
        display: flex;
        align-items: center;
        justify-content: center;
        padding: 10px 12px;
    }

    .start-content__hidden {
        display: none;
    }
`.withBehaviors(v.I);let y=class extends l{};y=(0,r.gn)([(0,o.M)({name:"msft-edge-shopping",template:p,styles:m})],y);var C=n(6530),b=n(2453),S=n(6672),x=function(){return S.Z.Date.now()},E=n(9320),w=Math.max,A=Math.min;var I=function(t,e,n){var i,r,o,a,s,l,c=0,u=!1,d=!1,h=!0;if("function"!=typeof t)throw new TypeError("Expected a function");function p(e){var n=i,o=r;return i=r=void 0,c=e,a=t.apply(o,n)}function f(t){return c=t,s=setTimeout(v,e),u?p(t):a}function g(t){var n=t-l;return void 0===l||n>=e||n<0||d&&t-c>=o}function v(){var t=x();if(g(t))return m(t);s=setTimeout(v,function(t){var n=e-(t-l);return d?A(n,o-(t-c)):n}(t))}function m(t){return s=void 0,h&&i?p(t):(i=r=void 0,a)}function y(){var t=x(),n=g(t);if(i=arguments,r=this,l=t,n){if(void 0===s)return f(l);if(d)return clearTimeout(s),s=setTimeout(v,e),p(l)}return void 0===s&&(s=setTimeout(v,e)),a}return e=(0,E.Z)(e)||0,(0,b.Z)(n)&&(u=!!n.leading,o=(d="maxWait"in n)?w((0,E.Z)(n.maxWait)||0,e):o,h="trailing"in n?!!n.trailing:h),y.cancel=function(){void 0!==s&&clearTimeout(s),c=0,i=l=r=s=void 0},y.flush=function(){return void 0===s?a:m(x())},y};var k,D=function(t,e,n){var i=!0,r=!0;if("function"!=typeof t)throw new TypeError("Expected a function");return(0,b.Z)(n)&&(i="leading"in n?!!n.leading:i,r="trailing"in n?!!n.trailing:r),I(t,e,{leading:i,maxWait:e,trailing:r})};!function(t){t.ltr="ltr",t.rtl="rtl"}(k||(k={}));class T extends o.H{constructor(){super(),this.direction=k.ltr,this.currentSlotElementWidth=0,this.currentContentGapSize=0,this.setFlippersVisabilityFromPageState=()=>{const t=this.viewport.clientWidth,e=this.container.clientWidth;if(!t||!e||t>=e)return void this.setFlippersHiddenVisibility(!0,!0);const n=this.viewport.scrollLeft;0!==n?t+Math.abs(n)>=e?this.setFlippersHiddenVisibility(!1,!0):this.setFlippersHiddenVisibility(!1,!1):this.setFlippersHiddenVisibility(!0,!1)},this.handleResize=()=>{this.setFlippersVisabilityFromPageState()},this.$fastController.addBehaviors([C.PC]),this.handleResize=D(this.handleResize,200)}connectedCallback(){if(super.connectedCallback(),this.provider){s.y$.getNotifier(this.provider.designSystem).subscribe(this,"direction")}this.setFlippersVisabilityFromPageState(),window.addEventListener("resize",this.handleResize)}disconnectedCallback(){window.removeEventListener("resize",this.handleResize)}handleChange(t,e){this.direction=t[e],this.flipperNext.children[0].hidden=!1,this.flipperPrevious.children[0].hidden=!0}handleSlotContentChange(){const t=this.viewportSlot.assignedElements();t.length>0&&(this.currentSlotElementWidth=t[0].clientWidth);const e=window.getComputedStyle(this.container).rowGap;this.currentContentGapSize=e?Number(e.replace(/px/,"")):0,this.setFlippersVisabilityFromPageState()}slideKeyPressHandler(t){const e="rtl"!==this.direction;e||(t*=-1);const n=this.viewport.scrollLeft;if(e&&t<0&&0===n||!e&&t>0&&0===n)return;const i=this.viewport.clientWidth,r=this.container.clientWidth;if(i<=0||r<=0)return;if(i>=r)return void this.setFlippersHiddenVisibility(!0,!0);const o=t*this.getScrollDistance();(e&&t>0||!e&&t<0)&&((Math.abs(o)+Math.abs(n)>=r||r-(Math.abs(o)+Math.abs(n))<=i)&&this.hideFlipperNext(!0),this.hideFlipperPrevious(!1)),e&&t<0&&(o+n<=0&&this.hideFlipperPrevious(!0),this.hideFlipperNext(!1)),!e&&t>0&&(o+n>=0&&this.hideFlipperPrevious(!0),this.hideFlipperNext(!1)),requestAnimationFrame((()=>{this.viewport.scrollTo(this.viewport.scrollLeft+o,0)}))}hideFlipperNext(t){this.flipperNext.children[0].hidden=t}hideFlipperPrevious(t){this.flipperPrevious.children[0].hidden=t}setFlippersHiddenVisibility(t,e){this.hideFlipperPrevious(t),this.hideFlipperNext(e)}getOneElementUnit(){return this.currentSlotElementWidth+this.currentContentGapSize}getScrollDistance(){const t=this.viewport.clientWidth;if(t<=0)return 0;const e=this.getOneElementUnit();if(!e||e<=0)return 0;const n=Math.floor(t/e)*e;return n<=0?e:n}}(0,r.gn)([s.LO],T.prototype,"direction",void 0),(0,r.gn)([s.LO],T.prototype,"flipperNextTelemetryTag",void 0),(0,r.gn)([s.LO],T.prototype,"flipperPreviousTelemetryTag",void 0);const M=f.i`
    :host {
        --viewport-width: auto;
        --viewport-height: auto;
        --element-gap: 12px;
        height: var(--viewport-height);
        overflow: hidden;
        width: var(--viewport-width);
        position: relative;
        display: flex;
    }

    .flipper-container {
        position: absolute;
        right: 0;
        left: 0;
        top: 0;
        bottom: 0;
        padding: 20px;
        display: flex;
        align-items: center;
        pointer-events: none;
        z-index: 0;
    }

    .viewport {
        height: var(--viewport-height);
        overflow-x: hidden;
        scroll-behavior: smooth;
        width: var(--viewport-width);
        white-space: nowrap;
    }

    .container {
        display: flex;
        flex-direction: row;
        gap: var(--element-gap);
        width: max-content;
    }

    .flipper-next {
        margin-inline-start: auto;
    }

    .flipper-next,
    .flipper-previous {
        pointer-events: all;
        z-index: 2;
    }
`;var P,R=n(5263),O=n(535);!function(t){t.next="next",t.previous="previous"}(P||(P={}));class L extends o.H{constructor(){super(...arguments),this.hiddenFromAT=!0,this.direction=P.next}}(0,O.gn)([(0,a.Lj)({mode:"boolean"})],L.prototype,"disabled",void 0),(0,O.gn)([(0,a.Lj)({attribute:"aria-hidden",converter:a.bw})],L.prototype,"hiddenFromAT",void 0),(0,O.gn)([a.Lj],L.prototype,"direction",void 0);const _=c.d`
    <template
        role="button"
        aria-disabled="${t=>!!t.disabled||void 0}"
        tabindex="${t=>t.hiddenFromAT?-1:0}"
        class="${t=>t.direction} ${t=>t.disabled?"disabled":""}"
    >
        ${(0,h.g)((t=>t.direction===P.next),c.d`
                <span part="next" class="next">
                    <slot name="next">
                        <svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg">
                            <path
                                d="M4.023 15.273L11.29 8 4.023.727l.704-.704L12.71 8l-7.984 7.977-.704-.704z"
                            />
                        </svg>
                    </slot>
                </span>
            `)}
        ${(0,h.g)((t=>t.direction===P.previous),c.d`
                <span part="previous" class="previous">
                    <slot name="previous">
                        <svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg">
                            <path
                                d="M11.273 15.977L3.29 8 11.273.023l.704.704L4.71 8l7.266 7.273-.704.704z"
                            />
                        </svg>
                    </slot>
                </span>
            `)}
    </template>
`;var N=n(3917),H=n(937),F=n(4381),Z=n(5066),B=n(9116);const $=f.i`
    ${(0,g.j)("inline-flex")} :host {
        width: calc(${B.i} * 1px);
        height: calc(${B.i} * 1px);
        justify-content: center;
        align-items: center;
        margin: 0;
        position: relative;
        fill: currentcolor;
        color: ${v.sp.var};
        background: transparent;
        border: none;
        outline: none;
        padding: 0;
    }

    :host::before {
        content: "";
        opacity: 0.8;
        background: ${v.Br.var};
        border: calc(var(--outline-width) * 1px) solid ${v.Fv.var};
        border-radius: 50%;
        position: absolute;
        top: 0;
        right: 0;
        left: 0;
        bottom: 0;
        transition: all 0.1s ease-in-out;
    }

    .next,
    .previous {
        position: relative;
        ${""} width: 16px;
        height: 16px;
    }

    :host(.disabled) {
        opacity: var(--disabled-opacity);
        cursor: ${N.H};
    }

    :host(:hover) {
        cursor: pointer;
    }

    :host(:hover)::before {
        background: ${v.Cs.var};
        border-color: ${v.Xt.var};
    }

    :host(:${H.b}) {
        outline: none;
    }

    :host(:${H.b})::before {
        box-shadow: 0 0 0 1px ${v.cI.var} inset;
        border-color: ${v.cI.var};
    }

    :host(:active)::before {
        background: ${v.Nv.var};
        border-color: ${v.i2.var};
    }

    :host::-moz-focus-inner {
        border: 0;
    }
`.withBehaviors(v.Nv,v.Cs,v.Br,v.cI,v.sp,v.i2,v.Xt,v.Fv,(0,F.vF)(f.i`
            :host {
                background: ${Z.H.Canvas};
            }
            :host .next,
            :host .previous {
                color: ${Z.H.ButtonText};
                fill: currentcolor;
            }
            :host::before {
                background: ${Z.H.Canvas};
                border-color: ${Z.H.ButtonText};
            }
            :host(:hover)::before {
                forced-color-adjust: none;
                background: ${Z.H.Highlight};
                border-color: ${Z.H.ButtonText};
                opacity: 1;
            }
            :host(:hover) .next,
            :host(:hover) .previous {
                forced-color-adjust: none;
                color: ${Z.H.HighlightText};
                fill: currentcolor;
            }
            :host(.disabled) {
                opacity: 1;
            }
            :host(.disabled)::before,
            :host(.disabled:hover)::before,
            :host(.disabled) .next,
            :host(.disabled) .previous,
            :host(.disabled:hover) .next,
            :host(.disabled:hover) .previous {
                forced-color-adjust: none;
                background: ${Z.H.Canvas};
                border-color: ${Z.H.GrayText};
                color: ${Z.H.GrayText};
                fill: ${Z.H.GrayText};
            }
            :host(:${H.b})::before {
                forced-color-adjust: none;
                border-color: ${Z.H.Highlight};
                box-shadow: 0 0 0 2px ${Z.H.Field}, 0 0 0 4px ${Z.H.FieldText};
            }
        `));let U=class extends L{};U=(0,R.gn)([(0,o.M)({name:"fluent-flipper",template:_,styles:$,shadowOptions:{mode:"closed"}})],U);var V=n(397),G=n(109);const j=Object.freeze({bind(){},unbind(){}}),z=Object.freeze({targetIndex:0,createBehavior:()=>j});class W extends V.m0{constructor(t,e){super(),this.metadataOrBinding=t,this.options=e,this._factory=null}get factory(){let t=this._factory;return null===t&&(this._factory=t=this.selectFactory()),t}createBehavior(t){return this.factory.createBehavior(t)}createPlaceholder(t){return G.SO.createCustomAttributePlaceholder("fast-telemetry",t)}static installFactorySelector(t){W.prototype.selectFactory=t}selectFactory(){return z}}function Y(t,e){return new W(t,e)}const q=c.d`
    <div
        ${(0,u.i)("viewport")}
        class="viewport"
        part="viewport"
        direction="${t=>t.direction?t.direction:"ltr"}"
    >
        <div class="container" part="container" ${(0,u.i)("container")}>
            <slot
                ${(0,u.i)("viewportSlot")}
                @slotchange=${t=>t.handleSlotContentChange()}
            ></slot>
        </div>
    </div>
    <div class="flipper-container" part="flipper-container">
        <slot ${(0,u.i)("flipperPrevious")} name="flipper-previous">
            <fluent-flipper
                direction="${t=>"rtl"===t.direction?"next":"previous"}"
                class="flipper-previous"
                @click="${t=>t.slideKeyPressHandler(-1)}"
                ${Y((t=>t.flipperPreviousTelemetryTag))}
                hidden
            ></fluent-flipper>
        </slot>
        <slot ${(0,u.i)("flipperNext")} name="flipper-next">
            <fluent-flipper
                direction="${t=>"rtl"===t.direction?"previous":"next"}"
                class="flipper-next"
                @click="${t=>t.slideKeyPressHandler(1)}"
                ${Y((t=>t.flipperNextTelemetryTag))}
                hidden
            ></fluent-flipper>
        </slot>
    </div>
`;let X=class extends T{};var K;X=(0,r.gn)([(0,o.M)({name:"msft-horizontal-card-slider",template:q,styles:M})],X),function(t){t[t.alt=18]="alt",t[t.arrowDown=40]="arrowDown",t[t.arrowLeft=37]="arrowLeft",t[t.arrowRight=39]="arrowRight",t[t.arrowUp=38]="arrowUp",t[t.back=8]="back",t[t.backSlash=220]="backSlash",t[t.break=19]="break",t[t.capsLock=20]="capsLock",t[t.closeBracket=221]="closeBracket",t[t.colon=186]="colon",t[t.colon2=59]="colon2",t[t.comma=188]="comma",t[t.ctrl=17]="ctrl",t[t.delete=46]="delete",t[t.end=35]="end",t[t.enter=13]="enter",t[t.equals=187]="equals",t[t.equals2=61]="equals2",t[t.equals3=107]="equals3",t[t.escape=27]="escape",t[t.forwardSlash=191]="forwardSlash",t[t.function1=112]="function1",t[t.function10=121]="function10",t[t.function11=122]="function11",t[t.function12=123]="function12",t[t.function2=113]="function2",t[t.function3=114]="function3",t[t.function4=115]="function4",t[t.function5=116]="function5",t[t.function6=117]="function6",t[t.function7=118]="function7",t[t.function8=119]="function8",t[t.function9=120]="function9",t[t.home=36]="home",t[t.insert=45]="insert",t[t.menu=93]="menu",t[t.minus=189]="minus",t[t.minus2=109]="minus2",t[t.numLock=144]="numLock",t[t.numPad0=96]="numPad0",t[t.numPad1=97]="numPad1",t[t.numPad2=98]="numPad2",t[t.numPad3=99]="numPad3",t[t.numPad4=100]="numPad4",t[t.numPad5=101]="numPad5",t[t.numPad6=102]="numPad6",t[t.numPad7=103]="numPad7",t[t.numPad8=104]="numPad8",t[t.numPad9=105]="numPad9",t[t.numPadDivide=111]="numPadDivide",t[t.numPadDot=110]="numPadDot",t[t.numPadMinus=109]="numPadMinus",t[t.numPadMultiply=106]="numPadMultiply",t[t.numPadPlus=107]="numPadPlus",t[t.openBracket=219]="openBracket",t[t.pageDown=34]="pageDown",t[t.pageUp=33]="pageUp",t[t.period=190]="period",t[t.print=44]="print",t[t.quote=222]="quote",t[t.scrollLock=145]="scrollLock",t[t.shift=16]="shift",t[t.space=32]="space",t[t.tab=9]="tab",t[t.tilde=192]="tilde",t[t.windowsLeft=91]="windowsLeft",t[t.windowsOpera=219]="windowsOpera",t[t.windowsRight=92]="windowsRight"}(K||(K={}));var Q=n(4246);var J=function(t,e){for(var n=-1,i=null==t?0:t.length,r=Array(i);++n<i;)r[n]=e(t[n],n,t);return r},tt=n(6248),et=n(4924),nt=Q.Z?Q.Z.prototype:void 0,it=nt?nt.toString:void 0;var rt=function t(e){if("string"==typeof e)return e;if((0,tt.Z)(e))return J(e,t)+"";if((0,et.Z)(e))return it?it.call(e):"";var n=e+"";return"0"==n&&1/e==-Infinity?"-0":n};var ot=function(t){return null==t?"":rt(t)},at=0;var st=function(t){var e=++at;return ot(t)+e};class lt extends o.H{constructor(){super(...arguments),this.subTitleId=st("subTitleId"),this.descriptionId=st("descriptionId"),this.cashbackNonstackableMessageId=st("cashbackMessageId"),this.successRateId=st("successRateId"),this.isSelected=!1,this.handleSelected=t=>{this.isSelected&&this.controlCopy.addEventListener("transitionend",this.handleTransitionEnd)},this.handleTransitionEnd=t=>{this.isSelected=!1,this.controlCopy.removeEventListener("transitionend",this.handleTransitionEnd)},this.onKeyPressHandler=t=>{switch(t.keyCode){case 32:case 13:t.preventDefault(),this.onSelectedHandler()}},this.onSelectedHandler=()=>{document.activeElement!==this&&this.focus(),this.isSelected=!0,this.$emit("selected")}}connectedCallback(){super.connectedCallback(),this.addEventListener("selected",this.handleSelected)}disconnectedCallback(){super.disconnectedCallback(),this.removeEventListener("selected",this.handleSelected)}onClickHandler(){this.onSelectedHandler()}onBlurHandler(){this.isSelected=!1,this.controlCopy.removeEventListener("transitionend",this.handleTransitionEnd)}}(0,r.gn)([a.Lj],lt.prototype,"name",void 0),(0,r.gn)([(0,a.Lj)({attribute:"sub-title"})],lt.prototype,"subTitle",void 0),(0,r.gn)([a.Lj],lt.prototype,"description",void 0),(0,r.gn)([(0,a.Lj)({attribute:"indicator-message"})],lt.prototype,"indicatorMessage",void 0),(0,r.gn)([(0,a.Lj)({attribute:"selected-indicator-message"})],lt.prototype,"selectedIndicatorMessage",void 0),(0,r.gn)([(0,a.Lj)({attribute:"cashback-nonstackable-message"})],lt.prototype,"cashbackNonstackableMessage",void 0),(0,r.gn)([(0,a.Lj)({attribute:"label"})],lt.prototype,"label",void 0),(0,r.gn)([s.LO],lt.prototype,"isSelected",void 0);const ct=c.d`
    <template>
        <button
            class="control"
            part="control"
            aria-label="${t=>t.label}"
            aria-describedby="${t=>t.subTitleId} ${t=>t.descriptionId} ${t=>t.cashbackNonstackableMessageId} ${t=>t.successRateId}"
            @click="${t=>t.onClickHandler()}"
            @keypress="${(t,e)=>t.onKeyPressHandler(e.event)}"
            @blur="${t=>t.onBlurHandler()}"
        >
            <div class="content">
                <div class="start-content" part="start-content">
                    <span class="title" part="title">${t=>t.name}</span>
                    <span id="${t=>t.subTitleId}" class="sub-title" part="sub-title">
                        ${t=>t.subTitle}
                    </span>
                </div>
                <div class="end-content" part="end-content">
                    <span
                        id="${t=>t.descriptionId}"
                        class="description"
                        part="description"
                    >
                        ${t=>t.description}
                    </span>
                    <span
                        id="${t=>t.successRateId}"
                        class="success-rate"
                        part="success-rate"
                    >
                        <slot name="success-rate"></slot>
                    </span>
                </div>
            </div>
        </button>
        <div
            class="${t=>t.isSelected?"indicator selected":"indicator"}"
            part="indicator"
            ${(0,u.i)("controlCopy")}
        >
            ${(0,h.g)((t=>!t.isSelected),c.d`<span
                    aria-hidden="true"
                    class="copy-icon"
                    part="copy-icon"
                    >${'<svg width="14" height="16" viewBox="0 0 14 16" xmlns="http://www.w3.org/2000/svg"><path d="M14 6.28906V16H4V13H0V0H6.71094L9.71094 3H10.7109L14 6.28906ZM11 6H12.2891L11 4.71094V6ZM4 3H8.28906L6.28906 1H1V12H4V3ZM13 7H10V4H5V15H13V7Z" /></svg>'}</span
                >`)}
            ${(0,h.g)((t=>t.isSelected),c.d`
                    <span aria-hidden="true" class="check-icon" part="check-icon"
                        >${'<svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M8 0C8.73438 0 9.44271 0.0963542 10.125 0.289062C10.8073 0.476562 11.4427 0.744792 12.0312 1.09375C12.625 1.44271 13.1641 1.86198 13.6484 2.35156C14.138 2.83594 14.5573 3.375 14.9062 3.96875C15.2552 4.55729 15.5234 5.19271 15.7109 5.875C15.9036 6.55729 16 7.26562 16 8C16 8.73438 15.9036 9.44271 15.7109 10.125C15.5234 10.8073 15.2552 11.4453 14.9062 12.0391C14.5573 12.6276 14.138 13.1667 13.6484 13.6562C13.1641 14.1406 12.625 14.5573 12.0312 14.9062C11.4427 15.2552 10.8073 15.526 10.125 15.7188C9.44271 15.9062 8.73438 16 8 16C7.26562 16 6.55729 15.9062 5.875 15.7188C5.19271 15.526 4.55469 15.2552 3.96094 14.9062C3.3724 14.5573 2.83333 14.1406 2.34375 13.6562C1.85938 13.1667 1.44271 12.6276 1.09375 12.0391C0.744792 11.4453 0.473958 10.8073 0.28125 10.125C0.09375 9.44271 0 8.73438 0 8C0 7.26562 0.09375 6.55729 0.28125 5.875C0.473958 5.19271 0.744792 4.55729 1.09375 3.96875C1.44271 3.375 1.85938 2.83594 2.34375 2.35156C2.83333 1.86198 3.3724 1.44271 3.96094 1.09375C4.55469 0.744792 5.19271 0.476562 5.875 0.289062C6.55729 0.0963542 7.26562 0 8 0ZM12.1797 5.88281C12.4731 5.58941 12.4731 5.11371 12.1797 4.82031C11.8863 4.52691 11.4106 4.52691 11.1172 4.82031L6.5 9.4375L4.88281 7.82031C4.58941 7.52691 4.11371 7.52691 3.82031 7.82031C3.52691 8.11371 3.52691 8.58941 3.82031 8.88281L6.5 11.5625L12.1797 5.88281Z" /></svg>'}</span
                    >
                `)}
            <div class="indicator-content" part="indicator-content">
                <span
                    aria-hidden="true"
                    class="${t=>t.isSelected?"indicator-message selected":"indicator-message"}"
                    part="indicator-message"
                >
                    ${t=>t.indicatorMessage}
                </span>
                <span
                    class="indicator-message"
                    part="indicator-message"
                    aria-live="polite"
                    aria-relevant="all"
                    aria-atomic="true"
                >
                    ${t=>t.isSelected?t.selectedIndicatorMessage:""}
                </span>
                <span
                    id="${t=>t.cashbackNonstackableMessageId}"
                    aria-hidden="${t=>t.isSelected?"false":"true"}"
                    class="cashback-nonstackable-message"
                    part="cashback-nonstackable-message"
                >
                    ${t=>t.cashbackNonstackableMessage}
                </span>
            </div>
        </div>
    </template>
`;var ut=n(7708),dt=n(7683),ht=n(83),pt=n(9724),ft=n(3428),gt=n(9514),vt=n(7123),mt=n(691),yt=n(9599),Ct=n(8838),bt=n(5542);function St(t,e,n){n*=1;const i=(0,yt.lu)(t)||new Ct.h(1,0,1,1),r=(0,yt.lu)(e)||new Ct.h(1,0,1,1),o=r.r*(1-n)+i.r*n,a=r.g*(1-n)+i.g*n,s=r.b*(1-n)+i.b*n;return new Ct.h(o,a,s,1).toStringHexRGB()}const xt=(0,mt.K2)(vt.MY,vt.jW,vt.hD);function Et(t){return e=>{(0,bt.BD)(e),xt(e);return function(t){return e=>{const n=St("#FFF",(0,vt.Cz)(e),t);return St((0,vt.R6)(e),n,t)}}((11+1*t(e))/100)(e)}}const wt=(0,mt.vm)((t=>({rest:At(t),hover:It(t),active:kt(t),focus:Dt(t),selected:Tt(t)}))),At=(0,mt.vm)(Et((t=>0))),It=(0,mt.vm)(Et((t=>9))),kt=(0,mt.vm)(Et((t=>-2))),Dt=(0,mt.vm)(Et((t=>0))),Tt=(0,mt.vm)(Et((t=>0)));function Mt(t=0,e=1,n=(()=>"#FFF"),i=ft.wF){return(0,mt.vm)((r=>{const o=(0,vt.$p)(i,r),a=(0,vt.$p)(n,r),{r:s,g:l,b:c}=(0,yt.in)(o);return`linear-gradient(160deg, ${new Ct.h(s,l,c,t).toStringWebRGBA()}, ${new Ct.h(s,l,c,e).toStringWebRGBA()}), ${a}`}))}const Pt=t=>{const e=(0,bt.hi)(vt.yv,(0,vt.Cz)(t))(t);return(0,bt.qZ)(e-5,(0,vt.yv)(t))};function Rt(t){return"function"==typeof t?e=>Pt(Object.assign({},e,{backgroundColor:t(e)})):Pt(t)}const Ot=(0,ht.Q)("accent-muted-fill-rest",(t=>wt(t).rest),pt.M.findProvider),Lt=((0,ht.Q)("gradient-white-fill",(t=>Mt(.8,1)(t)),pt.M.findProvider),(0,ht.Q)("gradient-background-fill",(t=>Mt(0,1,(0,vt.Cz)(t))(t)),pt.M.findProvider),(0,ht.Q)("neutral-fill-bubble-over-rest",(t=>Rt(ft.wF)(t)),pt.M.findProvider),(0,ht.Q)("neutral-foreground-hint-over-bubble",(t=>(0,gt.Q)((t=>Rt(ft.wF)(t)))(t)),pt.M.findProvider),f.i`
    ${(0,g.j)("flex")} :host {
        position: relative;
        box-sizing: border-box;
        border: calc(var(--outline-width) * 1px) solid transparent;
        border-radius: calc(var(--elevated-corner-radius) * 1px);
        font-family: var(--body-font);
        font-size: var(--type-ramp-base-font-size);
        line-height: var(--type-ramp-base-line-height);
        color: ${v.sp.var};
        outline: none;
    }

    .control {
        position: relative;
        font-family: var(--body-font);
        background: transparent;
        box-sizing: border-box;
        border: none;
        border-radius: calc(var(--elevated-corner-radius) * 1px);
        display: flex;
        flex-direction: column;
        justify-content: flex-start;
        align-items: stretch;
        padding: 12px 12px 10px;
        width: 100%;
        min-height: 68px;
        cursor: pointer;
        outline: none;
        --elevation: 5;
        ${ut.XC};
    }

    .control:${H.b} {
        border-color: ${v.cI.var};
        box-shadow: 0 0 0 calc(var(--focus-outline-width) * 1px) ${v.cI.var};
    }

    .content {
        display: flex;
    }

    .start-content {
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        min-width: 110px;
        max-width: 110px;
        min-height: 64px;
        margin-inline-end: 12px;
        overflow: hidden;
        background: ${Ot.var};
        border: 1px solid transparent;
        border-radius: calc(var(--corner-radius) * 2px);
    }

    .end-content {
        display: flex;
        flex-direction: column;
        justify-content: space-between;
    }

    .title {
        color: ${v.YK.var};
        font-weight: 600;
        width: 100px;
        overflow: hidden;
        overflow-wrap: break-word;
        display: -webkit-box;
        -webkit-line-clamp: 1;
        -webkit-box-orient: vertical;
    }

    .sub-title {
        margin-top: 4px;
        color: ${v.oK.var};
    }

    .description {
        font-size: var(--type-ramp-minus-1-font-size);
        line-height: var(--type-ramp-minus-1-line-height);
        color: ${v.sp.var};
        text-align: start;
        display: -webkit-box;
        -webkit-line-clamp: 3;
        -webkit-box-orient: vertical;
        overflow: hidden;
        overflow-wrap: break-word;
    }

    .success-rate {
        display: flex;
        align-self: flex-start;
    }

    .indicator {
        display: flex;
        align-items: center;
        justify-content: center;
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        width: fit-content;
        height: auto;
        min-height: 36px;
        border-radius: 32px;
        padding: 0 16px;
        --elevation: 11;
        ${ut.XC};
        background: ${v.$F.var};
        border: calc(var(--outline-width) * 1px) solid transparent;
        opacity: 0;
        pointer-events: none;
    }

    .control:hover + .indicator,
    .control:focus + .indicator {
        opacity: 1;
    }

    .control + .indicator.selected {
        opacity: 1;
        transition: opacity 450ms 3s linear;
    }

    .indicator-message.selected {
        display: none;
    }

    .indicator-content {
        display: flex;
        flex-direction: column;
        margin-inline-start: 8px;
        margin-top: 6px;
        margin-bottom: 8px;
        font-size: var(--type-ramp-minus-1-font-size);
        line-height: var(--type-ramp-minus-1-line-height);
        font-weight: 600;
    }

    .cashback-nonstackable-message {
        font-size: var(--type-ramp-minus-1-font-size);
        line-height: var(--type-ramp-minus-1-line-height);
        color: ${v.oK.var};
    }

    .copy-icon {
        display: flex;
        fill: currentcolor;
    }

    .check-icon {
        display: flex;
        fill: #8BB73A;
    }
`.withBehaviors(v.iq,v.YK,Ot,v.cI,v.oK,v.sp,v.I,v.$F,(0,F.vF)(f.i`
        .title-container {
            background: ${dt.H.ButtonFace};
            border-color: ${dt.H.ButtonText};
        }
            .control,
            .title,
            .sub-title,
            .description,
            .control:hover .title-container {
                color: ${dt.H.ButtonText};
                border-color: ${dt.H.ButtonText}
            }

            .control:hover,
            .control:${H.b} {
                forced-color-adjust: none;
                background: ${dt.H.ButtonFace};
                color: ${dt.H.ButtonText};
                box-shadow: 0 0 0 calc((var(--focus-outline-width) - var(--outline-width)) * 1px)
                    ${dt.H.Highlight};
            }

            .control + .indicator {
                forced-color-adjust: none;
                background: ${dt.H.Highlight};
                border-color: ${dt.H.Highlight};
                color: ${dt.H.HighlightText};
            }

            .cashback-nonstackable-message {
                color: ${dt.H.HighlightText};
            }

            .copy-icon,
            .check-icon {
                fill: ${dt.H.HighlightText};
            }
        `)));let _t=class extends lt{};_t=(0,r.gn)([(0,o.M)({name:"msft-shopping-coupon",template:ct,styles:Lt,shadowOptions:{delegatesFocus:!0}})],_t);class Nt extends o.H{constructor(){super(...arguments),this.generateBadgeStyle=()=>{if(!this.fill&&!this.color)return;const t=`background-color: var(--badge-fill-${this.fill});`,e=`color: var(--badge-color-${this.color});`;return this.fill&&!this.color?t:this.color&&!this.fill?e:`${e} ${t}`}}}(0,O.gn)([(0,a.Lj)({attribute:"fill"})],Nt.prototype,"fill",void 0),(0,O.gn)([(0,a.Lj)({attribute:"color"})],Nt.prototype,"color",void 0),(0,O.gn)([(0,a.Lj)({mode:"boolean"})],Nt.prototype,"circular",void 0);const Ht=c.d`
    <template class="${t=>t.circular?"circular":""}">
        <div class="control" part="control" style="${t=>t.generateBadgeStyle()}">
            <slot></slot>
        </div>
    </template>
`,Ft=f.i`
  ${(0,g.j)("inline-block")} :host {
    box-sizing: border-box;
    font-family: var(--body-font);
    font-size: var(--type-ramp-minus-1-font-size);
    line-height: var(--type-ramp-minus-1-height);
  }

  .control {
    border-radius: calc(var(--corner-radius) * 1px);
    padding: calc(var(--design-unit) * 0.5px) calc(var(--design-unit) * 1px);
  }

  :host(.lightweight) .control {
    background: transparent;
    color: ${v.sp.var};
    font-weight: 600;
  }

  :host(.accent) .control {
    background: ${v.iq.var};
    color: ${v.Jd.var};
  }

  :host(.neutral) .control {
    background: ${v.nE.var};
    color: ${v.sp.var};
  }
`.withBehaviors(v.iq,v.Jd,v.nE,v.sp);let Zt=class extends Nt{constructor(){super(...arguments),this.appearance="lightweight"}appearanceChanged(t,e){t!==e&&G.SO.queueUpdate((()=>{this.classList.add(e),this.classList.remove(t)}))}};(0,R.gn)([(0,a.Lj)({mode:"fromView"})],Zt.prototype,"appearance",void 0),Zt=(0,R.gn)([(0,o.M)({name:"fluent-badge",template:Ht,styles:Ft,shadowOptions:{mode:"closed"}})],Zt);class Bt extends o.H{handleImageContentChange(){this.imageContainer.classList.toggle("image",this.image.assignedNodes().length>0)}}const $t=c.d`
    <span part="image" ${(0,u.i)("imageContainer")}>
        <slot
            name="image"
            ${(0,u.i)("image")}
            @slotchange=${t=>t.handleImageContentChange()}
        ></slot>
    </span>
    <span part="content" class="content">
        <slot></slot>
    </span>
`,Ut=f.i`
    ${(0,g.j)("inline-flex")} :host {
        box-sizing: border-box;
        font-family: var(--body-font);
        font-size: var(--type-ramp-minus-1-font-size);
        font-weight: 400;
        line-height: var(--type-ramp-minus-1-line-height);
        align-items: center;
        color: ${v.oK.var};
        min-height: 16px;
    }

    .content {
        overflow: hidden;
        white-space: nowrap;
        text-overflow: ellipsis;
    }

    .image {
        display: flex;
        margin-inline-end: calc(var(--design-unit) * 2px);
    }
`.withBehaviors(v.oK,(0,F.vF)(f.i`
            :host,
            .content {
                color: ${dt.H.ButtonText};
                fill: currentcolor;
            }
        `));let Vt=class extends Bt{};Vt=(0,r.gn)([(0,o.M)({name:"msft-attribution",template:$t,styles:Ut})],Vt);var Gt=n(3687);class jt extends Gt.o{handleImageContentChange(){this.control.classList.toggle("has-image",this.image.assignedNodes().length>0)}}(0,r.gn)([(0,a.Lj)({attribute:"price"})],jt.prototype,"price",void 0),(0,r.gn)([(0,a.Lj)({attribute:"badge"})],jt.prototype,"badge",void 0),(0,r.gn)([(0,a.Lj)({attribute:"retailer"})],jt.prototype,"retailer",void 0);var zt=n(4095);const Wt=c.d`
    <a
        class="control"
        part="control"
        ${(0,u.i)("control")}
        download="${t=>t.download}"
        href="${t=>t.href}"
        hreflang="${t=>t.hreflang}"
        ping="${t=>t.ping}"
        referrerpolicy="${t=>t.referrerpolicy}"
        rel="${t=>t.rel}"
        target="${t=>t.target}"
        type="${t=>t.type}"
        aria-atomic="${t=>t.ariaAtomic}"
        aria-busy="${t=>t.ariaBusy}"
        aria-controls="${t=>t.ariaControls}"
        aria-current="${t=>t.ariaCurrent}"
        aria-describedBy="${t=>t.ariaDescribedby}"
        aria-details="${t=>t.ariaDetails}"
        aria-disabled="${t=>t.ariaDisabled}"
        aria-errormessage="${t=>t.ariaErrormessage}"
        aria-expanded="${t=>t.ariaExpanded}"
        aria-flowto="${t=>t.ariaFlowto}"
        aria-haspopup="${t=>t.ariaHaspopup}"
        aria-hidden="${t=>t.ariaHidden}"
        aria-invalid="${t=>t.ariaInvalid}"
        aria-keyshortcuts="${t=>t.ariaKeyshortcuts}"
        aria-label="${t=>t.ariaLabel}"
        aria-labelledby="${t=>t.ariaLabelledby}"
        aria-live="${t=>t.ariaLive}"
        aria-owns="${t=>t.ariaOwns}"
        aria-relevant="${t=>t.ariaRelevant}"
        aria-roledescription="${t=>t.ariaRoledescription}"
    >
        <slot
            part="image"
            name="image"
            ${(0,u.i)("image")}
            @slotchange="${t=>t.handleImageContentChange()}"
        ></slot>
        <div class="content" part="content">
            ${zt.hX}
            <span class="title" part="title">
                <slot></slot>
            </span>
            <msft-attribution class="attribution" part="attribution">
                <slot part="icon" name="icon" slot="image"></slot>
                ${t=>t.retailer}
            </msft-attribution>
            ${zt.zq}
        </div>
        ${(0,h.g)((t=>t.price),c.d`
                <span class="price-container" part="price-container">
                    <span class="price" part="price">
                        ${t=>t.price}
                    </span>
                    ${(0,h.g)((t=>t.badge),c.d`
                            <div class="badge" part="badge" title="${t=>t.badge}">
                                ${t=>t.badge}
                            </div>
                        `)}
                </span>
            `)}
    </a>
`;class Yt{constructor(t,e){this.cache=new WeakMap,this.ltr=t,this.rtl=e}bind(t){const e=C.hO.findProvider(t);null!==e&&(e.$fastController&&e.$fastController.isConnected?this.attach(t,e):(Array.isArray(e.disconnectedRegistry)||(e.disconnectedRegistry=[]),e.disconnectedRegistry.push(this.attach.bind(this,t))))}unbind(t){const e=this.cache.get(t);e&&s.y$.getNotifier(e[0].designSystem).unsubscribe(e[1])}attach(t,e){const n=new qt(this.ltr,this.rtl,t);s.y$.getNotifier(e.designSystem).subscribe(n,"direction"),n.attach(e.designSystem.direction),this.cache.set(t,[e,n])}}class qt{constructor(t,e,n){this.ltr=t,this.rtl=e,this.source=n,this.attached=null}handleChange(t){this.attach(t.direction)}attach(t){this.attached!==this[t]&&(null!==this.attached&&this.source.$fastController.removeStyles(this.attached),this.attached=this[t],null!==this.attached&&this.source.$fastController.addStyles(this.attached))}}const Xt=f.i`
    .badge {
        right: 12px;
    }
`,Kt=f.i`
    .badge {
        left: 12px;
    }
`,Qt=f.i`
    ${(0,g.j)("flex")} :host {
        --content-max-lines: 2;
        outline: none;
        font-family: var(--body-font);
        font-size: var(--type-ramp-minus-1-font-size);
        font-weight: 600;
        line-height: var(--type-ramp-minus-1-line-height);
        min-width: calc(${B.i} * 1px);
        border-radius: calc(var(--elevated-corner-radius) * 1px);
        box-sizing: border-box;
        color: ${v.sp.var};    
        fill: currentcolor;
        cursor: pointer;
        min-height: 78px;
        position: relative;
        border: calc(var(--outline-width) * 1px) solid transparent;
    }

    :host(:active) {
        background-color: ${v.a.var};
    }

    .control:${H.b} {
        box-shadow: 0 0 0 calc(var(--focus-outline-width)* 1px) ${v.cI.var};
    }

    .control {
        display: grid;
        grid-template-columns: 1fr 90px;
        grid-column-gap: 8px;
        box-sizing: border-box;
        background: transparent;
        justify-content: center;
        align-items: center;
        padding: 5px 0;
        padding-inline-start: 8px;
        padding-inline-end: 15px;
        outline: none;
        text-decoration: none;
        border: none;
        color: inherit;
        border-radius: inherit;
        fill: inherit;
        cursor: inherit;
        font-family: inherit;
        width: 100%;
        height: 100%;
        --elevation: 4;
        ${ut.XC};
    }

    .control.has-image {
        grid-template-columns: 66px 1fr 90px;
    }

    .control:hover {
        border-radius: calc(var(--elevated-corner-radius) * 1px);
        --elevation: 8;
        ${ut.XC};
        background-color: unset;
    }

    ::slotted([slot="image"]){
        align-self: center;
        justify-self: center;
        max-width: 100%;
        max-height: 100%;
    }

    .content {
        display: flex;
        flex-direction: column;
        align-items: flex-start;
        justify-content: space-between;
        padding: calc(13px - 6px) 0;
    }

    .title {
        display: grid;
        grid-template-columns: minmax(0px, 1fr);
        overflow: hidden;
        white-space: normal;
        text-overflow: ellipsis;
        height: calc(
            var(--content-max-lines, 2) * var(--type-ramp-minus-2-line-height)
        );
        line-height: var(--type-ramp-minus-2-line-height);
        -webkit-line-clamp: var(--content-max-lines, 3);
    }

    .attribution {
        display: grid;
        grid-template-columns: auto minmax(0px, 1fr);
        margin-top: 4px;
    }

    .price-container {
        display: flex;
        flex-direction: column;
        justify-self: end;
        justify-content: center;
        align-items: center;
        font-size: var(--type-ramp-plus-1-font-size);
        text-overflow: ellipsis;
        overflow: hidden;
        min-height: var(--type-ramp-minus-1-line-height);
        max-width: 90px;
    }

    .price {
        overflow: hidden;
        text-overflow: ellipsis;
    }

    .badge {
        position: absolute;
        top: -4px;
        display: flex;
        align-items: center;
        max-width: 100%;
        height: 24px;
        padding: 6px 10px;
        box-sizing: border-box;
        background-color: ${v.iq.var};
        border-radius: calc(var(--corner-radius) * 1px);
        font-weight: 600;
        overflow: hidden;
        white-space: nowrap;
        text-overflow: ellipsis;
        color: ${v.Jd.var};
        font-size: var(--type-ramp-minus-1-font-size);
    }
    
    ::slotted([slot="start"]),
    ::slotted([slot="end"]) {
        line-height: var(--type-ramp-base-line-height);
        fill: currentcolor;
    }

    ::slotted([slot="end"]) {
        margin-top: 6px;
    }
`.withBehaviors(v.iq,v.I,v.a,v.cI,v.Jd,v.oK,v.sp,new Yt(Xt,Kt),(0,F.vF)(f.i`
        :host {
            color: ${dt.H.LinkText};
        }

        :host .control {
            forced-color-adjust: none;
            color: ${dt.H.ButtonText};
            };
        }
        :host .control:hover,
        :host .control:${H.b} {
            box-shadow: inset 0 0 0 calc((var(--focus-outline-width) * 1px)) ${dt.H.ButtonText};
        }
        :host([href]) .control {
            color: ${dt.H.LinkText};
        }
        :host([href]) .control:hover,
        :host([href]) .control:${H.b} {
            box-shadow: inset 0 0 0 calc((var(--focus-outline-width) * 1px)) ${dt.H.LinkText};
        }

        .badge {
            forced-color-adjust: none;
            color: ${dt.H.ButtonText};
            background: ${dt.H.ButtonFace};
            box-shadow: 0 0 0 calc((var(--outline-width) * 1px)) ${dt.H.ButtonText};
        }

        ::slotted([slot="image"]) {
            color: ${dt.H.ButtonText};
            fill: currentcolor;
        }

        ::slotted([slot="start"]),
        ::slotted([slot="end"]) {
            fill: ${dt.H.ButtonText};
        }
    `));let Jt=class extends jt{};Jt=(0,r.gn)([(0,o.M)({name:"msft-shopping-link",template:Wt,styles:Qt,shadowOptions:{delegatesFocus:!0}})],Jt);var te=n(6237),ee=n(8973);var ne,ie=n(1449);class re extends o.H{constructor(){super(...arguments),this.headinglevel=2,this.expanded=!1,this.clickHandler=t=>{this.expanded=!this.expanded,this.change()},this.change=()=>{this.$emit("change")}}}(0,O.gn)([(0,a.Lj)({attribute:"heading-level",mode:"fromView",converter:a.Id})],re.prototype,"headinglevel",void 0),(0,O.gn)([(0,a.Lj)({mode:"boolean"})],re.prototype,"expanded",void 0),(0,O.gn)([a.Lj],re.prototype,"id",void 0),(0,ie.e)(re,zt.hW),function(t){t.single="single",t.multi="multi"}(ne||(ne={}));class oe extends o.H{constructor(){super(...arguments),this.expandmode=ne.multi,this.activeItemIndex=0,this.change=()=>{this.$emit("change")},this.setItems=()=>{this.accordionIds=this.getItemIds(),this.accordionItems.forEach(((t,e)=>{t instanceof re&&(t.addEventListener("change",this.activeItemChange),this.isSingleExpandMode()&&(this.activeItemIndex!==e?t.expanded=!1:t.expanded=!0));const n=this.accordionIds[e];t.setAttribute("id","string"!=typeof n?`accordion-${e+1}`:n),this.activeid=this.accordionIds[this.activeItemIndex],t.addEventListener("keydown",this.handleItemKeyDown),t.addEventListener("focus",this.handleItemFocus)}))},this.removeItemListeners=t=>{t.forEach(((t,e)=>{t.removeEventListener("change",this.activeItemChange),t.removeEventListener("keydown",this.handleItemKeyDown),t.removeEventListener("focus",this.handleItemFocus)}))},this.activeItemChange=t=>{const e=t.target;this.isSingleExpandMode()&&(this.resetItems(),t.target.expanded=!0),this.activeid=t.target.getAttribute("id"),this.activeItemIndex=Array.from(this.accordionItems).indexOf(e),this.change()},this.handleItemKeyDown=t=>{if(t.target!==t.currentTarget)return;const e=t.keyCode;switch(this.accordionIds=this.getItemIds(),e){case ee.$Y:t.preventDefault(),this.adjust(-1);break;case ee.Q6:t.preventDefault(),this.adjust(1);break;case ee.wn:this.activeItemIndex=0,this.focusItem();break;case ee.$B:this.activeItemIndex=this.accordionItems.length-1,this.focusItem()}},this.handleItemFocus=t=>{if(t.target===t.currentTarget){const e=t.target,n=this.activeItemIndex=Array.from(this.accordionItems).indexOf(e);this.activeItemIndex!==n&&-1!==n&&(this.activeItemIndex=n,this.activeid=this.accordionIds[this.activeItemIndex])}}}accordionItemsChanged(t,e){this.$fastController.isConnected&&(this.removeItemListeners(t),this.accordionIds=this.getItemIds(),this.setItems())}resetItems(){this.accordionItems.forEach(((t,e)=>{t.expanded=!1}))}getItemIds(){return this.accordionItems.map((t=>t.getAttribute("id")))}isSingleExpandMode(){return this.expandmode===ne.single}adjust(t){this.activeItemIndex=function(t,e,n){return n<t?e:n>e?t:n}(0,this.accordionItems.length-1,this.activeItemIndex+t),this.focusItem()}focusItem(){const t=this.accordionItems[this.activeItemIndex];t instanceof re&&t.expandbutton.focus()}}(0,O.gn)([(0,a.Lj)({attribute:"expand-mode"})],oe.prototype,"expandmode",void 0),(0,O.gn)([s.LO],oe.prototype,"accordionItems",void 0);const ae=c.d`
    <template>
        <slot name="item" part="item" ${(0,d.Q)("accordionItems")}></slot>
    </template>
`,se=f.i`
  ${(0,g.j)("flex")} :host {
    box-sizing: border-box;
    flex-direction: column;
    font-family: var(--body-font);
    font-size: var(--type-ramp-minus-1-font-size);
    line-height: var(--type-ramp-minus-1-line-height);
    color: ${v.sp.var};
    border-top: calc(var(--outline-width) * 1px) solid ${v.I.var};
  }
`.withBehaviors(v.iq,v.I,v.sp);let le=class extends oe{};le=(0,R.gn)([(0,o.M)({name:"fluent-accordion",template:ae,styles:se,shadowOptions:{mode:"closed"}})],le);const ce=c.d`
    <template
        class="${t=>t.expanded?"expanded":""}"
        slot="item"
    >
        <div
            class="heading"
            part="heading"
            role="heading"
            aria-level="${t=>t.headinglevel}"
        >
            <button
                class="button"
                part="button"
                ${(0,u.i)("expandbutton")}
                aria-expanded="${t=>t.expanded}"
                aria-controls="${t=>t.id}-panel"
                id="${t=>t.id}"
                @click="${(t,e)=>t.clickHandler(e.event)}"
            >
                <span class="heading">
                    <slot name="heading" part="heading"></slot>
                </span>
            </button>
            ${zt.hX}
            ${zt.zq}
            <span class="icon" part="icon" aria-hidden="true">
                <slot name="expanded-icon" part="expanded-icon">
                    <svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg">
                        <path
                            fill-rule="evenodd"
                            clip-rule="evenodd"
                            d="M3.78 3h12.44c.43 0 .78.35.78.78v12.44c0 .43-.35.78-.78.78H3.78a.78.78 0 01-.78-.78V3.78c0-.43.35-.78.78-.78zm12.44-1H3.78C2.8 2 2 2.8 2 3.78v12.44C2 17.2 2.8 18 3.78 18h12.44c.98 0 1.78-.8 1.78-1.78V3.78C18 2.8 17.2 2 16.22 2zM14 9H6v2h8V9z"
                        />
                    </svg>
                </slot>
                <slot name="collapsed-icon" part="collapsed-icon">
                    <svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg">
                        <path
                            fill-rule="evenodd"
                            clip-rule="evenodd"
                            d="M16.22 3H3.78a.78.78 0 00-.78.78v12.44c0 .43.35.78.78.78h12.44c.43 0 .78-.35.78-.78V3.78a.78.78 0 00-.78-.78zM3.78 2h12.44C17.2 2 18 2.8 18 3.78v12.44c0 .98-.8 1.78-1.78 1.78H3.78C2.8 18 2 17.2 2 16.22V3.78C2 2.8 2.8 2 3.78 2zM11 9h3v2h-3v3H9v-3H6V9h3V6h2v3z"
                        />
                    </svg>
                </slot>
            <span>
        </div>
        <div
            class="region"
            part="region"
            id="${t=>t.id}-panel"
            role="region"
            aria-labelledby="${t=>t.id}"
        >
            <slot></slot>
        </div>
    </template>
`,ue=f.i`
    ${(0,g.j)("flex")} :host {
        box-sizing: border-box;
        font-family: var(--body-font);
        flex-direction: column;
        font-size: var(--type-ramp-minus-1-font-size);
        line-height: var(--type-ramp-minus-1-line-height);
        border-bottom: calc(var(--outline-width) * 1px) solid ${v.I.var};
    }

    .region {
        display: none;
        padding: calc((6 + (var(--design-unit) * 2 * var(--density))) * 1px);
    }

    .heading {
        display: grid;
        position: relative;
        grid-template-columns: auto 1fr auto calc(${B.i} * 1px);
        z-index: 2;
    }

    .button {
        appearance: none;
        border: none;
        background: none;
        grid-column: 2;
        grid-row: 1;
        outline: none;
        padding: 0 calc((6 + (var(--design-unit) * 2 * var(--density))) * 1px);
        text-align: left;
        height: calc(${B.i} * 1px);
        color: ${v.sp.var};
        cursor: pointer;
        font-family: inherit;
    }

    .button:hover {
        color: ${v.eH.var};
    }

    .button:active {
        color: ${v.EV.var};
    }

    .button::before {
        content: "";
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        z-index: 1;
        cursor: pointer;
    }

    .button:${H.b}::before {
        outline: none;
        border: calc(var(--outline-width) * 1px) solid ${v.cI.var};
        box-shadow: 0 0 0 calc((var(--focus-outline-width) - var(--outline-width)) * 1px)
            ${v.cI.var};
    }

    :host(.expanded) .region {
        display: block;
    }

    .icon {
        display: flex;
        align-items: center;
        justify-content: center;
        grid-column: 4;
        z-index: 2;
        pointer-events: none;
        fill: ${v.iq.var};
    }

    slot[name="collapsed-icon"] {
        display: flex;
    }

    :host(.expanded) slot[name="collapsed-icon"] {
        display: none;
    }

    slot[name="expanded-icon"] {
        display: none;
    }

    :host(.expanded) slot[name="expanded-icon"] {
        display: flex;
    }

    .start {
        display: flex;
        align-items: center;
        padding-inline-start: calc(var(--design-unit) * 1px);
        justify-content: center;
        grid-column: 1;
        z-index: 2;
    }

    .end {
        display: flex;
        align-items: center;
        justify-content: center;
        grid-column: 3;
        z-index: 2;
    }
`.withBehaviors(v.iq,v.I,v.EV,v.m1,v.sp,v.eH,v.cI,(0,F.vF)(f.i`
            .button:${H.b}::before {
                border-color: ${Z.H.Highlight};
                box-shadow: 0 0 0 calc((var(--focus-outline-width) - var(--outline-width)) * 1px) ${Z.H.Highlight};
            }
            .icon {
              fill: ${Z.H.ButtonText};
            }
        `));let de=class extends re{};de=(0,R.gn)([(0,o.M)({name:"fluent-accordion-item",template:ce,styles:ue})],de);var he,pe=n(3393),fe=n(7980),ge=n(2763),ve=n(2556),me="1.19",ye=n(2679),Ce=n(3874),be=function(){function t(){(0,ye.Z)(this,t)}return(0,Ce.Z)(t,[{key:"getStyles",value:function(){return"\n        html {\n            overflow: hidden;\n        }\n        msft-shopping-coupon,\n        msft-shopping-link {\n            margin-top: 5px;\n        }\n        msft-edge-shopping-section {\n            margin-top: 10px;\n        }\n        msft-shopping-link:first-of-type,\n        msft-shopping-coupon:first-of-type {\n            margin-top: 0;\n        }\n        fluent-anchor,\n        fluent-button {\n            font-size: 12px;\n        }\n        ::part(sections) {\n            position: relative;\n            margin-top: 10px;\n        }\n        ::part(start-content) {\n            padding: 0px;\n        }\n        ::part(header) {\n            margin: 10px;\n        }\n        ::part(actions) {\n            width: 100%;\n            border-bottom: unset;\n            padding-bottom: 0px;\n            padding-top: 0px;\n            display: flex;\n            flex-direction: column;\n            justify-content: center;\n            align-items: center;\n        }\n        ::part(actions):first-of-type {\n            margin-top: 10px;\n        }\n        .actionsButton {\n            width: 100%;\n            min-width: 250px;\n            max-width: 100%;\n            height: 48px;\n        }\n        .actionsButton:first-of-type {\n            margin-top: 10px;\n        }\n        msft-shopping-link:last-of-type {\n            margin-bottom: 5px;\n        }\n        msft-shopping-coupon:last-of-type {\n            margin-bottom: 5px;\n        }\n        ::part(start-content) {\n            padding-top: 0px;\n            padding-bottom: 0px;\n        }\n        #divContentWrapper {\n            width: 360px;\n            height: auto;\n        }\n        body {\n            margin: 0px;\n        }\n        .hide {\n            display: none;\n        }\n        msft-edge-shopping {\n            font-family: 'Segoe UI','Roboto', Helvetica, Verdana, sans-serif;\n            height: auto;\n            max-height: 580px;\n        }\n        fluent-design-system-provider {\n            width: 360px;\n            margin: 0px;\n        }\n        .txtLarge {\n            font-family: 'Segoe UI','Roboto', Helvetica, Verdana, sans-serif;\n            font-size: 24px;\n            line-height: 28px;\n            margin: 0px;\n        }\n        .txtMedium {\n            font-family: 'Segoe UI','Roboto', Helvetica, Verdana, sans-serif;\n            font-size: 16px;\n            line-height: 20px;\n            margin: 0px;\n        }\n        .txtSmall {\n            font-family: 'Segoe UI','Roboto', Helvetica, Verdana, sans-serif;\n            font-size: 14px;\n            line-height: 16px;\n            margin: 0px;\n        }\n        .txtEmptyCoupons {\n            all: initial;\n            font-family: 'Segoe UI','Roboto', Helvetica, Verdana, sans-serif;\n            font-size: 18px;\n            line-height: 25px;\n            margin: 0px;\n            color: rgba(0, 0, 0, 0.83);\n        }\n        .defaultFontFamily {\n            font-family: 'Segoe UI','Roboto', Helvetica, Verdana, sans-serif;\n        }\n        msft-shopping-link::part(attribution) {\n            margin-top: 6px;\n        }\n        .sectionSeparator {\n            position: absolute;\n            border: 1px solid #F1F1F1;\n            margin-bottom: 0px;\n            margin-top: 0px;\n            border-bottom: unset;\n            width: 360px;\n            left: 0px;\n            right: 0px;\n        }\n        ::part(control) {\n            margin-bottom: 0px;\n        }\n        @media (prefers-color-scheme: dark) {\n            .txtSmall {\n                color: #FFFFFF;\n            }\n            .txtMedium {\n                color: #FFFFFF;\n            }\n            .txtLarge {\n                color: #FFFFFF;\n            }\n            .txtEmptyCoupons {\n                color: #FFFFFF;\n            }\n            ::part(header-sub-title) {\n                color: #FFFFFF;\n            }\n        }\n        @media (forced-colors: active) {\n            msft-edge-shopping {\n                background-image: unset!important;\n            }\n        }"}},{key:"getGreenCheck",value:function(){return'<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20" fill="none"><path d="M10 0C15.5228 0 20 4.47715 20 10C20 15.5228 15.5228 20 10 20C4.47715 20 0 15.5228 0 10C0 4.47715 4.47715 0 10 0ZM13.2197 6.96967L8.75 11.4393L6.78033 9.46967C6.48744 9.17678 6.01256 9.17678 5.71967 9.46967C5.42678 9.76256 5.42678 10.2374 5.71967 10.5303L8.21967 13.0303C8.51256 13.3232 8.98744 13.3232 9.28033 13.0303L14.2803 8.03033C14.5732 7.73744 14.5732 7.26256 14.2803 6.96967C13.9874 6.67678 13.5126 6.67678 13.2197 6.96967Z" fill="#107C10"/></svg>'}},{key:"getCloseButton",value:function(){return'<svg id="flyoutClose" width="10" height="10" viewBox="0 0 10 10" xmlns="http://www.w3.org/2000/svg">\n        <path d="M5.33008 5L9.37305 9.04883L8.8457 9.57617L4.79688 5.5332L0.748047 9.57617L0.220703 9.04883L4.26367 5L0.220703 0.951172L0.748047 0.423828L4.79688 4.4668L8.8457 0.423828L9.37305 0.951172L5.33008 5Z"/>\n        </svg>'}},{key:"getDisableAutoOpen",value:function(){return'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16">\n        <path d="M8 0C12.4183 0 16 3.58172 16 8C16 12.4183 12.4183 16 8 16C3.58172 16 0 12.4183 0 8C0 3.58172 3.58172 0 8 0ZM8 1.2C4.24446 1.2 1.2 4.24446 1.2 8C1.2 11.7555 4.24446 14.8 8 14.8C11.7555 14.8 14.8 11.7555 14.8 8C14.8 4.24446 11.7555 1.2 8 1.2ZM4.59944 7.39944H11.3994C11.7308 7.39944 11.9994 7.66807 11.9994 7.99944C11.9994 8.30319 11.7737 8.55423 11.4809 8.59396L11.3994 8.59944H4.59944C4.26807 8.59944 3.99944 8.33081 3.99944 7.99944C3.99944 7.69568 4.22516 7.44464 4.51802 7.40491L4.59944 7.39944H11.3994H4.59944Z"/>\n        </svg>'}},{key:"getEnableAutoOpen",value:function(){return'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16">\n        <path d="M8 0C12.4183 0 16 3.58172 16 8C16 12.4183 12.4183 16 8 16C3.58172 16 0 12.4183 0 8C0 3.58172 3.58172 0 8 0ZM8 1.2C4.24446 1.2 1.2 4.24446 1.2 8C1.2 11.7555 4.24446 14.8 8 14.8C11.7555 14.8 14.8 11.7555 14.8 8C14.8 4.24446 11.7555 1.2 8 1.2ZM7 9.15147L10.5757 5.57574C10.8101 5.34142 11.1899 5.34142 11.4243 5.57574C11.6373 5.78875 11.6566 6.12208 11.4824 6.35697L11.4243 6.42426L7.42426 10.4243C7.21125 10.6373 6.87792 10.6566 6.64303 10.4824L6.57574 10.4243L4.57574 8.42426C4.34142 8.18995 4.34142 7.81005 4.57574 7.57574C4.78875 7.36272 5.12208 7.34336 5.35697 7.51764L5.42426 7.57574L7 9.15147L10.5757 5.57574L7 9.15147Z"/>\n        </svg>'}},{key:"getHeaderIcon",value:function(){return'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16" fill="none">\n        <path d="M14.4407 11.9085C14.2304 12.0187 14.0107 12.1173 13.7824 12.2031C13.0961 12.4609 12.3381 12.6071 11.5386 12.6071C8.58104 12.6071 6.00467 10.5726 6.00467 7.96186C6.00467 7.22779 6.4294 6.59148 7.03128 6.25635C4.35654 6.36847 3.66895 9.15637 3.66895 10.7895C3.66895 15.4066 7.92454 15.8752 8.84155 15.8752C9.33568 15.8752 10.0816 15.7312 10.5309 15.5903C10.5584 15.5812 10.5856 15.572 10.6129 15.5626C12.3478 14.9642 13.8122 13.7871 14.7747 12.2613C14.9127 12.0425 14.67 11.7883 14.4407 11.9085Z" fill="url(#paint0_linear)"/>\n        <path opacity="0.35" d="M14.4407 11.9085C14.2304 12.0187 14.0107 12.1173 13.7824 12.2031C13.0961 12.4609 12.3381 12.6071 11.5386 12.6071C8.58104 12.6071 6.00467 10.5726 6.00467 7.96186C6.00467 7.22779 6.4294 6.59148 7.03128 6.25635C4.35654 6.36847 3.66895 9.15637 3.66895 10.7895C3.66895 15.4066 7.92454 15.8752 8.84155 15.8752C9.33568 15.8752 10.0816 15.7312 10.5309 15.5903C10.5584 15.5812 10.5856 15.572 10.6129 15.5626C12.3478 14.9642 13.8122 13.7871 14.7747 12.2613C14.9127 12.0425 14.67 11.7883 14.4407 11.9085Z" fill="url(#paint1_radial)"/>\n        <path d="M6.60699 15.0887C6.0511 14.7441 5.56853 14.2897 5.18603 13.7527C4.59415 12.9217 4.2403 11.8995 4.2403 10.7897C4.2403 9.15655 5.00079 7.70997 6.17302 6.79347C6.43924 6.58534 6.78012 6.3754 7.03131 6.25652C7.22631 6.16418 7.55988 5.99792 8.00288 6.0042C8.73739 6.01462 9.29233 6.38909 9.60821 6.81434C9.85096 7.14109 10.0006 7.54366 10.0056 7.98066C10.0058 7.96754 11.5347 3.00537 5.00249 3.00537C2.25916 3.00537 0 5.60973 0 7.89385C0 9.34274 0.336211 10.4995 0.757169 11.3959C1.69471 13.3928 3.43331 14.9383 5.56007 15.6193C6.33024 15.8659 7.15075 16.0003 8.00288 16.0003C8.8867 16.0003 9.73608 15.8549 10.531 15.5905C10.0816 15.7314 9.60514 15.8086 9.11102 15.8086C8.19407 15.8086 7.33938 15.5427 6.60699 15.0887Z" fill="url(#paint2_linear)"/>\n        <path opacity="0.41" d="M6.60699 15.0887C6.0511 14.7441 5.56853 14.2897 5.18603 13.7527C4.59415 12.9217 4.2403 11.8995 4.2403 10.7897C4.2403 9.15655 5.00079 7.70997 6.17302 6.79347C6.43924 6.58534 6.78012 6.3754 7.03131 6.25652C7.22631 6.16418 7.55988 5.99792 8.00288 6.0042C8.73739 6.01462 9.29233 6.38909 9.60821 6.81434C9.85096 7.14109 10.0006 7.54366 10.0056 7.98066C10.0058 7.96754 11.5347 3.00537 5.00249 3.00537C2.25916 3.00537 0 5.60973 0 7.89385C0 9.34274 0.336211 10.4995 0.757169 11.3959C1.69471 13.3928 3.43331 14.9383 5.56007 15.6193C6.33024 15.8659 7.15075 16.0003 8.00288 16.0003C8.8867 16.0003 9.73608 15.8549 10.531 15.5905C10.0816 15.7314 9.60514 15.8086 9.11102 15.8086C8.19407 15.8086 7.33938 15.5427 6.60699 15.0887Z" fill="url(#paint3_radial)"/>\n        <path d="M9.52007 9.30364C9.46944 9.36927 9.31363 9.45977 9.31363 9.65765C9.31363 9.82046 9.41988 9.97746 9.6087 10.1093C10.5075 10.7365 12.2016 10.652 12.2062 10.652C12.9055 10.6496 13.5347 10.4573 14.0982 10.1278C14.3546 9.9779 14.5919 9.79983 14.8059 9.59652C15.5401 8.89883 15.9877 7.91563 16.0001 6.82318C16.0161 5.42222 15.5026 4.49083 15.2916 4.07842C13.967 1.48976 11.1078 0 7.99906 0C3.61686 0 0.0595379 3.52166 0.000732422 7.88757C0.0304402 5.60364 2.30036 3.75932 4.99864 3.75932C5.21742 3.75932 6.46504 3.78066 7.62399 4.38892C8.64487 4.92472 9.18013 5.57215 9.55213 6.21442C9.93845 6.88131 10.0071 7.72357 10.0071 8.05938C10.0071 8.3952 9.83782 8.89239 9.52007 9.30364Z" fill="url(#paint4_radial)"/>\n        <path d="M9.52007 9.30364C9.46944 9.36927 9.31363 9.45977 9.31363 9.65765C9.31363 9.82046 9.41988 9.97746 9.6087 10.1093C10.5075 10.7365 12.2016 10.652 12.2062 10.652C12.9055 10.6496 13.5347 10.4573 14.0982 10.1278C14.3546 9.9779 14.5919 9.79983 14.8059 9.59652C15.5401 8.89883 15.9877 7.91563 16.0001 6.82318C16.0161 5.42222 15.5026 4.49083 15.2916 4.07842C13.967 1.48976 11.1078 0 7.99906 0C3.61686 0 0.0595379 3.52166 0.000732422 7.88757C0.0304402 5.60364 2.30036 3.75932 4.99864 3.75932C5.21742 3.75932 6.46504 3.78066 7.62399 4.38892C8.64487 4.92472 9.18013 5.57215 9.55213 6.21442C9.93845 6.88131 10.0071 7.72357 10.0071 8.05938C10.0071 8.3952 9.83782 8.89239 9.52007 9.30364Z" fill="url(#paint5_radial)"/>\n        <defs>\n        <linearGradient id="paint0_linear" x1="3.66895" y1="11.0658" x2="14.815" y2="11.0658" gradientUnits="userSpaceOnUse">\n        <stop stop-color="#0C59A4"/>\n        <stop offset="1" stop-color="#114A8B"/>\n        </linearGradient>\n        <radialGradient id="paint1_radial" cx="0" cy="0" r="1" gradientUnits="userSpaceOnUse" gradientTransform="translate(9.8253 11.149) scale(5.96154 5.66985)">\n        <stop offset="0.71659" stop-opacity="0"/>\n        <stop offset="0.9459" stop-opacity="0.53"/>\n        <stop offset="1"/>\n        </radialGradient>\n        <linearGradient id="paint2_linear" x1="9.54527" y1="6.23047" x2="2.58302" y2="13.814" gradientUnits="userSpaceOnUse">\n        <stop stop-color="#1B9DE2"/>\n        <stop offset="0.16164" stop-color="#1595DF"/>\n        <stop offset="0.66749" stop-color="#0680D7"/>\n        <stop offset="1" stop-color="#0078D4"/>\n        </linearGradient>\n        <radialGradient id="paint3_radial" cx="0" cy="0" r="1" gradientUnits="userSpaceOnUse" gradientTransform="translate(4.45659 12.4168) rotate(-81.464) scale(8.95226 7.21381)">\n        <stop offset="0.76293" stop-opacity="0"/>\n        <stop offset="0.9459" stop-opacity="0.5"/>\n        <stop offset="1"/>\n        </radialGradient>\n        <radialGradient id="paint4_radial" cx="0" cy="0" r="1" gradientUnits="userSpaceOnUse" gradientTransform="translate(1.57751 2.92536) rotate(92.129) scale(12.652 26.9468)">\n        <stop stop-color="#35C1F1"/>\n        <stop offset="0.11079" stop-color="#34C1ED"/>\n        <stop offset="0.23164" stop-color="#2FC2DF"/>\n        <stop offset="0.31446" stop-color="#2BC3D2"/>\n        <stop offset="0.67338" stop-color="#36C752"/>\n        </radialGradient>\n        <radialGradient id="paint5_radial" cx="0" cy="0" r="1" gradientUnits="userSpaceOnUse" gradientTransform="translate(15.1549 4.84846) rotate(73.6747) scale(6.08366 4.96699)">\n        <stop stop-color="#66EB6E"/>\n        <stop offset="1" stop-color="#66EB6E" stop-opacity="0"/>\n        </radialGradient>\n        </defs>\n        </svg>'}},{key:"getMenuIcon",value:function(){return'<svg xmlns="http://www.w3.org/2000/svg" width="14" height="12" viewBox="0 0 14 12">\n        <path d="M1 5C1.14062 5 1.27083 5.02604 1.39062 5.07812C1.51042 5.13021 1.61458 5.20312 1.70312 5.29688C1.79688 5.38542 1.86979 5.48958 1.92188 5.60938C1.97396 5.72917 2 5.85938 2 6C2 6.14062 1.97396 6.27083 1.92188 6.39062C1.86979 6.51042 1.79688 6.61719 1.70312 6.71094C1.61458 6.79948 1.51042 6.86979 1.39062 6.92188C1.27083 6.97396 1.14062 7 1 7C0.859375 7 0.729167 6.97396 0.609375 6.92188C0.489583 6.86979 0.382812 6.79948 0.289062 6.71094C0.200521 6.61719 0.130208 6.51042 0.078125 6.39062C0.0260417 6.27083 0 6.14062 0 6C0 5.85938 0.0260417 5.72917 0.078125 5.60938C0.130208 5.48958 0.200521 5.38542 0.289062 5.29688C0.382812 5.20312 0.489583 5.13021 0.609375 5.07812C0.729167 5.02604 0.859375 5 1 5ZM7 5C7.14062 5 7.27083 5.02604 7.39062 5.07812C7.51042 5.13021 7.61458 5.20312 7.70312 5.29688C7.79688 5.38542 7.86979 5.48958 7.92188 5.60938C7.97396 5.72917 8 5.85938 8 6C8 6.14062 7.97396 6.27083 7.92188 6.39062C7.86979 6.51042 7.79688 6.61719 7.70312 6.71094C7.61458 6.79948 7.51042 6.86979 7.39062 6.92188C7.27083 6.97396 7.14062 7 7 7C6.85938 7 6.72917 6.97396 6.60938 6.92188C6.48958 6.86979 6.38281 6.79948 6.28906 6.71094C6.20052 6.61719 6.13021 6.51042 6.07812 6.39062C6.02604 6.27083 6 6.14062 6 6C6 5.85938 6.02604 5.72917 6.07812 5.60938C6.13021 5.48958 6.20052 5.38542 6.28906 5.29688C6.38281 5.20312 6.48958 5.13021 6.60938 5.07812C6.72917 5.02604 6.85938 5 7 5ZM13 5C13.1406 5 13.2708 5.02604 13.3906 5.07812C13.5104 5.13021 13.6146 5.20312 13.7031 5.29688C13.7969 5.38542 13.8698 5.48958 13.9219 5.60938C13.974 5.72917 14 5.85938 14 6C14 6.14062 13.974 6.27083 13.9219 6.39062C13.8698 6.51042 13.7969 6.61719 13.7031 6.71094C13.6146 6.79948 13.5104 6.86979 13.3906 6.92188C13.2708 6.97396 13.1406 7 13 7C12.8594 7 12.7292 6.97396 12.6094 6.92188C12.4896 6.86979 12.3828 6.79948 12.2891 6.71094C12.2005 6.61719 12.1302 6.51042 12.0781 6.39062C12.026 6.27083 12 6.14062 12 6C12 5.85938 12.026 5.72917 12.0781 5.60938C12.1302 5.48958 12.2005 5.38542 12.2891 5.29688C12.3828 5.20312 12.4896 5.13021 12.6094 5.07812C12.7292 5.02604 12.8594 5 13 5Z"/>\n        </svg>'}},{key:"getSettingsIcon",value:function(){return'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="17" viewBox="0 0 16 17">\n        <path d="M7.81044 0C8.42209 0.00704958 9.03134 0.0777185 9.62836 0.210865C9.88898 0.268988 10.0839 0.486259 10.1135 0.751636L10.2553 2.02401C10.3195 2.60822 10.8128 3.0507 11.4008 3.05132C11.5589 3.05156 11.7152 3.01865 11.8613 2.95403L13.0285 2.4413C13.2712 2.33466 13.5548 2.3928 13.7361 2.58635C14.5796 3.4872 15.2077 4.56762 15.5734 5.74632C15.6522 6.00048 15.5615 6.27669 15.3473 6.43459L14.3127 7.19716C14.0176 7.41399 13.8433 7.75834 13.8433 8.12455C13.8433 8.49076 14.0176 8.8351 14.3133 9.05241L15.3488 9.81525C15.5631 9.97311 15.6539 10.2494 15.575 10.5036C15.2096 11.6821 14.5817 12.7624 13.7387 13.6634C13.5577 13.8569 13.2743 13.9152 13.0315 13.8089L11.8596 13.2954C11.5243 13.1487 11.1393 13.1702 10.8224 13.3533C10.5056 13.5364 10.2947 13.8593 10.2544 14.2231L10.1135 15.4953C10.0845 15.7577 9.89375 15.9735 9.63698 16.0346C8.42994 16.3218 7.17236 16.3218 5.96532 16.0346C5.70855 15.9735 5.51783 15.7577 5.48878 15.4953L5.34809 14.225C5.30677 13.8619 5.09558 13.54 4.77898 13.3575C4.46238 13.175 4.07796 13.1536 3.74379 13.2995L2.57161 13.813C2.32881 13.9194 2.04532 13.8611 1.86428 13.6674C1.02081 12.7654 0.392955 11.6838 0.0279603 10.504C-0.0506552 10.2499 0.0401776 9.97385 0.254331 9.81608L1.29044 9.05277C1.58556 8.83594 1.75986 8.49159 1.75986 8.12538C1.75986 7.75917 1.58556 7.41483 1.29006 7.19771L0.254594 6.43571C0.0401229 6.27787 -0.0507935 6.00149 0.0280992 5.74715C0.393725 4.56846 1.02191 3.48804 1.8654 2.58718C2.04662 2.39363 2.33024 2.33549 2.573 2.44213L3.73998 2.95477C4.07576 3.10213 4.46179 3.07987 4.7801 2.89391C5.09704 2.71007 5.30803 2.38685 5.34877 2.02304L5.4905 0.751636C5.52009 0.486125 5.71518 0.268784 5.97596 0.210785C6.57369 0.0778498 7.18359 0.00721143 7.81044 0ZM7.81059 1.24992C7.43223 1.25437 7.05492 1.28702 6.68181 1.34751L6.59104 2.16182C6.50618 2.91973 6.06699 3.59252 5.40898 3.97419C4.74694 4.36098 3.93976 4.40752 3.23745 4.09931L2.48887 3.77047C2.01226 4.34894 1.63291 5.00113 1.36573 5.7014L2.03056 6.19066C2.64623 6.64301 3.00986 7.36139 3.00986 8.12538C3.00986 8.88937 2.64623 9.60775 2.03121 10.0596L1.36533 10.5502C1.63228 11.2517 2.01169 11.9051 2.48863 12.4847L3.2429 12.1542C3.94131 11.8493 4.743 11.8939 5.40323 12.2745C6.06347 12.6551 6.5039 13.3265 6.59029 14.0855L6.68109 14.9054C7.42246 15.0315 8.17984 15.0315 8.92121 14.9054L9.01201 14.0856C9.096 13.3267 9.53592 12.6531 10.1969 12.271C10.858 11.889 11.6613 11.8442 12.361 12.1504L13.1146 12.4806C13.5911 11.9019 13.9704 11.2495 14.2375 10.5491L13.5726 10.0593C12.9569 9.60692 12.5933 8.88854 12.5933 8.12455C12.5933 7.36056 12.9569 6.64218 13.5718 6.19039L14.2359 5.70091C13.9687 5.00051 13.5893 4.3482 13.1126 3.76963L12.3655 4.09781C12.0611 4.23251 11.7318 4.30184 11.3992 4.30132C10.1744 4.30003 9.14657 3.37796 9.0129 2.16152L8.92213 1.34725C8.55085 1.28683 8.17749 1.25427 7.81059 1.24992ZM7.80004 4.99996C9.52593 4.99996 10.925 6.39907 10.925 8.12496C10.925 9.85085 9.52593 11.25 7.80004 11.25C6.07415 11.25 4.67504 9.85085 4.67504 8.12496C4.67504 6.39907 6.07415 4.99996 7.80004 4.99996ZM7.80004 6.24996C6.76451 6.24996 5.92504 7.08943 5.92504 8.12496C5.92504 9.16049 6.76451 9.99996 7.80004 9.99996C8.83557 9.99996 9.67504 9.16049 9.67504 8.12496C9.67504 7.08943 8.83557 6.24996 7.80004 6.24996Z"/>\n        </svg>'}},{key:"getErrorImage",value:function(){return'<svg xmlns="http://www.w3.org/2000/svg" width="314" height="72" viewBox="0 0 314 72" fill="none">\n       <path d="M22.2505 70.9081C20.4564 68.0473 43.6258 53.3722 71.7396 56.2548C148.839 64.1601 174.218 0 228.893 0C283.567 0 284.573 70.9081 282.057 70.9081C279.541 70.9081 22.2505 70.9081 22.2505 70.9081Z" fill="#EBECEF"/>\n       <path d="M247.052 70.0138C246.724 70.5816 247.336 71.193 247.905 70.931C250.421 69.7299 253.55 69.3805 255.497 68.7253C260.113 67.1748 260.704 65.2094 264.227 62.1739C261.382 61.89 258.844 61.5843 256.394 62.5233C252.412 64.052 248.912 66.8254 247.052 70.0138Z" fill="#BFBFBF"/>\n       <path d="M243.377 54.9664C243.617 58.4387 245.893 66.6279 247.052 70.5806C247.205 71.1266 248.015 71.0829 248.102 70.5151C248.803 66.4532 250.159 58.0019 249.984 54.5297C249.7 48.4369 246.155 45.4014 246.155 45.4014C246.155 45.4014 242.961 48.8955 243.377 54.9664Z" fill="#BFBFBF"/>\n       <path d="M246.746 70.0787C246.549 70.7339 247.403 71.1925 247.84 70.6684C251.472 66.4536 259.239 57.1943 261.274 53.0887C264.752 46.0132 262.63 40.3572 262.63 40.3572C262.63 40.3572 256.81 42.3444 253.507 49.4855C251.581 53.6129 248.256 64.8376 246.746 70.0787Z" fill="#BFBFBF"/>\n       <path fill-rule="evenodd" clip-rule="evenodd" d="M180.169 42.7802L169.252 52.8038C168.902 53.1096 168.377 53.0877 168.092 52.7165C167.786 52.3671 167.83 51.8211 168.158 51.4936L179.075 41.4699C179.425 41.1642 179.95 41.186 180.257 41.5573C180.541 41.9067 180.497 42.4526 180.169 42.7802Z" fill="#EBECEF"/>\n       <path fill-rule="evenodd" clip-rule="evenodd" d="M243.135 21.947H203.535C203.535 24.9607 201.063 27.3847 198.022 27.3847C194.981 27.3847 192.53 24.9607 192.53 21.947H153.477C150.983 21.947 148.97 23.9561 148.97 26.4457V66.4311C148.97 68.8988 150.983 70.9079 153.477 70.9079H192.53C192.53 67.8942 195.003 65.4702 198.022 65.4702C198.241 65.4702 198.459 65.4921 198.656 65.5139C201.391 65.8196 203.535 68.1345 203.535 70.9079H243.135C245.629 70.9079 247.642 68.8988 247.642 66.4311V26.4457C247.642 23.9561 245.629 21.947 243.135 21.947ZM182.466 56.2109L183.079 59.6176L179.928 57.9579C178.244 57.0844 176.165 57.7396 175.312 59.4648L173.759 62.6313L172.205 59.4648C171.374 57.7396 169.273 57.0844 167.589 57.9579L164.46 59.6176L165.073 56.2109C165.423 54.3328 164.11 52.5203 162.207 52.2801L158.728 51.7996L161.244 49.4193C162.644 48.0871 162.644 45.8597 161.244 44.5275L158.728 42.1472L162.207 41.6668C164.11 41.4047 165.423 39.614 165.073 37.7359L164.46 34.3292L167.589 35.9889C169.273 36.8624 171.374 36.2073 172.205 34.5039L173.759 31.3374L175.312 34.5039C176.143 36.2073 178.244 36.8842 179.928 35.9889L183.079 34.3292L182.466 37.7359C182.138 39.614 183.429 41.4047 185.332 41.6668L188.811 42.1472L186.317 44.5275C184.917 45.8597 184.917 48.0871 186.317 49.4193L188.811 51.7996L185.332 52.2801C183.429 52.5203 182.138 54.311 182.466 56.2109Z" fill="white"/>\n       <path d="M198.678 29.2622V65.6007" stroke="#BFBFBF" stroke-linecap="round" stroke-dasharray="2 2"/>\n       <path fill-rule="evenodd" clip-rule="evenodd" d="M187.476 48.174C186.776 47.497 186.776 46.4051 187.476 45.7281L189.992 43.3478C191.021 42.3651 190.452 40.6398 189.052 40.4651L185.573 39.9847C184.61 39.8537 183.976 38.9583 184.151 38.0193L184.763 34.6126C185.026 33.2368 183.56 32.1449 182.313 32.8L179.163 34.4597C178.331 34.8964 177.281 34.5689 176.843 33.6954L175.29 30.5725C174.677 29.3059 172.883 29.3059 172.249 30.5725L170.696 33.739C170.28 34.6125 169.23 34.9401 168.398 34.5034L165.248 32.8437C164.001 32.1885 162.535 33.2586 162.797 34.6562L163.41 38.063C163.585 39.0238 162.929 39.8974 161.966 40.0284L158.487 40.5088C157.087 40.7054 156.518 42.4306 157.547 43.3914L160.063 45.7718C160.763 46.4488 160.763 47.5407 160.063 48.2176L157.547 50.598C156.518 51.5807 157.087 53.3059 158.487 53.4806L161.966 53.9611C162.929 54.0921 163.585 54.9874 163.41 55.9265L162.797 59.3332C162.535 60.709 164.001 61.7791 165.248 61.1239L168.398 59.4642C169.23 59.0275 170.28 59.3769 170.696 60.2286L172.249 63.3951C172.883 64.6617 174.677 64.6617 175.29 63.3951L176.843 60.2286C177.259 59.3769 178.309 59.0275 179.163 59.4642L182.313 61.1239C183.56 61.7791 185.026 60.709 184.763 59.3332L184.151 55.9265C183.976 54.9874 184.632 54.0921 185.573 53.9611L189.052 53.4806C190.452 53.2841 191.021 51.5589 189.992 50.598L187.476 48.174ZM185.332 52.2577C183.429 52.5197 182.116 54.3105 182.466 56.1885L183.079 59.5953L179.928 57.9356C178.244 57.0621 176.165 57.7172 175.312 59.4424L173.759 62.6089L172.205 59.4424C171.374 57.7172 169.273 57.0621 167.589 57.9356L164.46 59.5953L165.073 56.1885C165.423 54.3105 164.11 52.4979 162.207 52.2577L158.728 51.7772L161.244 49.3969C162.644 48.0648 162.644 45.8373 161.244 44.5052L158.728 42.1248L162.207 41.6444C164.11 41.3823 165.423 39.5916 165.073 37.7136L164.46 34.3068L167.589 35.9665C169.273 36.84 171.374 36.1849 172.205 34.4815L173.759 31.315L175.312 34.4815C176.143 36.1849 178.244 36.8619 179.928 35.9665L183.079 34.3068L182.466 37.7136C182.138 39.5916 183.429 41.3823 185.332 41.6444L188.811 42.1248L186.317 44.5052C184.917 45.8373 184.917 48.0648 186.317 49.3969L188.811 51.7772L185.332 52.2577Z" fill="#BFBFBF"/>\n       <path fill-rule="evenodd" clip-rule="evenodd" d="M186.317 44.5273L188.811 42.147L185.332 41.6665C183.429 41.4045 182.116 39.6138 182.466 37.7357L183.079 34.329L179.928 35.9887C178.244 36.8622 176.165 36.207 175.312 34.5037L173.759 31.3372L172.205 34.5037C171.374 36.207 169.273 36.884 167.589 35.9887L164.46 34.329L165.073 37.7357C165.423 39.6138 164.11 41.4045 162.207 41.6665L158.728 42.147L161.244 44.5273C162.644 45.8594 162.644 48.0869 161.244 49.419L158.728 51.7994L162.207 52.2798C164.11 52.5419 165.423 54.3326 165.073 56.2107L164.46 59.6174L167.589 57.9577C169.273 57.0842 171.374 57.7393 172.205 59.4645L173.759 62.6311L175.312 59.4645C176.143 57.7393 178.244 57.0842 179.928 57.9577L183.079 59.6174L182.466 56.2107C182.138 54.3326 183.429 52.5201 185.332 52.2798L188.811 51.7994L186.317 49.419C184.917 48.0651 184.917 45.8594 186.317 44.5273ZM169.252 52.8039C168.902 53.1097 168.376 53.0878 168.092 52.7166C167.786 52.3672 167.829 51.8212 168.158 51.4937L179.075 41.47C179.425 41.1643 179.95 41.1861 180.256 41.5574C180.541 41.9068 180.519 42.4527 180.169 42.7803L169.252 52.8039Z" fill="white"/>\n       <path fill-rule="evenodd" clip-rule="evenodd" d="M170.433 40.6836C168.639 40.2032 166.78 41.2514 166.298 43.0421C165.817 44.8547 166.911 46.6673 168.683 47.1259C170.477 47.6063 172.337 46.5581 172.818 44.7674C173.299 42.9766 172.227 41.1641 170.433 40.6836ZM171.177 44.3306C170.937 45.2041 170.018 45.7501 169.121 45.5098C168.202 45.2696 167.677 44.3524 167.917 43.4789C168.158 42.6054 169.077 42.0594 169.996 42.2997C170.893 42.5617 171.418 43.4571 171.177 44.3306Z" fill="#BFBFBF"/>\n       <path fill-rule="evenodd" clip-rule="evenodd" d="M179.447 46.7981C177.653 46.3177 175.793 47.3659 175.312 49.1566C174.831 50.9474 175.903 52.7818 177.697 53.2404C179.491 53.7208 181.35 52.6726 181.832 50.8818C182.313 49.113 181.241 47.2786 179.447 46.7981ZM180.191 50.4669C179.95 51.3404 179.031 51.8864 178.112 51.6462C177.193 51.3841 176.69 50.4888 176.931 49.6152C177.172 48.7417 178.091 48.1958 178.988 48.436C179.906 48.6544 180.432 49.5716 180.191 50.4669Z" fill="#BFBFBF"/>\n       <path fill-rule="evenodd" clip-rule="evenodd" d="M180.169 42.7802L169.252 52.8038C168.902 53.1096 168.377 53.0877 168.092 52.7165C167.786 52.3671 167.83 51.8211 168.158 51.4936L179.075 41.4699C179.425 41.1642 179.95 41.186 180.257 41.5573C180.541 41.9067 180.497 42.4526 180.169 42.7802Z" fill="#BFBFBF"/>\n       <path fill-rule="evenodd" clip-rule="evenodd" d="M223.729 30.5725C223.116 29.3059 221.322 29.3059 220.688 30.5725L219.135 33.739C218.719 34.5907 217.669 34.9401 216.837 34.4815L213.687 32.8218C212.44 32.1667 210.996 33.2368 211.236 34.6126L211.849 38.0193C212.024 38.9583 211.368 39.8537 210.405 39.9847L206.926 40.4651C205.526 40.6617 204.957 42.3869 205.986 43.3478L208.48 45.7281C209.18 46.3833 209.18 47.497 208.48 48.174L205.986 50.5543C204.957 51.537 205.526 53.2622 206.926 53.4369L210.405 53.9174C211.368 54.0484 212.002 54.9438 211.849 55.8828L211.236 59.2895C210.996 60.6653 212.44 61.7354 213.687 61.0803L216.837 59.4206C217.691 58.9838 218.719 59.3114 219.135 60.1631L220.688 63.3296C221.301 64.5962 223.095 64.5962 223.729 63.3296L225.282 60.1631C225.698 59.3114 226.748 58.962 227.58 59.4206L230.73 61.0803C231.977 61.7354 233.421 60.6653 233.181 59.2895L232.568 55.8828C232.393 54.9438 233.049 54.0484 234.012 53.9174L237.491 53.4369C238.891 53.2404 239.46 51.5152 238.431 50.5543L235.937 48.174C235.237 47.5188 235.237 46.4051 235.937 45.7281L238.431 43.3478C239.46 42.3651 238.891 40.6398 237.491 40.4651L234.012 39.9847C233.049 39.8537 232.415 38.9583 232.568 38.0193L233.181 34.6126C233.421 33.2368 231.977 32.1667 230.73 32.8218L227.58 34.4815C226.726 34.9183 225.698 34.5907 225.282 33.739L223.729 30.5725ZM216.356 43.4788C216.597 42.6053 217.516 42.0593 218.413 42.2995C219.331 42.5398 219.857 43.457 219.616 44.3305C219.375 45.204 218.456 45.75 217.559 45.5097C216.662 45.2695 216.137 44.3523 216.356 43.4788ZM218.872 40.6835C217.078 40.2031 215.218 41.2513 214.737 43.042C214.256 44.8328 215.328 46.6671 217.122 47.1476C218.916 47.628 220.775 46.5798 221.257 44.7891C221.76 42.9765 220.666 41.164 218.872 40.6835ZM227.448 48.4142C226.529 48.174 225.611 48.6981 225.392 49.5934C225.151 50.467 225.676 51.3842 226.595 51.6244C227.514 51.8646 228.433 51.3405 228.652 50.4451C228.87 49.5716 228.345 48.6544 227.448 48.4142ZM223.751 49.1567C224.232 47.366 226.092 46.3177 227.886 46.7982C229.68 47.2786 230.752 49.0912 230.271 50.9037C229.789 52.6944 227.93 53.7427 226.136 53.2622C224.342 52.7818 223.27 50.9474 223.751 49.1567ZM228.608 42.78C228.958 42.4742 228.98 41.9283 228.695 41.557C228.389 41.2076 227.864 41.164 227.536 41.4915L216.619 51.5152C216.268 51.8209 216.247 52.3669 216.531 52.7381C216.837 53.0875 217.362 53.1312 217.691 52.8036L228.608 42.78Z" fill="#BFBFBF"/>\n       <path d="M86.0258 60.5349L137.725 61.1682C139.694 61.19 141.269 62.806 141.225 64.7715L141.203 67.6978C141.181 69.6632 139.562 71.2355 137.593 71.1919L85.8945 70.5586C83.9254 70.5367 82.3502 68.9207 82.394 66.9553L82.4377 64.029C82.4596 62.0854 84.0567 60.5131 86.0258 60.5349Z" fill="#BFBFBF"/>\n       <path d="M89.3953 10.0013L141.029 10.6346C147.986 10.7219 153.543 16.4216 153.455 23.3661L153.105 51.0349C153.018 57.9794 147.308 63.5263 140.35 63.4389L88.7171 62.8056C81.7597 62.7183 76.2026 57.0185 76.2901 50.0741L76.6401 22.4053C76.7277 15.4608 82.4379 9.91391 89.3953 10.0013Z" fill="#BFBFBF"/>\n       <path d="M83.2693 9.91386L131.599 10.5253C138.556 10.6127 144.113 16.3124 144.026 23.2569L143.676 50.9257C143.588 57.8702 137.878 63.417 130.921 63.3297L82.5911 62.7182C75.6337 62.6309 70.0766 56.9311 70.1641 49.9866L70.5142 22.3179C70.6017 15.3952 76.312 9.8265 83.2693 9.91386Z" fill="#EBECEF"/>\n       <path d="M102.216 55.0098C112.39 58.8096 123.723 53.6558 127.529 43.5011C131.336 33.3464 126.173 22.0343 115.999 18.2345C105.826 14.4347 94.4929 19.5885 90.6861 29.7432C86.8792 39.8979 92.0425 51.21 102.216 55.0098Z" fill="white" stroke="#BFBFBF" stroke-miterlimit="10"/>\n       <path d="M109.283 22.2092L109.108 36.6223L101.713 41.3612" fill="white"/>\n       <path d="M109.283 22.2092L109.108 36.6223L101.713 41.3612" fill="white"/>\n       <path d="M109.283 22.2092L109.108 36.6223L101.713 41.3612" stroke="#BFBFBF" stroke-miterlimit="10" stroke-linecap="round" stroke-linejoin="round"/>\n       <path d="M1.09375 70.9077H312.906" stroke="#EBECEF" stroke-width="2" stroke-miterlimit="10" stroke-linecap="round" stroke-linejoin="round"/>\n       </svg>'}}]),t}(),Se=n(5133);!function(t){t.PageStatus="pageStatus",t.EnabledFeatures="enabled_features",t.CouponsApiResponse="couponsApiResponse"}(he||(he={}));var xe=n(6844),Ee=function t(){(0,ye.Z)(this,t),(0,Se.Z)(this,"AutoApplyStatus",void 0),(0,Se.Z)(this,"ExpressCheckoutStatus",void 0)},we=function(){function t(){(0,ye.Z)(this,t),(0,Se.Z)(this,"shopping",void 0),(0,Se.Z)(this,"openedWith",void 0),(0,Se.Z)(this,"autoShowAllowed",void 0),(0,Se.Z)(this,"isOrganicFlowEnabled",void 0),(0,Se.Z)(this,"shouldShowCookieConsent",void 0),(0,Se.Z)(this,"shouldShowBanner",void 0),(0,Se.Z)(this,"bannerContext",void 0),(0,Se.Z)(this,"domain",void 0),(0,Se.Z)(this,"foundLowerPrice",void 0),(0,Se.Z)(this,"currentUrl",void 0),(0,Se.Z)(this,"currentTheme",void 0),(0,Se.Z)(this,"isCheckoutPage",void 0),(0,Se.Z)(this,"currentDirection",void 0),(0,Se.Z)(this,"lastCommittedURL",void 0),(0,Se.Z)(this,"resourcesEndpoing",void 0),(0,Se.Z)(this,"urlPrefix",void 0),(0,Se.Z)(this,"popupOrigination",void 0),(0,Se.Z)(this,"autoshowFeaturePref",void 0),(0,Se.Z)(this,"currentDevice",void 0),(0,Se.Z)(this,"seeInfoFromPCNotification",void 0),(0,Se.Z)(this,"pageStatus",void 0),(0,Se.Z)(this,"microNotificationTitle",void 0)}return(0,Ce.Z)(t,[{key:"Create",value:function(t,e){var n=document.createElement("msft-edge-shopping");this.currentDevice=t;var i=e.GetLoadTimeDataValue("dark_theme",!1);this.currentTheme=xe.Q2.Light,i&&(this.currentTheme=xe.Q2.Dark);var r=e.GetLoadTimeDataValue("is_rtl",!1);this.currentDirection=xe.m5.LTR,r&&(this.currentDirection=xe.m5.RTL),this.autoShowAllowed=e.GetLoadTimeDataValue("isAutoShowAllowed",!1),this.openedWith=e.GetLoadTimeDataValue("open_action",void 0),this.currentUrl=e.GetLoadTimeDataValue("url",void 0),this.shouldShowBanner=e.GetLoadTimeDataValue("shouldShowBanner",!1),this.bannerContext=e.GetLoadTimeDataValue("bannerContext",""),this.shouldShowCookieConsent=e.GetLoadTimeDataValue("shouldShowCookieConsent",!1),this.foundLowerPrice=e.GetLoadTimeDataValue("foundLowerPrice",void 0),this.isOrganicFlowEnabled=e.GetLoadTimeDataValue("allowOrganicRebates",!1),this.isCheckoutPage=e.GetLoadTimeDataValue("isCheckoutPage",!1),this.lastCommittedURL=e.GetLoadTimeDataValue("lastCommittedURL",void 0),this.popupOrigination=e.GetLoadTimeDataValue("popupOrigination",void 0),this.autoshowFeaturePref=e.GetLoadTimeDataValue("autoShowFeatureDisabledPref",void 0),this.microNotificationTitle=e.GetLoadTimeDataValue("last_label_text",void 0),this.UpdatePageStatus(e),this.domain="",this.shopping=n,this.seeInfoFromPCNotification=!1,e.IsServerData()||t===xe.AS.Mobile?this.urlPrefix="":this.urlPrefix="edge://image?",this.resourcesEndpoing=this.urlPrefix+"https://www.bing.com/api/shopping/v1/ux/images/"}},{key:"UpdatePageStatus",value:function(t){var e=new Ee,n=t.GetLoadTimeDataValue(he.PageStatus,void 0);if(n)try{var i=JSON.parse(n);e.AutoApplyStatus=i.auto_apply_status,e.ExpressCheckoutStatus=i.express_checkout_status}catch(t){}this.pageStatus=e}}]),t}(),Ae=n(156),Ie=n(1604),ke=n(1662),De=n(2273),Te=function(){function t(){(0,ye.Z)(this,t),(0,Se.Z)(this,"commissionType",void 0),(0,Se.Z)(this,"commissionValue",void 0),(0,Se.Z)(this,"isRebatesSupportedDomain",void 0),(0,Se.Z)(this,"isRebatesUser",void 0),(0,Se.Z)(this,"merchantName",void 0)}return(0,Ce.Z)(t,null,[{key:"Create",value:function(e){var n,i,r,o,a,s=new t;return s.commissionType=null===(n=e.highestCashbackCategory)||void 0===n?void 0:n.commissionType,s.commissionValue=null===(i=e.highestCashbackCategory)||void 0===i?void 0:i.commissionValue,s.isRebatesSupportedDomain=null!==(r=e.IsRebatesSupportedDomain)&&void 0!==r?r:null,s.isRebatesUser=null!==(o=null===(a=e.userRebateResponse)||void 0===a?void 0:a.isRebatesUser)&&void 0!==o&&o,s.merchantName=e.merchantName,s}}]),t}(),Me=function(){function t(){(0,ye.Z)(this,t),(0,Se.Z)(this,"title",void 0),(0,Se.Z)(this,"offerUrl",void 0)}return(0,Ce.Z)(t,null,[{key:"Create",value:function(e){var n=new t;return n.title=e.title,n.offerUrl=e.offerUrl,n}}]),t}(),Pe=function(){function t(e,n){(0,ye.Z)(this,t),(0,Se.Z)(this,"Lifetime",void 0),(0,Se.Z)(this,"Timestamp",void 0),this.Lifetime=e,this.Timestamp=n||t.Now()}return(0,Ce.Z)(t,[{key:"Expired",value:function(){return t.Now()-this.Timestamp>=this.Lifetime}}],[{key:"Now",value:function(){return Math.round((new Date).getTime()/1e3)}}]),t}();function Re(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=(0,De.Z)(t);if(e){var r=(0,De.Z)(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return(0,ke.Z)(this,n)}}var Oe=function(t){(0,Ie.Z)(n,t);var e=Re(n);function n(t,i){var r;return(0,ye.Z)(this,n),r=e.call(this,ve.Vm.ErrorResponse),(0,Se.Z)((0,Ae.Z)(r),"ErrorMsg",void 0),(0,Se.Z)((0,Ae.Z)(r),"ErrorName",void 0),r.ErrorMsg=t,r.ErrorName=i,r}return n}(function(){function t(e){(0,ye.Z)(this,t),(0,Se.Z)(this,"Type",void 0),(0,Se.Z)(this,"ID",void 0),this.Type=e,this.ID=""}return(0,Ce.Z)(t,[{key:"toString",value:function(){return JSON.stringify(this)}}],[{key:"uuidv4",value:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){var e=16*Math.random()|0;return("x"===t?e:3&e|8).toString(16)}))}}]),t}()),Le=function(){function t(){(0,ye.Z)(this,t)}return(0,Ce.Z)(t,null,[{key:"GenerateErrorMessage",value:function(t,e,n,i){var r=t;return r+="\r\nFunction: '"+e+"'",i&&(r+="\r\nDOM element path: '"+i+"'"),r+="\r\nFriendly name: '"+n+"'"}},{key:"GetDomainName",value:function(t){if(!t)return"";var e=t.toLowerCase().match(/(w){3}.?\./);return e&&null!=e.index&&e[0]?t.substring(e.index+e[0].length):t}},{key:"GetProcessedString",value:function(e,n,i){if(i&&(i===ve.BN.Opal||i===ve.BN.EdgeMobile||i===ve.BN.Sapphire)){if(n===ve.UA.PlainString)return t.escapePlainString(e);if(n===ve.UA.JsonString)return t.escapeJsonString(e)}return e}},{key:"escapeJsonString",value:function(t){return t?t.replace(/\"|'/g,'\\"'):t}},{key:"escapePlainString",value:function(t){return t?t.replace(/"|'/g,'\\"'):t}},{key:"ModifyObjectProperty",value:function(t,e,n){Object.defineProperty(t,e,{value:n,writable:!0})}},{key:"GenerateErrorResponse",value:function(e,n){return new Oe(t.GetProcessedString(e,ve.UA.JsonString,n))}},{key:"GetPriceStringAsNumber",value:function(t,e){if("en-ca"===(null==e?void 0:e.toLocaleLowerCase())){var n=(t=t.trim().replace(/\s/g,"")).lastIndexOf(",");n>-1&&t.length-n-1<=2&&(t=t.replace(/,/g,"."))}return parseFloat(t.replace(/[^0-9\.]+/g,""))}},{key:"ThrowError",value:function(t,e){var n=new Error(e);throw n.name=t,n}}]),t}();function _e(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return Ne(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ne(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function Ne(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}var He=function(){function e(){(0,ye.Z)(this,e)}var n,r;return(0,Ce.Z)(e,null,[{key:"Sleep",value:function(t){return new Promise((function(e){return setTimeout(e,t)}))}},{key:"WaitForCondition",value:(r=(0,t.Z)(i().mark((function t(n,r){var o;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:o=(new Date).getTime();case 2:return t.next=4,n();case 4:if(t.t0=!t.sent,!t.t0){t.next=7;break}t.t0=o+r>(new Date).getTime();case 7:if(!t.t0){t.next=12;break}return t.next=10,e.Sleep(100);case 10:t.next=2;break;case 12:return t.next=15,n();case 15:return t.abrupt("return",t.sent);case 16:case"end":return t.stop()}}),t)}))),function(t,e){return r.apply(this,arguments)})},{key:"WaitForSyncCondition",value:(n=(0,t.Z)(i().mark((function t(n,r){var o;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:o=(new Date).getTime();case 2:if(!(o+r>(new Date).getTime())){t.next=9;break}if(!n()){t.next=5;break}return t.abrupt("return",!0);case 5:return t.next=7,e.Sleep(100);case 7:t.next=2;break;case 9:return t.abrupt("return",!1);case 10:case"end":return t.stop()}}),t)}))),function(t,e){return n.apply(this,arguments)})},{key:"IsValidDataField",value:function(t){return null!=t&&t.length>0&&"null"!==t}},{key:"IsOnPage",value:function(t,n){if(e.IsValidDataField(t)){var i,r=t.toLowerCase().replace(/\s+/g,"").split(","),o=n.toLowerCase(),a=!1,s=_e(r);try{for(s.s();!(i=s.n()).done;){var l=i.value;if(o.indexOf(l)>=0){a=!0;break}}}catch(t){s.e(t)}finally{s.f()}return a}return!1}}]),e}(),Fe=function(){function t(){(0,ye.Z)(this,t),(0,Se.Z)(this,"otherSellersOverlayLinkSelector",void 0),(0,Se.Z)(this,"otherSellerOfferElementSelector",void 0),(0,Se.Z)(this,"otherSellerHeadingSelector",void 0),(0,Se.Z)(this,"otherSellerPriceSelector",void 0),(0,Se.Z)(this,"otherSellerNameSelector",void 0),(0,Se.Z)(this,"productImageSelector",void 0),(0,Se.Z)(this,"otherSellerRatingSelector",void 0),(0,Se.Z)(this,"otherSellerDeliverySelector",void 0),(0,Se.Z)(this,"otherSellerAddButtonSelector",void 0),(0,Se.Z)(this,"otherSellerAddedConfirmationSelector",void 0)}return(0,Ce.Z)(t,null,[{key:"Create",value:function(e){var n=new t;return n.otherSellersOverlayLinkSelector=e.otherSellersOverlayLinkSelector,n.otherSellerOfferElementSelector=e.otherSellerOfferElementSelector,n.otherSellerHeadingSelector=e.otherSellerHeadingSelector,n.otherSellerPriceSelector=e.otherSellerPriceSelector,n.otherSellerNameSelector=e.otherSellerNameSelector,n.productImageSelector=e.productImageSelector,n.otherSellerRatingSelector=e.otherSellerRatingSelector,n.otherSellerDeliverySelector=e.otherSellerDeliverySelector,n.otherSellerAddButtonSelector=e.otherSellerAddButtonSelector,n.otherSellerAddedConfirmationSelector=e.otherSellerAddedConfirmationSelector,n}}]),t}(),Ze=function(){function t(){(0,ye.Z)(this,t),(0,Se.Z)(this,"inputBoxSelector",void 0),(0,Se.Z)(this,"applyButtonSelector",void 0),(0,Se.Z)(this,"removeCouponButtonSelector",void 0),(0,Se.Z)(this,"orderTotalDataElementSelector",void 0),(0,Se.Z)(this,"orderSubTotalElementSelector",void 0),(0,Se.Z)(this,"enabledTips",void 0),(0,Se.Z)(this,"couponAcceptedMessageElementSelector",void 0),(0,Se.Z)(this,"errorMessageCloseButtonSelector",void 0),(0,Se.Z)(this,"waitBeforeReApplyingNextCoupon",void 0),(0,Se.Z)(this,"waitAfterApplyingCurrentCoupon",void 0),(0,Se.Z)(this,"checkoutPageUrl",void 0),(0,Se.Z)(this,"refreshAfterApplying",void 0),(0,Se.Z)(this,"refreshAfterRemoving",void 0),(0,Se.Z)(this,"closeModal",void 0),(0,Se.Z)(this,"layoutClickSelector",void 0),(0,Se.Z)(this,"clickBeforeStartSelector",void 0),(0,Se.Z)(this,"errorMessageSelector",void 0),(0,Se.Z)(this,"domMutationEnabled",void 0),(0,Se.Z)(this,"couponRemovalNotNeeded",void 0),(0,Se.Z)(this,"appliedCouponSelector",void 0),(0,Se.Z)(this,"finalCheckoutButtonSelector",void 0),(0,Se.Z)(this,"otherSellersSelectors",void 0)}return(0,Ce.Z)(t,null,[{key:"Create",value:function(e){var n=new t;return n.inputBoxSelector=e.inputBoxSelector,n.applyButtonSelector=e.applyButtonSelector,n.removeCouponButtonSelector=e.removeCouponButtonSelector,n.orderTotalDataElementSelector=e.orderTotalDataElementSelector,n.orderSubTotalElementSelector=e.orderSubTotalElementSelector,n.enabledTips=e.enabledTips,n.couponAcceptedMessageElementSelector=e.couponAcceptedMessageElementSelector,n.errorMessageCloseButtonSelector=e.errorMessageCloseButtonSelector,n.waitBeforeReApplyingNextCoupon=e.waitBeforeReApplyingNextCoupon,n.waitAfterApplyingCurrentCoupon=e.waitAfterApplyingCurrentCoupon,n.checkoutPageUrl=e.checkoutPageUrl,n.refreshAfterApplying=e.refreshAfterApplying,n.refreshAfterRemoving=e.refreshAfterRemoving,n.closeModal=e.closeModal,n.clickBeforeStartSelector=e.clickBeforeStartSelector,n.errorMessageSelector=e.errorMessageSelector,n.domMutationEnabled=e.domMutationEnabled,n.couponRemovalNotNeeded=e.couponRemovalNotNeeded,n.appliedCouponSelector=e.appliedCouponSelector,n.finalCheckoutButtonSelector=e.finalCheckoutButtonSelector,n.layoutClickSelector=e.layoutClickSelector,e.otherSellersSelectors&&(n.otherSellersSelectors=Fe.Create(e.otherSellersSelectors)),n}},{key:"Process",value:function(t,e){return!e||e!==ve.BN.Opal&&e!==ve.BN.EdgeMobile&&e!==ve.BN.Sapphire||(t.inputBoxSelector=Le.escapeJsonString(t.inputBoxSelector),t.applyButtonSelector=Le.escapeJsonString(t.applyButtonSelector),t.removeCouponButtonSelector=Le.escapeJsonString(t.removeCouponButtonSelector),t.orderTotalDataElementSelector=Le.escapeJsonString(t.orderTotalDataElementSelector),t.orderSubTotalElementSelector=Le.escapeJsonString(t.orderSubTotalElementSelector),t.enabledTips=Le.escapeJsonString(t.enabledTips),t.couponAcceptedMessageElementSelector=Le.escapeJsonString(t.couponAcceptedMessageElementSelector),t.errorMessageCloseButtonSelector=Le.escapeJsonString(t.errorMessageCloseButtonSelector),t.closeModal=Le.escapeJsonString(t.closeModal),t.clickBeforeStartSelector=Le.escapeJsonString(t.clickBeforeStartSelector),t.layoutClickSelector=Le.escapeJsonString(t.layoutClickSelector),t.errorMessageSelector=Le.escapeJsonString(t.errorMessageSelector)),t}}]),t}();function Be(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return $e(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $e(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function $e(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}var Ue=function(){function t(){(0,ye.Z)(this,t)}return(0,Ce.Z)(t,null,[{key:"IsOnCheckoutPage",value:function(t,e){return!(!e||!e.retailerData)&&e.retailerData.UpdateCurrentCheckoutPage(t)}},{key:"GetHtmlElement",value:function(t){var e,n=Be(t.split(";"));try{for(n.s();!(e=n.n()).done;){var i=e.value;try{var r=document.querySelector(i);if(r)return r}catch(t){}}}catch(t){n.e(t)}finally{n.f()}return null}}]),t}(),Ve=function(){function t(e,n,i,r,o){(0,ye.Z)(this,t),(0,Se.Z)(this,"Text",void 0),(0,Se.Z)(this,"IconType",void 0),(0,Se.Z)(this,"MinimumPurchase",void 0),(0,Se.Z)(this,"RetailerData",void 0),(0,Se.Z)(this,"CheckoutPageUrl",void 0),this.Text=e,this.IconType=n,this.MinimumPurchase=i,this.RetailerData=r,this.CheckoutPageUrl=o}return(0,Ce.Z)(t,[{key:"GetAmountForFreeShipping",value:function(){var t=this.RetailerData.GetCurrentCheckoutPageByPathName(location.pathname);if(t){var e=t.orderSubTotalElementSelector,n=t.orderTotalDataElementSelector;if(e){var i,r=null===(i=Ue.GetHtmlElement(e))||void 0===i?void 0:i.innerText;if(r&&this.MinimumPurchase)return this.MinimumPurchase-Le.GetPriceStringAsNumber(r)}else if(n){var o,a=null===(o=Ue.GetHtmlElement(n))||void 0===o?void 0:o.innerText;if(a&&this.MinimumPurchase)return this.MinimumPurchase-Le.GetPriceStringAsNumber(a)}}return 0}}]),t}();function Ge(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return je(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return je(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function je(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}var ze=function(){function t(){(0,ye.Z)(this,t),(0,Se.Z)(this,"domainName",void 0),(0,Se.Z)(this,"productPageUrl",void 0),(0,Se.Z)(this,"productImageSelector",void 0),(0,Se.Z)(this,"productNameSelector",void 0),(0,Se.Z)(this,"productPriceSelector",void 0),(0,Se.Z)(this,"allCheckoutPages",void 0),(0,Se.Z)(this,"checkoutPageKey",void 0),(0,Se.Z)(this,"orderConfirmationPageUrl",void 0),(0,Se.Z)(this,"orderConfirmationRegex",void 0),(0,Se.Z)(this,"exclusiveMarket",void 0),(0,Se.Z)(this,"tips",void 0)}return(0,Ce.Z)(t,[{key:"UpdateCurrentCheckoutPage",value:function(t){for(var e=0;e<this.allCheckoutPages.length;e++){if(He.IsOnPage(this.allCheckoutPages[e].checkoutPageUrl,t))return this.checkoutPageKey=e,!0}return this.checkoutPageKey=null,!1}},{key:"GetCurrentCheckoutPage",value:function(){if(null!=this.checkoutPageKey)return this.allCheckoutPages[this.checkoutPageKey]}},{key:"GetCurrentCheckoutPageByPathName",value:function(t){var e,n=Ge(this.allCheckoutPages);try{for(n.s();!(e=n.n()).done;){var i=e.value;if("none"===i.enabledTips)return;if(He.IsOnPage(i.checkoutPageUrl,t))return i}}catch(t){n.e(t)}finally{n.f()}}},{key:"CreateCheckoutPageList",value:function(t){if(this.allCheckoutPages=[],t.allCheckoutPages&&t.allCheckoutPages.length>0){var e,n=Ge(t.allCheckoutPages);try{for(n.s();!(e=n.n()).done;){var i=e.value;this.allCheckoutPages.push(Ze.Create(i))}}catch(t){n.e(t)}finally{n.f()}}}},{key:"CreateTipsList",value:function(t){if(t.tips){this.tips=[];var e,n=Ge(t.tips);try{for(n.s();!(e=n.n()).done;){var i=e.value;this.tips.push(new Ve(i.text,i.iconType,i.minimumPurchase,this,t.checkoutPageUrl))}}catch(t){n.e(t)}finally{n.f()}}}}],[{key:"Create",value:function(e){var n=new t;return n.domainName=e.domainName,n.productPageUrl=e.productPageUrl,n.productImageSelector=e.productImageSelector,n.productNameSelector=e.productNameSelector,n.productPriceSelector=e.productPriceSelector,n.exclusiveMarket=e.exclusiveMarket,n.CreateCheckoutPageList(e),n.CreateTipsList(e),n}},{key:"Process",value:function(t,e){if(e&&(e===ve.BN.Opal||e===ve.BN.EdgeMobile||e===ve.BN.Sapphire)){t.productImageSelector=Le.escapeJsonString(t.productImageSelector),t.productNameSelector=Le.escapeJsonString(t.productNameSelector),t.productPriceSelector=Le.escapeJsonString(t.productPriceSelector);for(var n=0;n<t.allCheckoutPages.length;n++)t.allCheckoutPages[n]=Ze.Process(t.allCheckoutPages[n],e)}return t}}]),t}();function We(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return Ye(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ye(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function Ye(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function qe(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=(0,De.Z)(t);if(e){var r=(0,De.Z)(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return(0,ke.Z)(this,n)}}var Xe=function(t){(0,Ie.Z)(n,t);var e=qe(n);function n(t){var i;return(0,ye.Z)(this,n),i=e.call(this,n.thirtyMinutesExpiryInSeconds,t),(0,Se.Z)((0,Ae.Z)(i),"coupons",[]),(0,Se.Z)((0,Ae.Z)(i),"deals",[]),(0,Se.Z)((0,Ae.Z)(i),"retailerData",void 0),(0,Se.Z)((0,Ae.Z)(i),"cashback",void 0),(0,Se.Z)((0,Ae.Z)(i),"errorCode",void 0),(0,Se.Z)((0,Ae.Z)(i),"impressionId",void 0),i}return(0,Ce.Z)(n,[{key:"HasCoupons",value:function(){return this.coupons&&this.coupons.length>0}},{key:"HasDeals",value:function(){return this.deals&&this.deals.length>0}},{key:"GetOfferCount",value:function(){return this.HasCoupons()?this.coupons.length:this.HasDeals()?this.deals.length:0}}],[{key:"Create",value:function(t){if(t){var e=new n(t.Timestamp);if(t.errorCode&&(e.errorCode=t.errorCode),t.retailerData&&(e.retailerData=ze.Create(t.retailerData)),e.coupons=[],t.coupons){var i,r=We(t.coupons);try{for(r.s();!(i=r.n()).done;){var o=i.value;e.coupons.push(o)}}catch(t){r.e(t)}finally{r.f()}}if(e.deals=[],t.deals){var a,s=We(t.deals);try{for(s.s();!(a=s.n()).done;){var l=a.value;e.deals.push(Me.Create(l))}}catch(t){s.e(t)}finally{s.f()}}return t.cashback&&(e.cashback=Te.Create(t.cashback)),t.impressionId&&(e.impressionId=t.impressionId),e}return new n}},{key:"Process",value:function(t,e){return t.retailerData&&(t.retailerData=ze.Process(t.retailerData,e)),t}}]),n}(Pe);(0,Se.Z)(Xe,"thirtyMinutesExpiryInSeconds",1800);var Ke=Xe,Qe=n(8939),Je=n(3242),tn=function(){function t(e,n,i,r,o,a,s,l){var c,u,d,h,p,f,g,v,m,y,C,b,S,x,E,w,A;((0,ye.Z)(this,t),(0,Se.Z)(this,"highestCashBackCategory",void 0),(0,Se.Z)(this,"userRebatesResponse",void 0),(0,Se.Z)(this,"merchantName",void 0),(0,Se.Z)(this,"image",void 0),(0,Se.Z)(this,"merchantId",void 0),(0,Se.Z)(this,"merchantFullName",void 0),(0,Se.Z)(this,"merchantUri",void 0),(0,Se.Z)(this,"affiliateNetwork",void 0),(0,Se.Z)(this,"IsRebatesSupportedDomain",void 0),(0,Se.Z)(this,"isSignInSupportedDomain",void 0),(0,Se.Z)(this,"isCashBackActivated",void 0),(0,Se.Z)(this,"isConfirmationPage",void 0),(0,Se.Z)(this,"isTurnedOff",void 0),(0,Se.Z)(this,"personalizedCashback",void 0),(0,Se.Z)(this,"shouldRenderCashBackNotification",void 0),(0,Se.Z)(this,"isPersonalizedCashback",void 0),(0,Se.Z)(this,"isSignInSupportedDomainCashBack",void 0),(0,Se.Z)(this,"isPromotionsCashback",void 0),(0,Se.Z)(this,"activateRebatesStatus",void 0),(0,Se.Z)(this,"experiments",void 0),e)&&(this.highestCashBackCategory={category:null===(c=e.highestCashbackCategory)||void 0===c?void 0:c.category,commissionType:null===(u=e.highestCashbackCategory)||void 0===u?void 0:u.commissionType,commissionValue:null===(d=e.highestCashbackCategory)||void 0===d?void 0:d.commissionValue,priority:null===(h=e.highestCashbackCategory)||void 0===h?void 0:h.priority},this.userRebatesResponse={cashbackAvailable:null===(p=e.userRebateResponse)||void 0===p?void 0:p.cashbackAvailable,isRebatesUser:null!==(f=null===(g=e.userRebateResponse)||void 0===g?void 0:g.isRebatesUser)&&void 0!==f&&f,latestCashbackApproved:null===(v=e.userRebateResponse)||void 0===v?void 0:v.latestCashbackApproved,latestCashbackApprovedCurrency:null===(m=e.userRebateResponse)||void 0===m?void 0:m.latestCashbackApprovedCurrency,latestOrderDate:null===(y=e.userRebateResponse)||void 0===y?void 0:y.latestOrderDate,latestOrderMerchantName:null===(C=e.userRebateResponse)||void 0===C?void 0:C.latestOrderMerchantName,latestOrderMerchantUrl:null===(b=e.userRebateResponse)||void 0===b?void 0:b.latestOrderMerchantUrl,lifetimeBalance:null===(S=e.userRebateResponse)||void 0===S?void 0:S.lifetimeBalance},this.personalizedCashback={commissionType:null===(x=e.personalizedCashback)||void 0===x?void 0:x.commissionType,commissionValue:null===(E=e.personalizedCashback)||void 0===E?void 0:E.commissionValue,scope:null===(w=e.personalizedCashback)||void 0===w?void 0:w.scope},this.isSignInSupportedDomain=e.isSignInSupportedDomain,this.merchantName=e.merchantName,this.image=e.image,this.merchantId=e.merchantId,this.merchantFullName=e.merchantFullName,this.merchantUri=e.merchantUri,this.affiliateNetwork=e.affiliateNetwork,this.IsRebatesSupportedDomain=null!==(A=e.IsRebatesSupportedDomain)&&void 0!==A?A:null);this.isCashBackActivated=null!=n&&n,this.isConfirmationPage=null!=i&&i,this.isTurnedOff=null!=r&&r,this.experiments=o,this.activateRebatesStatus=l,this.shouldRenderCashBackNotification=this.ShouldRenderCashBackNotification(this,a,s),this.isPersonalizedCashback=this.IsPersonalizedCashback(this),this.isSignInSupportedDomainCashBack=this.IsSignInSupportedDomainCashBack(this),this.isPromotionsCashback=this.IsPromotionsCashback(this)}return(0,Ce.Z)(t,[{key:"IsSignInSupportedDomainCashBack",value:function(t){var e;return t&&t.isSignInSupportedDomain&&!(null!==(e=t.userRebatesResponse)&&void 0!==e&&e.isRebatesUser)&&this.experiments.isExperimentActive(Qe.H.signinRebates)&&t.highestCashBackCategory&&t.highestCashBackCategory.commissionValue&&t.highestCashBackCategory.commissionType&&t.highestCashBackCategory.category&&t.merchantFullName&&!t.isCashBackActivated}},{key:"IsPersonalizedCashback",value:function(t){var e;return null!==(e=t&&t.personalizedCashback&&t.personalizedCashback.commissionValue&&this.experiments.isExperimentActive(Qe.H.personalizedCashBack))&&void 0!==e&&e}},{key:"ShouldRenderCashBackNotification",value:function(t,e,n){if(t.isConfirmationPage||t.isTurnedOff)return!0;var i=this.experiments.isExperimentActive(Qe.H.cashbackNotification);return!(!t||t.isCashBackActivated||e!==xe.Te.Auto||!this.isNotificationActiveForDomain(n)||!i)}},{key:"IsPromotionsCashback",value:function(t){var e;return!(!this.experiments.isExperimentActive(Qe.H.promotionsCashback)||0!==(null==t||null===(e=t.userRebatesResponse)||void 0===e?void 0:e.lifetimeBalance))}},{key:"isNotificationActiveForDomain",value:function(t){switch(t){case"walmart.com":case"microsoft.com":case"samsclub.com":case"walgreens.com":case"gamestop.com":return!0}return!1}}]),t}(),en=function t(e,n,i,r,o){(0,ye.Z)(this,t),(0,Se.Z)(this,"Profiles",void 0),(0,Se.Z)(this,"Payments",void 0),(0,Se.Z)(this,"shouldRenderCheckoutAutofill",void 0),(0,Se.Z)(this,"AllProfiles",void 0),(0,Se.Z)(this,"AllPayments",void 0),this.AllProfiles=[],this.AllPayments=[],this.Profiles=[],this.Payments=[],e&&(this.AllProfiles=e),n&&(this.AllPayments=n),i&&(this.Profiles=i),r&&(this.Payments=r),this.shouldRenderCheckoutAutofill=o},nn=function t(e,n){(0,ye.Z)(this,t),(0,Se.Z)(this,"couponCode",void 0),(0,Se.Z)(this,"title",void 0),(0,Se.Z)(this,"attribution",void 0),(0,Se.Z)(this,"isStackable",void 0),(0,Se.Z)(this,"successRate",void 0),this.couponCode=e.couponCode,this.title=e.title,this.attribution=e.attribution,n===xe.AS.Mobile?this.isStackable=!0:this.isStackable=e.isStackable,this.successRate=e.successRate},rn=function(){function t(){(0,ye.Z)(this,t),(0,Se.Z)(this,"offerUrl",void 0),(0,Se.Z)(this,"headerText",void 0),(0,Se.Z)(this,"id",void 0)}return(0,Ce.Z)(t,null,[{key:"Create",value:function(e){var n=new t;return n.offerUrl=e.offerUrl,n.headerText=e.headerText,n.id=e.id,n}}]),t}(),on=function(){function t(){(0,ye.Z)(this,t),(0,Se.Z)(this,"title",void 0),(0,Se.Z)(this,"offerUrl",void 0),(0,Se.Z)(this,"imageUrl",void 0),(0,Se.Z)(this,"originalPrice",void 0),(0,Se.Z)(this,"newPrice",void 0),(0,Se.Z)(this,"discountPercentage",void 0),(0,Se.Z)(this,"shippingText",void 0),(0,Se.Z)(this,"sellerName",void 0),(0,Se.Z)(this,"id",void 0),(0,Se.Z)(this,"priceDropPercentage",void 0)}return(0,Ce.Z)(t,null,[{key:"Create",value:function(e){var n=new t;return n.title=e.title,n.offerUrl=e.offerUrl,n.imageUrl=e.imageUrl,n.originalPrice=e.originalPrice,n.newPrice=e.newPrice,n.discountPercentage=e.discountPercentage,n.shippingText=e.shippingText,n.id=e.id,n.priceDropPercentage=e.priceDropPercentage,n}}]),t}(),an=function t(e,n){(0,ye.Z)(this,t),(0,Se.Z)(this,"AverageSavings",void 0),(0,Se.Z)(this,"AverageUsers",void 0),(0,Se.Z)(this,"SellerName",void 0),(0,Se.Z)(this,"Domain",void 0),this.AverageSavings=e.averageSavings,this.AverageUsers=e.averageUsers,this.Domain=n,this.SellerName=e.websiteName};function sn(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return ln(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ln(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function ln(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}var cn=function t(e,n,i,r){if((0,ye.Z)(this,t),(0,Se.Z)(this,"IsAutoApplyAvailable",void 0),(0,Se.Z)(this,"Coupons",void 0),(0,Se.Z)(this,"Trivia",void 0),(0,Se.Z)(this,"FriendlyDomainName",void 0),(0,Se.Z)(this,"DomainName",void 0),(0,Se.Z)(this,"isCheckoutPageWithAutoApply",void 0),(0,Se.Z)(this,"Deals",void 0),(0,Se.Z)(this,"Recommendations",void 0),this.IsAutoApplyAvailable=n,e){var o;if(this.Coupons=[],e.coupons){var a,s=sn(e.coupons);try{for(s.s();!(a=s.n()).done;){var l=a.value;this.Coupons.push(new nn(l,r))}}catch(t){s.e(t)}finally{s.f()}}if(this.Deals=[],e.deals){var c,u=sn(e.deals);try{for(u.s();!(c=u.n()).done;){var d=c.value;this.Deals.push(rn.Create(d))}}catch(t){u.e(t)}finally{u.f()}}if(this.Recommendations=[],e.recommendations){var h,p=sn(e.recommendations);try{for(p.s();!(h=p.n()).done;){var f=h.value;this.Recommendations.push(on.Create(f))}}catch(t){p.e(t)}finally{p.f()}}e.retailerData&&(this.DomainName=e.retailerData.domainName,e.retailerData.retailerTrivia&&(this.Trivia=new an(e.retailerData.retailerTrivia,e.retailerData.domainName))),this.FriendlyDomainName=e.friendlyDomainName,this.isCheckoutPageWithAutoApply=null!==(o=this.Coupons&&this.Coupons.length>0&&this.IsAutoApplyAvailable&&i)&&void 0!==o&&o}},un=function t(e){(0,ye.Z)(this,t),(0,Se.Z)(this,"Tips",void 0),this.Tips=e},dn=function(){function t(e){(0,ye.Z)(this,t),(0,Se.Z)(this,"Guid",void 0),(0,Se.Z)(this,"ExpMonth",void 0),(0,Se.Z)(this,"ExpYear",void 0),(0,Se.Z)(this,"FullName",void 0),(0,Se.Z)(this,"MaskedCardNumber",void 0),(0,Se.Z)(this,"CardNumber",void 0),(0,Se.Z)(this,"CardType",void 0);var n=e.metadata.summaryLabel.substr(0,e.metadata.summaryLabel.indexOf(" ")),i=e.metadata.summaryLabel.substr(e.metadata.summaryLabel.length-5,e.metadata.summaryLabel.length);this.UpdateFileds(e.guid,e.expirationMonth,e.expirationYear,e.name,e.cardNumber,{amex:"A",discover:"D",mastercard:"M",visa:"V"}[n.toLowerCase().trim()],i)}return(0,Ce.Z)(t,[{key:"UpdateFileds",value:function(t,e,n,i,r,o,a){this.Guid=t,this.ExpMonth=e,this.ExpYear=n,this.FullName=i,this.CardNumber=r,this.CardType=o,this.MaskedCardNumber=a}}]),t}(),hn=function t(e){var n=this;if((0,ye.Z)(this,t),(0,Se.Z)(this,"Url",void 0),(0,Se.Z)(this,"Description",void 0),(0,Se.Z)(this,"SellerName",void 0),(0,Se.Z)(this,"Domain",void 0),(0,Se.Z)(this,"InstallmentAmount",void 0),(0,Se.Z)(this,"InstallmentDescription",void 0),(0,Se.Z)(this,"LowPrice",void 0),(0,Se.Z)(this,"Price",void 0),(0,Se.Z)(this,"FavIcon",void 0),(0,Se.Z)(this,"CurrencySymbol",void 0),(0,Se.Z)(this,"ImpressionToken",void 0),(0,Se.Z)(this,"ProductImageUrl",void 0),(0,Se.Z)(this,"ProductImageOriginalUrl",void 0),(0,Se.Z)(this,"PriceId",void 0),(0,Se.Z)(this,"Extensions",void 0),e){var i,r,o=e.installmentInfo;o&&(this.InstallmentAmount=o.amount,this.InstallmentDescription=o.description);var a,s,l,c,u,d,h=e.offer;if(h)this.LowPrice=h.lowPrice,this.Price=h.price,this.Description=null===(a=h.itemOffered)||void 0===a?void 0:a.name,this.SellerName=null===(s=h.seller)||void 0===s?void 0:s.name,this.Domain=null===(l=h.seller)||void 0===l?void 0:l.domain,this.FavIcon=null===(c=h.seller)||void 0===c?void 0:c.favicon,this.Url=h.url,this.CurrencySymbol=h.priceCurrencySymbol,this.ProductImageUrl=null===(u=h.itemOffered)||void 0===u||null===(d=u.image)||void 0===d?void 0:d.contentUrl,this.ProductImageOriginalUrl=h.itemOffered.image.originalUrl;this.ImpressionToken=null!==(i=e.impressionToken)&&void 0!==i?i:"",this.PriceId=null!==(r=e.price_comparison_id)&&void 0!==r?r:"";var p=e.extensions;p&&p.length>0&&(this.Extensions=new Array,p.forEach((function(t){var e=t.text,i=t._type;n.Extensions.push({ExtensionText:e,ExtensionType:i})})))}};function pn(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return fn(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return fn(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function fn(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}var gn,vn=function(){function t(e,n,i,r,o){if((0,ye.Z)(this,t),(0,Se.Z)(this,"Price",void 0),(0,Se.Z)(this,"CompetingPrices",void 0),(0,Se.Z)(this,"currentImageUrl",void 0),(0,Se.Z)(this,"currentProductTitle",void 0),(0,Se.Z)(this,"entityName",void 0),(0,Se.Z)(this,"shouldBeInPolePosition",void 0),(0,Se.Z)(this,"lowestPrice",void 0),(0,Se.Z)(this,"shoudlRenderPriceComparisonNotification",void 0),(0,Se.Z)(this,"experiments",void 0),e){var a="",s="";if(e&&e.value&&n&&(i&&i.image_url&&(a=i.image_url,s=i.title),i&&i.entity&&i.entity.name&&(this.entityName=i.entity.name)),this.Price=n,this.currentImageUrl=a,this.currentProductTitle=s,this.CompetingPrices=[],e.value&&e.value.length>0){var l,c=pn(e.value);try{for(c.s();!(l=c.n()).done;){var u=l.value;this.CompetingPrices.push(new hn(u))}}catch(t){c.e(t)}finally{c.f()}}this.experiments=o,this.lowestPrice=this.getLowestPrice(),this.shouldBeInPolePosition=this.ShouldBeInPolePosition(this),this.shoudlRenderPriceComparisonNotification=this.ShouldRenderNotification(this,r)}}return(0,Ce.Z)(t,[{key:"getIntendedPrice",value:function(t){if(t.InstallmentAmount){var e=parseFloat(t.InstallmentAmount.replace(/[^0-9.]/g,""));if(t.InstallmentDescription){var n=parseInt(t.InstallmentDescription.replace(/[^0-9]/g,""),10);n&&(e*=n)}return e}return t.LowPrice?t.LowPrice:t.Price}},{key:"ShouldRenderNotification",value:function(t,e){var n;return null!==(n=(null==t?void 0:t.shouldBeInPolePosition)&&this.experiments.isExperimentActive(Qe.H.showPriceComparisonNotification)&&e===xe.Te.Auto)&&void 0!==n&&n}},{key:"ShouldBeInPolePosition",value:function(t){if(t&&t.CompetingPrices&&t.CompetingPrices.length>0){var e=this.getLowestPrice(),n=t.Price-e;if(e>0&&n>0&&n>Math.ceil(.05*t.Price))return!0}return!1}},{key:"getLowestPrice",value:function(){var t=this;if(this.Price&&-1!==this.Price){var e=this.Price;return this.CompetingPrices.forEach((function(n){var i=t.getIntendedPrice(n);i<e&&(e=i)})),e===this.Price?-1:e}return-1}}]),t}(),mn=function t(e,n){(0,ye.Z)(this,t),(0,Se.Z)(this,"dtg",void 0),(0,Se.Z)(this,"minPrice",void 0),this.dtg=new Date(e),n&&(this.minPrice=n.minPrice)},yn=function t(e,n,i){(0,ye.Z)(this,t),(0,Se.Z)(this,"title",void 0),(0,Se.Z)(this,"imageUrl",void 0),(0,Se.Z)(this,"currency",void 0),(0,Se.Z)(this,"base64ProductImage",void 0),this.title=e,this.imageUrl=n,this.currency=i};function Cn(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return bn(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return bn(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function bn(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}!function(t){t[t.PRICEDROP=0]="PRICEDROP",t[t.PRICEINCREASE=1]="PRICEINCREASE",t[t.FAIRPRICE=2]="FAIRPRICE"}(gn||(gn={}));var Sn=function(){function t(e,n,i,r){(0,ye.Z)(this,t),(0,Se.Z)(this,"TriggerPriceHistoryAlert",void 0),(0,Se.Z)(this,"DailyPrices",[]),(0,Se.Z)(this,"ProductDetails",void 0),(0,Se.Z)(this,"CurrentPrice",void 0),(0,Se.Z)(this,"DailyPriceDropPercentage",void 0),(0,Se.Z)(this,"SourceType",void 0),(0,Se.Z)(this,"MedianPrice",void 0),this.TriggerPriceHistoryAlert=e.triggerPriceHistoryAlert,this.DailyPriceDropPercentage=e.priceHistoryData.dailyPriceDropPercentage,this.SourceType=e.priceHistoryData.sourceType,this.MedianPrice=e.priceHistoryData.medianPrice,this.DailyPrices=this.getDailyPrices(e,r);var o=e.productDetails;this.ProductDetails=new yn(o.title,o.imageUrl,o.currency),this.ensureCurrentPriceInDailyPrices(n),this.CurrentPrice=this.DailyPrices[this.DailyPrices.length-1].minPrice,i&&(this.ProductDetails.base64ProductImage=i)}return(0,Ce.Z)(t,[{key:"addBase64ProductImage",value:function(t){this.ProductDetails&&(this.ProductDetails.base64ProductImage=t)}},{key:"getDaysDifference",value:function(t,e){return t=new Date(t.getFullYear(),t.getMonth(),t.getDate()),e=new Date(e.getFullYear(),e.getMonth(),e.getDate()),Math.abs(Math.floor((t.getTime()-e.getTime())/864e5))}},{key:"getHoursDifference",value:function(t,e){return t=new Date(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours()),e=new Date(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours()),Math.abs((t.getTime()-e.getTime())/36e5)}},{key:"getPriceHistoryType",value:function(){return this.DailyPriceDropPercentage>2?gn.PRICEDROP:this.DailyPriceDropPercentage<-2?gn.PRICEINCREASE:gn.FAIRPRICE}},{key:"ensureCurrentPriceInDailyPrices",value:function(t){var e=(new Date).toISOString().substring(0,10);0!==this.getDaysDifference(this.DailyPrices[this.DailyPrices.length-1].dtg,new Date(e))&&this.DailyPrices.push(new mn(e,{minPrice:t}))}},{key:"getDailyPrices",value:function(t,e){var n,i=[],r=Cn(t.priceHistoryData.dailyPrice);try{for(r.s();!(n=r.n()).done;){var o=n.value,a=new mn(o.date,o.priceData);this.isDailyPriceValid(a,e)&&i.push(a)}}catch(t){r.e(t)}finally{r.f()}return i}},{key:"isDailyPriceValid",value:function(t,e){if(!["walmart.com","homedepot.com","target.com","bestbuy.com","wayfair.com"].find((function(t){return t===e})))return!0;var n=new Date(2021,4,1);return!(t.dtg<n)}}]),t}(),xn=function t(e){(0,ye.Z)(this,t),(0,Se.Z)(this,"canonicalUrl",void 0),(0,Se.Z)(this,"image",void 0),(0,Se.Z)(this,"name",void 0),(0,Se.Z)(this,"price",void 0),(0,Se.Z)(this,"pageLocale",void 0),(0,Se.Z)(this,"priceCurrency",void 0),(0,Se.Z)(this,"priceValue",void 0),(0,Se.Z)(this,"type",void 0),e&&(this.canonicalUrl=e.canonical_url,this.image=e.image,this.name=e.name,this.price=e["offers/price"],this.pageLocale=e.page_locale,this.priceCurrency=e.price_currency,this.priceValue=e.price_value,this.type=e.type)},En=function t(e){if((0,ye.Z)(this,t),(0,Se.Z)(this,"category",void 0),(0,Se.Z)(this,"entity",void 0),(0,Se.Z)(this,"title",void 0),(0,Se.Z)(this,"url",void 0),(0,Se.Z)(this,"domain",void 0),e&&(this.category=e.category,this.entity=new xn(e.entity),this.title=e.title,this.url=e.url,this.url)){var n=this.url.match(/:\/\/(www[0-9]?\.)?(.[^/:]+)/i);n&&n.length>2&&"string"==typeof n[2]&&(this.domain=n[2])}},wn=function(){function t(e){var n,i,r,o,a,s;(0,ye.Z)(this,t),(0,Se.Z)(this,"Guid",void 0),(0,Se.Z)(this,"Emails",void 0),(0,Se.Z)(this,"FirstName",void 0),(0,Se.Z)(this,"MiddleName",void 0),(0,Se.Z)(this,"LastName",void 0),(0,Se.Z)(this,"FullName",void 0),(0,Se.Z)(this,"AddressLines",void 0),(0,Se.Z)(this,"City",void 0),(0,Se.Z)(this,"State",void 0),(0,Se.Z)(this,"Country",void 0),(0,Se.Z)(this,"Zip",void 0),(0,Se.Z)(this,"PhoneNumbers",void 0),(0,Se.Z)(this,"Honorific",void 0),this.UpdateFields(e.guid,e.emailAddresses,null!==(n=null===(i=e.fullNameSplit)||void 0===i?void 0:i.firstName)&&void 0!==n?n:"",null!==(r=null===(o=e.fullNameSplit)||void 0===o?void 0:o.middleName)&&void 0!==r?r:"",null!==(a=null===(s=e.fullNameSplit)||void 0===s?void 0:s.lastName)&&void 0!==a?a:"",e.fullNames,e.honorific,e.addressLines,e.addressLevel2,e.addressLevel1,e.countryCode,e.postalCode,e.phoneNumbers)}return(0,Ce.Z)(t,[{key:"UpdateFields",value:function(t,e,n,i,r,o,a,s,l,c,u,d,h){this.Guid=t,this.Emails=e,this.FirstName=n,this.MiddleName=i,this.LastName=r,this.FullName=o[0],this.AddressLines=s,this.City=l,this.State=c,this.Country=u,this.Zip=d,this.PhoneNumbers=h,this.Honorific=a}}]),t}(),An=function(){function t(){(0,ye.Z)(this,t),(0,Se.Z)(this,"rawValue",void 0),(0,Se.Z)(this,"maxValue",void 0)}return(0,Ce.Z)(t,[{key:"normalizedValue",get:function(){return t.NormalizedMaxRating*(this.rawValue/this.maxValue)}}],[{key:"createRating",value:function(e,n){if(n<1||e<0||e>n)return null;var i=new t;return i.rawValue=e,i.maxValue=n,i}}]),t}();(0,Se.Z)(An,"NormalizedMaxRating",5);var In=An;function kn(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=(0,De.Z)(t);if(e){var r=(0,De.Z)(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return(0,ke.Z)(this,n)}}var Dn=function(t){(0,Ie.Z)(n,t);var e=kn(n);function n(){var t;(0,ye.Z)(this,n);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return t=e.call.apply(e,[this].concat(r)),(0,Se.Z)((0,Ae.Z)(t),"totalReviews",void 0),(0,Se.Z)((0,Ae.Z)(t),"displayText",void 0),t}return(0,Ce.Z)(n,null,[{key:"createAggregateRating",value:function(t,e,n,i){if(n<1)return null;var r=In.createRating(t,e);return r.totalReviews=n,r&&(r.displayText=i),r}}]),n}(In),Tn=function(){function t(){(0,ye.Z)(this,t),(0,Se.Z)(this,"cardOrder",void 0)}return(0,Ce.Z)(t,null,[{key:"Compare",value:function(t,e){return t.cardOrder-e.cardOrder}}]),t}();function Mn(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=(0,De.Z)(t);if(e){var r=(0,De.Z)(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return(0,ke.Z)(this,n)}}var Pn,Rn=function(t){(0,Ie.Z)(n,t);var e=Mn(n);function n(){var t;(0,ye.Z)(this,n);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return t=e.call.apply(e,[this].concat(r)),(0,Se.Z)((0,Ae.Z)(t),"id",void 0),(0,Se.Z)((0,Ae.Z)(t),"url",void 0),(0,Se.Z)((0,Ae.Z)(t),"favIconDomain",void 0),(0,Se.Z)((0,Ae.Z)(t),"provider",void 0),(0,Se.Z)((0,Ae.Z)(t),"title",void 0),(0,Se.Z)((0,Ae.Z)(t),"rating",void 0),(0,Se.Z)((0,Ae.Z)(t),"caption",void 0),t}return(0,Ce.Z)(n,null,[{key:"create",value:function(t,e,i,r,o,a,s,l,c){if(!t||!i||!a&&!c)return null;var u,d=new n;(d.id=t,d.cardOrder=e,d.url=i,d.favIconDomain=r,d.provider=o,d.title=a,d.caption=c,s&&l)&&(d.rating=null!==(u=In.createRating(s,l))&&void 0!==u?u:void 0);return d}}]),n}(Tn);function On(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=(0,De.Z)(t);if(e){var r=(0,De.Z)(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return(0,ke.Z)(this,n)}}!function(t){t[t.H=0]="H",t[t.V=1]="V"}(Pn||(Pn={}));var Ln=function(t){(0,Ie.Z)(n,t);var e=On(n);function n(){var t;(0,ye.Z)(this,n);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return t=e.call.apply(e,[this].concat(r)),(0,Se.Z)((0,Ae.Z)(t),"id",void 0),(0,Se.Z)((0,Ae.Z)(t),"cardOrientation",void 0),(0,Se.Z)((0,Ae.Z)(t),"title",void 0),(0,Se.Z)((0,Ae.Z)(t),"thumbnailId",void 0),(0,Se.Z)((0,Ae.Z)(t),"thumbnailUrl",void 0),(0,Se.Z)((0,Ae.Z)(t),"clickthroughUrl",void 0),(0,Se.Z)((0,Ae.Z)(t),"publisher",void 0),(0,Se.Z)((0,Ae.Z)(t),"creator",void 0),(0,Se.Z)((0,Ae.Z)(t),"durationText",void 0),(0,Se.Z)((0,Ae.Z)(t),"durationLabel",void 0),t}return(0,Ce.Z)(n,null,[{key:"create",value:function(t,e,i,r,o,a,s,l,c,u){if(!t||!r||!s||!o&&!a)return null;var d=new n;if(d.id=t,d.cardOrder=e,d.cardOrientation=(null==i?void 0:i.toUpperCase())===Pn[Pn.H]?Pn.H:Pn.V,d.title=r,d.thumbnailId=o,d.thumbnailUrl=a,d.clickthroughUrl=s,d.publisher=l,d.creator=c,u>0){var h=Math.floor(u/60),p=Math.round(u)%60,f=p<10?"0"+p:p;d.durationText=h+":"+f,d.durationLabel=h>0?"".concat(h," minutes ").concat(f," seconds"):"".concat(f," seconds")}return d}},{key:"Narrow",value:function(t){return"clickthroughUrl"in t?t:void 0}}]),n}(Tn);function _n(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return Nn(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Nn(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function Nn(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}var Hn=function(){function t(){(0,ye.Z)(this,t),(0,Se.Z)(this,"aggregateRating",void 0),(0,Se.Z)(this,"sectionTitle",void 0),(0,Se.Z)(this,"entityName",void 0),(0,Se.Z)(this,"expertReviews",void 0),(0,Se.Z)(this,"videos",void 0),(0,Se.Z)(this,"experimentsData",void 0)}return(0,Ce.Z)(t,[{key:"canCreateInlineRating",get:function(){return!!this.aggregateRating}},{key:"totalCards",get:function(){var t,e,n,i;return(null!==(t=null===(e=this.expertReviews)||void 0===e?void 0:e.length)&&void 0!==t?t:0)+(null!==(n=null===(i=this.videos)||void 0===i?void 0:i.length)&&void 0!==n?n:0)}},{key:"hasExpertReviews",get:function(){return!!this.expertReviews&&this.expertReviews.length>0}},{key:"hasVideos",get:function(){return!!this.videos&&this.videos.length>0}},{key:"hasOrderedCards",get:function(){var t,e,n,i;return null!==(t=null===(e=this.expertReviews)||void 0===e?void 0:e.some((function(t){return t.cardOrder>0})))&&void 0!==t&&t||null!==(n=null===(i=this.videos)||void 0===i?void 0:i.some((function(t){return t.cardOrder>0})))&&void 0!==n&&n}},{key:"CanRankInPole",value:function(t,e){var n,i,r,o;if(this.totalCards<3||!this.hasOrderedCards)return!1;var a,s=null===(n=t.PriceHistoryData)||void 0===n?void 0:n.getPriceHistoryType();if(s===gn.FAIRPRICE||s===gn.PRICEINCREASE){if(e.TriggerExperiment(Qe.H.poleReviewsIfNoDrop),!this.experimentsData.isExperimentActive(Qe.H.poleReviewsIfNoDrop))return!1}else if(void 0!==s)return!1;if((null!==(i=null===(r=t.PriceComparisonData)||void 0===r||null===(o=r.CompetingPrices)||void 0===o?void 0:o.length)&&void 0!==i?i:0)>0&&(e.TriggerExperiment(Qe.H.poleReviewsIfBestPrice),!this.experimentsData.isExperimentActive(Qe.H.poleReviewsIfBestPrice)||null!==(a=t.PriceComparisonData)&&void 0!==a&&a.shouldBeInPolePosition))return!1;return!0}}],[{key:"create",value:function(e,n,i){if(e){var r,o,a,s,l,c=new t;if(c.experimentsData=i,c.sectionTitle=e.sectionTitle,c.entityName=null!==(r=null==n||null===(o=n.entity)||void 0===o?void 0:o.name)&&void 0!==r?r:null==n?void 0:n.title,c.aggregateRating=null!==(a=t.createAggregateRating(e.aggregatedRatingReview))&&void 0!==a?a:void 0,Array.isArray(null===(s=e.professionalReviews)||void 0===s?void 0:s.reviews)){var u,d=[],h=_n(e.professionalReviews.reviews);try{for(h.s();!(u=h.n()).done;){var p=u.value,f=t.createExpertReview(p);f&&d.push(f)}}catch(t){h.e(t)}finally{h.f()}d.length>0&&(c.expertReviews=d)}if(Array.isArray(null===(l=e.videoReviews)||void 0===l?void 0:l.reviews)){var g,v=[],m=_n(e.videoReviews.reviews);try{for(m.s();!(g=m.n()).done;){var y=g.value,C=t.createVideo(y);C&&v.push(C)}}catch(t){m.e(t)}finally{m.f()}v.length>0&&(c.videos=v)}return c.aggregateRating||c.expertReviews||c.videos?c:void 0}}},{key:"createAggregateRating",value:function(t){return t&&t.rating?Dn.createAggregateRating(t.rating.value,t.rating.maxValue,t.totalReviewCount):null}},{key:"createExpertReview",value:function(t){if(t&&t.publisher){var e,n,i;try{var r;i=new URL(null!==(r=t.iconUri)&&void 0!==r?r:t.url).hostname}catch(t){}return Rn.create(t.id,t.cardOrder,t.url,i,t.publisher,t.title,null===(e=t.rating)||void 0===e?void 0:e.value,null===(n=t.rating)||void 0===n?void 0:n.maxValue,t.caption)}return null}},{key:"createVideo",value:function(t){if(null!=t&&t.publisher||null!=t&&t.creator){var e,n=null!==(e=t.clickthroughUrl)&&void 0!==e?e:t.contentUrl;return Ln.create(t.id,t.cardOrder,t.cardOrientation,t.title,t.thumbnailId,t.thumbnailUrl,n,t.publisher,t.creator,t.lengthSeconds)}return null}}]),t}(),Fn=function(){function t(e,n,i,r){(0,ye.Z)(this,t),(0,Se.Z)(this,"Points",void 0),(0,Se.Z)(this,"IsRewardsActive",void 0),(0,Se.Z)(this,"IsSignedInUser",void 0),(0,Se.Z)(this,"IsAssociatedUser",void 0),(0,Se.Z)(this,"IsTrialUser",void 0),(0,Se.Z)(this,"TrialUserExpiryInDays",void 0),(0,Se.Z)(this,"ActivateRewardsStatus",void 0),(0,Se.Z)(this,"shoudlRenderRewardNotification",void 0),(0,Se.Z)(this,"experiments",void 0),this.Points=e.points,this.IsRewardsActive=e.isRewardsActive,this.IsAssociatedUser=e.isAssociatedUser,this.IsSignedInUser=e.isSignedInUser,this.IsTrialUser=e.isTrialUser,this.TrialUserExpiryInDays=e.trialUserExpiryInDays,this.ActivateRewardsStatus=n,this.experiments=r,this.shoudlRenderRewardNotification=this.ShouldRenderRewardNotification(this,i)}return(0,Ce.Z)(t,[{key:"ShouldRenderRewardNotification",value:function(t,e){return t&&t.IsRewardsActive&&this.experiments.isExperimentActive(Qe.H.rewardNotification)&&e===xe.Te.Auto}}]),t}(),Zn=function t(e,n,i,r,o){(0,ye.Z)(this,t),(0,Se.Z)(this,"Text",void 0),(0,Se.Z)(this,"IconType",void 0),(0,Se.Z)(this,"MinimumPurchase",void 0),(0,Se.Z)(this,"RetailerData",void 0),(0,Se.Z)(this,"CheckoutPageUrl",void 0),this.Text=e,this.IconType=n,this.MinimumPurchase=i,this.RetailerData=ze.Create(r),this.CheckoutPageUrl=o};function Bn(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return $n(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $n(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function $n(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}var Un=function(){function e(t,n){(0,ye.Z)(this,e),(0,Se.Z)(this,"logModule",void 0),(0,Se.Z)(this,"pageHandlerModule",void 0),(0,Se.Z)(this,"flyoutData",void 0),(0,Se.Z)(this,"apiResponseStr",void 0),(0,Se.Z)(this,"apiResponse",void 0),this.logModule=t,this.pageHandlerModule=n}var n,r,o,a,s;return(0,Ce.Z)(e,[{key:"InitializeData",value:(s=(0,t.Z)(i().mark((function t(e){var n,r,o,a,s,l,c;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:try{this.flyoutData=e,this.apiResponseStr=this.flyoutData.dataLoader.GetLoadTimeDataValue(he.CouponsApiResponse,void 0),this.apiResponse=JSON.parse(this.apiResponseStr),(o=Ke.Create(this.apiResponse))&&(this.flyoutData.dataStoreModule.ApiData=o)}catch(t){a=new ge.Z(ve.xu.OnErrorInvoked),this.logModule.LogErrorEvent(ve.R.EdgeFlyoutStatus,"Data creation Exception: Error parsing coupon api response ".concat(this.apiResponseStr),a)}return null!==(n=this.flyoutData.dataStoreModule.ApiData)&&void 0!==n&&null!==(r=n.retailerData)&&void 0!==r&&r.domainName?e.common.domain=null===(s=this.flyoutData.dataStoreModule.ApiData)||void 0===s||null===(l=s.retailerData)||void 0===l?void 0:l.domainName:e.common.currentUrl&&(c=this.getDomainNameFromUrl(e.common.currentUrl))&&(e.common.domain=c),this.createDataWithErrorHandling(xe.GX.COUPON),this.createDataWithErrorHandling(xe.GX.CASHBACK),this.createDataWithErrorHandling(xe.GX.PRICECOMPARISON),this.createDataWithErrorHandling(xe.GX.PRICEHISTORY),t.next=8,this.createDataWithErrorHandling(xe.GX.CHECKOUTAUTOFILL);case 8:this.createDataWithErrorHandling(xe.GX.NUDGETIPSDATA),this.createDataWithErrorHandling(xe.GX.RATINGSANDREVIEWS),this.createDataWithErrorHandling(xe.GX.COUPONCLIPPING),this.createDataWithErrorHandling(xe.GX.PRODUCTHISTORY),this.createDataWithErrorHandling(xe.GX.REWARD);case 13:case"end":return t.stop()}}),t,this)}))),function(t){return s.apply(this,arguments)})},{key:"GetCashBackData",value:function(){var t;this.apiResponse&&(t=this.apiResponse.cashback);var e=this.flyoutData.dataLoader.GetLoadTimeDataValue("rebatesActive",!1),n=this.flyoutData.dataLoader.GetLoadTimeDataValue("isConfirmationPage",!1),i=this.flyoutData.dataLoader.GetLoadTimeDataValue("rebatesDeactivating",!1),r=this.flyoutData.dataLoader.GetLoadTimeDataValue("activateRebatesStatus",null);return new tn(t,e,n,i,this.flyoutData.experimentData,this.flyoutData.common.openedWith,this.flyoutData.common.domain,r)}},{key:"GetCouponData",value:function(){if(this.apiResponse){var t=this.flyoutData.dataLoader.GetLoadTimeDataValue("isAutoApplyAvailable",!1),e=this.apiResponse;return new cn(e,t,this.flyoutData.common.isCheckoutPage,this.flyoutData.common.currentDevice)}}},{key:"GetPriceComparisonData",value:function(){var t=this.flyoutData.dataLoader.GetLoadTimeDataValue("comparableOffers",void 0),e=this.flyoutData.dataLoader.GetLoadTimeDataValue("price",void 0),n=this.flyoutData.dataLoader.GetLoadTimeDataValue("extracted_entity",void 0);return new vn(t,e,n,this.flyoutData.common.openedWith,this.flyoutData.experimentData)}},{key:"GetPriceHistoryData",value:function(){var t,e=this.flyoutData.dataLoader.GetLoadTimeDataValue("priceHistory",void 0);if(e&&e.priceHistoryData&&e.productDetails){var n=this.flyoutData.dataLoader.GetLoadTimeDataValue("price",void 0),i=this.flyoutData.dataLoader.GetLoadTimeDataValue("base64ProductImage",void 0);t=new Sn(e,n,i,this.flyoutData.experimentData)}if(!t||0!==t.DailyPrices.length)return t}},{key:"GetCheckoutUserData",value:(a=(0,t.Z)(i().mark((function t(){var e,n,r,o,a,s,l,c,u,d,h;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.flyoutData.common.currentDevice!==xe.AS.Desktop||!this.flyoutData.experimentData.isExperimentActive(Qe.H.expressCheckout)){t.next=21;break}if(t.prev=1,!this.IsExpressCheckout(this.apiResponse)){t.next=16;break}return t.next=6,this.GetProfilesData().catch((function(t){}));case 6:return e=t.sent,t.next=9,this.GetPaymentsData().catch((function(t){}));case 9:if(n=t.sent,r=[],o=[],e){a=Bn(e);try{for(a.s();!(s=a.n()).done;)(l=s.value).City&&l.FullName&&l.Country&&l.State&&l.Zip&&l.Guid&&l.AddressLines&&"US"===l.Country.toUpperCase()&&r.push(l)}catch(t){a.e(t)}finally{a.f()}}if(n){c=Bn(n);try{for(c.s();!(u=c.n()).done;)(d=u.value).Guid&&d.MaskedCardNumber&&d.ExpMonth&&d.ExpYear&&o.push(d)}catch(t){c.e(t)}finally{c.f()}}return h=r.length>0&&o.length>0&&this.flyoutData.experimentData.isExperimentActive(Qe.H.expressCheckoutFillDetails),t.abrupt("return",new en(e,n,r,o,h));case 16:t.next=21;break;case 18:t.prev=18,t.t0=t.catch(1);case 21:return t.abrupt("return",void 0);case 22:case"end":return t.stop()}}),t,this,[[1,18]])}))),function(){return a.apply(this,arguments)})},{key:"GetRatingsAndReviewsData",value:function(){var t=this.flyoutData.dataLoader.GetLoadTimeDataValue("ratingReview",void 0),e=this.flyoutData.dataLoader.GetLoadTimeDataValue("extracted_entity",void 0);return Hn.create(t,e,this.flyoutData.experimentData)}},{key:"GetNudgeTipsData",value:function(){try{if(this.apiResponse){var t=this.apiResponse.retailerData;if(t){var e=t.tips,n=[];if(e){var i,r=Bn(e);try{for(r.s();!(i=r.n()).done;){var o=i.value;o&&n.push(new Zn(o.text,o.iconType,o.minimumPurchase,t,t.checkoutPageUrl))}}catch(t){r.e(t)}finally{r.f()}}return new un(n)}}}catch(t){}}},{key:"GetProfilesData",value:(o=(0,t.Z)(i().mark((function t(){var e,n,r,o,a;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.pageHandlerModule.GetProfilesData().catch((function(t){return Promise.reject("unable to find profiles.")}));case 2:if(e=t.sent,n=[],!(e&&e.length>0)){t.next=11;break}r=Bn(e);try{for(r.s();!(o=r.n()).done;)(a=o.value)&&n.push(new wn(a))}catch(t){r.e(t)}finally{r.f()}return t.abrupt("return",Promise.resolve(n));case 11:return t.abrupt("return",Promise.reject("can not find profiles"));case 12:case"end":return t.stop()}}),t,this)}))),function(){return o.apply(this,arguments)})},{key:"GetPaymentsData",value:(r=(0,t.Z)(i().mark((function t(){var e,n,r,o,a;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.pageHandlerModule.GetPaymentsData().catch((function(t){return Promise.reject("unable to find payments.")}));case 2:if(e=t.sent,n=[],!e){t.next=11;break}r=Bn(e);try{for(r.s();!(o=r.n()).done;)(a=o.value)&&n.push(new dn(a))}catch(t){r.e(t)}finally{r.f()}return t.abrupt("return",Promise.resolve(n));case 11:return t.abrupt("return",Promise.reject("can not find payments"));case 12:case"end":return t.stop()}}),t,this)}))),function(){return r.apply(this,arguments)})},{key:"GetProductHistoryData",value:function(){var t=this.flyoutData.dataLoader.GetLoadTimeDataValue("webAssistEntities",void 0),e=[];return t&&t.length>0&&t.forEach((function(t){e.push(new En(t))})),e}},{key:"GetRewardData",value:function(){try{if(this.apiResponse){var t=this.apiResponse.rewards,e=this.flyoutData.dataLoader.GetLoadTimeDataValue("activateRewardsStatus",null);if(t)return new Fn(t,e,this.flyoutData.common.openedWith,this.flyoutData.experimentData)}}catch(t){}}},{key:"createDataWithErrorHandling",value:(n=(0,t.Z)(i().mark((function t(e){var n;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.prev=0,t.t0=e,t.next=t.t0===xe.GX.CASHBACK?4:t.t0===xe.GX.COUPON?6:t.t0===xe.GX.PRICECOMPARISON?8:t.t0===xe.GX.PRICEHISTORY?10:t.t0===xe.GX.NUDGETIPSDATA?12:t.t0===xe.GX.CHECKOUTAUTOFILL?14:t.t0===xe.GX.RATINGSANDREVIEWS?18:t.t0===xe.GX.PRODUCTHISTORY?20:t.t0===xe.GX.REWARD?23:25;break;case 4:return this.flyoutData.dataStoreModule.CashBackData=this.GetCashBackData(),t.abrupt("break",25);case 6:return this.flyoutData.dataStoreModule.CouponData=this.GetCouponData(),t.abrupt("break",25);case 8:return this.flyoutData.dataStoreModule.PriceComparisonData=this.GetPriceComparisonData(),t.abrupt("break",25);case 10:return this.flyoutData.dataStoreModule.PriceHistoryData=this.GetPriceHistoryData(),t.abrupt("break",25);case 12:return this.flyoutData.dataStoreModule.NudgeTipsData=this.GetNudgeTipsData(),t.abrupt("break",25);case 14:return t.next=16,this.GetCheckoutUserData();case 16:return this.flyoutData.dataStoreModule.CheckoutUserData=t.sent,t.abrupt("break",25);case 18:return this.flyoutData.dataStoreModule.RatingsAndReviewsData=this.GetRatingsAndReviewsData(),t.abrupt("break",25);case 20:return this.flyoutData.dataStoreModule.ProductHistoryData=this.GetProductHistoryData(),t.abrupt("break",25);case 23:return this.flyoutData.dataStoreModule.RewardData=this.GetRewardData(),t.abrupt("break",25);case 25:t.next=31;break;case 27:t.prev=27,t.t1=t.catch(0),n=new ge.Z(ve.xu.OnErrorInvoked),this.logModule.LogErrorEvent(ve.R.EdgeFlyoutStatus,"Data creation Exception: ".concat(e," ").concat(Je.Z.getErrorString(t.t1)),n);case 31:case"end":return t.stop()}}),t,this,[[0,27]])}))),function(t){return n.apply(this,arguments)})},{key:"IsExpressCheckout",value:function(t){return!!(t&&t.checkoutData&&t.checkoutData.isExpressCheckoutEnabled&&this.flyoutData.common.pageStatus.ExpressCheckoutStatus)}},{key:"getDomainNameFromUrl",value:function(t){try{var e,n=new URL(t);return n&&n.hostname&&(e=this.getDomainNameFromHostname(n.hostname)),e}catch(t){}return null}},{key:"getDomainNameFromHostname",value:function(t){if(!t)return"";var e=t.toLowerCase().match(/(w){3}.?\./);return e&&null!=e.index&&e[0]?t.substring(e.index+e[0].length):t}}]),e}(),Vn=function t(){(0,ye.Z)(this,t),(0,Se.Z)(this,"CouponData",void 0),(0,Se.Z)(this,"PriceComparisonData",void 0),(0,Se.Z)(this,"PriceHistoryData",void 0),(0,Se.Z)(this,"CashBackData",void 0),(0,Se.Z)(this,"ApiData",void 0),(0,Se.Z)(this,"CheckoutUserData",void 0),(0,Se.Z)(this,"NudgeTipsData",void 0),(0,Se.Z)(this,"RatingsAndReviewsData",void 0),(0,Se.Z)(this,"ProductHistoryData",void 0),(0,Se.Z)(this,"RewardData",void 0)},Gn=function t(){(0,ye.Z)(this,t),(0,Se.Z)(this,"name",void 0),(0,Se.Z)(this,"supported",void 0)},jn=function(){function t(){(0,ye.Z)(this,t),(0,Se.Z)(this,"experiments",void 0),(0,Se.Z)(this,"experimentsSet",void 0),this.experiments=[],this.experimentsSet=new Set}return(0,Ce.Z)(t,[{key:"Create",value:function(t){var e=this,n=[];if(t&&t.length>0){var i=Object.values(Qe.H);t.forEach((function(t){var r=new Gn;r.name=t.name,r.supported=!1,i.includes(t.name)&&(r.supported=!0,e.experimentsSet.add(t.name)),n.push(r)}))}this.experiments=n}},{key:"CreateFromJsonStr",value:function(t){try{if(t){var e=JSON.parse(t);this.Create(e)}}catch(t){}}},{key:"isExperimentActive",value:function(t){return this.experimentsSet.has(t)}}]),t}(),zn=function(){function t(e){(0,ye.Z)(this,t),(0,Se.Z)(this,"couponEmptyCouponSubTitle","We couldn't find any coupons at this time."),(0,Se.Z)(this,"couponEmptyCouponTitle","Check back for coupons!"),(0,Se.Z)(this,"couponAutoApplyButton","Try all Coupons"),(0,Se.Z)(this,"pcBestPriceHeader","You have the best price!"),(0,Se.Z)(this,"pcShowMoreSellers","Show more sellers"),(0,Se.Z)(this,"pcLowest","Lowest"),(0,Se.Z)(this,"pcNotificationSeeMoreInfo","See more info"),(0,Se.Z)(this,"pcNotificationVisitItem","Visit item"),(0,Se.Z)(this,"commonCMAutoShowDisable","Don't show this automatically"),(0,Se.Z)(this,"commonCMAutoShowEnable","Show this flyout automatically"),(0,Se.Z)(this,"commonCMManage","Manage"),(0,Se.Z)(this,"commonMoreOptionsLabel","More options"),(0,Se.Z)(this,"couponCopied","Copied"),(0,Se.Z)(this,"couponCopyLabel","Copy code"),(0,Se.Z)(this,"couponSectionTextSingle","1 coupon available"),(0,Se.Z)(this,"couponSectionTitle","1 coupon"),(0,Se.Z)(this,"couponSectionTitleWithExpressCheckout","Apply Coupons"),(0,Se.Z)(this,"couponTitle","Coupons found!"),(0,Se.Z)(this,"couponSubtitle","Let's see if we can find you a coupon"),(0,Se.Z)(this,"couponAutoApplyWithoutCB","Try all coupons without cash back"),(0,Se.Z)(this,"commonFixedTitle","Shopping in Microsoft Edge"),(0,Se.Z)(this,"commonFrom","from"),(0,Se.Z)(this,"commonMicrosoftPolicy","Microsoft Privacy Statement"),(0,Se.Z)(this,"commonClose","Close"),(0,Se.Z)(this,"pcPriceSectionTitle","Compare with other retailers"),(0,Se.Z)(this,"pcProductImage","Product Image"),(0,Se.Z)(this,"freFooter","You can turn this off anytime in <a id=anchorSettings class=txtSmall>Settings</a>"),(0,Se.Z)(this,"freTitle","New in this update"),(0,Se.Z)(this,"freSubTitle","Sit back and shop with confidence! We'll search our shopping service and find you the best coupons across online retailers."),(0,Se.Z)(this,"freButton","Got it, thanks!"),(0,Se.Z)(this,"freDismiss","Not now"),(0,Se.Z)(this,"freSettings","Settings"),(0,Se.Z)(this,"cbActivateButton","Activate cash back"),(0,Se.Z)(this,"cbBingActivateButton","Join now and activate cash back"),(0,Se.Z)(this,"cbActivatedButton","Cash back is activated!"),(0,Se.Z)(this,"cbLearnMore","See offer details"),(0,Se.Z)(this,"cbConfirmationTitle","Thanks for shopping with Bing Rebates!"),(0,Se.Z)(this,"cbConfirmationMessage","You'll get cash back for any eligible purchases. We'll let you know in the next few days."),(0,Se.Z)(this,"cbTurnedOffTitle","Bing Rebates was turned off for this purchase"),(0,Se.Z)(this,"cbTurnedOffMessage","Sometimes this happens when you use another coupon or rebates service. But you can easily turn it back on to earn cash back."),(0,Se.Z)(this,"cbEnableRebatesButton","Activate Bing Rebates"),(0,Se.Z)(this,"cbDontFindAutomatically","Don't find rebates automatically"),(0,Se.Z)(this,"cbFindAutomatically","Show rebates when available"),(0,Se.Z)(this,"cbPreviousTransactions","See previous transactions on Bing Rebates"),(0,Se.Z)(this,"cbRebatesOff","off"),(0,Se.Z)(this,"cbRebatesOn","on"),(0,Se.Z)(this,"cbCommisionDisclaimer","Microsoft may earn an affiliate commission if you use coupon codes on this page"),(0,Se.Z)(this,"cbNonStackableCoupon","This coupon can't be used with Bing Rebates"),(0,Se.Z)(this,"cbGotIt","Got it"),(0,Se.Z)(this,"cbErrorMessage","Cash back activation failed"),(0,Se.Z)(this,"cbProcessing","Processing"),(0,Se.Z)(this,"cbPrivacyMessageUp","Bing Rebates is part of Microsoft Rewards, a free program that rewards you for searching, shopping, and playing with Microsoft."),(0,Se.Z)(this,"cbPrivacyMessageDown"," You will receive emails about Microsoft Rewards, which include offers about Microsoft and partner products."),(0,Se.Z)(this,"cbPrivacyMessageLearn","Learn more about Rewards"),(0,Se.Z)(this,"cbPrivacyMessageTerm","Terms | Privacy & Cookies"),(0,Se.Z)(this,"cbMergedSingularTitle","We found 1 coupon and up to $2 cash back!"),(0,Se.Z)(this,"bannerFoundBestPrice","We've found |a better| price!"),(0,Se.Z)(this,"bannerYouHaveBestPrice","You have |the best price!|"),(0,Se.Z)(this,"bannerSubTitleFlyout","Click below to copy a coupon code, or we can help auto apply at check out!"),(0,Se.Z)(this,"bannerShowPriceHistory","Show price history"),(0,Se.Z)(this,"bannerSeeDetails","See details"),(0,Se.Z)(this,"bannerViewAll","View all"),(0,Se.Z)(this,"bannerVisitItem","Visit item in new tab"),(0,Se.Z)(this,"bannerLearnMore","Learn more"),(0,Se.Z)(this,"bannerViewAllCouponsSingular","View coupon"),(0,Se.Z)(this,"getDeal","Get Deal"),(0,Se.Z)(this,"dealsTitle","Trending deals on $1"),(0,Se.Z)(this,"phTitlePriceDropped","The price on this product has dropped!"),(0,Se.Z)(this,"phTitlePriceIncrease","The price on this product has increased"),(0,Se.Z)(this,"phTitleStable","The price on this product is stable"),(0,Se.Z)(this,"phToday","today"),(0,Se.Z)(this,"phLow","low"),(0,Se.Z)(this,"phHigh","high"),(0,Se.Z)(this,"phMedian","median"),(0,Se.Z)(this,"rrExpertAndVideoReviews","Expert reviews and related videos"),(0,Se.Z)(this,"rrExpertReviews","Expert reviews"),(0,Se.Z)(this,"rrVideoReviews","Related videos"),(0,Se.Z)(this,"checkoutChange","Change"),(0,Se.Z)(this,"checkoutPickUp","Pick up"),(0,Se.Z)(this,"checkoutStdDelivery","Std. Delivery"),(0,Se.Z)(this,"checkoutShippingAddress","Shipping address:"),(0,Se.Z)(this,"checkoutPaymentInfo","Payment info:"),(0,Se.Z)(this,"checkoutEnterCVV","Enter CVV"),(0,Se.Z)(this,"checkoutSameBilling","Billing address is same as shipping address"),(0,Se.Z)(this,"checkoutSaveAndCheckout","Save time and money with express checkout"),(0,Se.Z)(this,"checkoutFillOnly","Quick and easy checkout"),(0,Se.Z)(this,"prodHSectionTitle","Your recently viewed items"),(0,Se.Z)(this,"similarSellerNotificationError","Failed to add product!"),(0,Se.Z)(this,"similarSellerStringCollapsed","Other Amazon sellers found!"),(0,Se.Z)(this,"similarSellerAddToCartTitle","Add to cart"),(0,Se.Z)(this,"similarSellerAddedToCartTitle","Added to cart"),(0,Se.Z)(this,"similarSellerShipFromString","Ship from: "),(0,Se.Z)(this,"similarSellerSoldBy","Sold by: "),(0,Se.Z)(this,"similarSellerRatingLabel","Rating: "),(0,Se.Z)(this,"similarSellerFreeDelivery","FREE Delivery"),(0,Se.Z)(this,"tipsFeedbackText","Do you find tips useful?"),(0,Se.Z)(this,"tipsTiltleSingle","1 tip found!"),(0,Se.Z)(this,"tipsSubTitleSingle","1 tip found"),(0,Se.Z)(this,"tipsLike","Like Tips"),(0,Se.Z)(this,"tipsDislike","Dislike Tips"),(0,Se.Z)(this,"cbMainTitleOff","Get up to $1 cash back!"),(0,Se.Z)(this,"cbMainTitleOn","You're earning up to $1 cash back!"),(0,Se.Z)(this,"cbMainTitleOnStoreWide","You're earning up to $1 cash back storewide!"),(0,Se.Z)(this,"cbPersonalized","Earn $1 cash back on:<br>$2"),(0,Se.Z)(this,"cbTitleSignIn","Get up to $1 cash back with Bing Rebates!"),(0,Se.Z)(this,"cbTitleSignInOn","You're earning up to $1 cash back with Bing Rebates!"),(0,Se.Z)(this,"cbPromotionsSubTitle","And up to $1 cash back"),(0,Se.Z)(this,"cbPromotionsSubTitleStoreWide","And up to $1 cash back storewide"),(0,Se.Z)(this,"cbCashBackOnOff","Cash back is $1"),(0,Se.Z)(this,"cbAmountAvailable","Bing Rebates available cash: $1"),(0,Se.Z)(this,"bannerFoundCoupons","We've found |$1 coupons| for this site!"),(0,Se.Z)(this,"bannerFoundCouponsSingular","We've found |1 coupon| for this site!"),(0,Se.Z)(this,"bannerPriceDropTitle","There was a |$1 price drop| for this product"),(0,Se.Z)(this,"bannerPriceIncreaseTitle","There was a |$1 price increase| for this product"),(0,Se.Z)(this,"bannerPriceStableTitle","There have been |no drastic price changes| for this product"),(0,Se.Z)(this,"bannerCouponSingularTitle","Shoppers save money |$1%| of the time with this coupon"),(0,Se.Z)(this,"bannerCouponPluralTitle","Shoppers save money |$1%| of the time with these coupons"),(0,Se.Z)(this,"bannerCashBackOffTitle","You could be earning |$1 cash back!|"),(0,Se.Z)(this,"bannerCashBackOnTitle","|Cash back is on!| You're earning up to $1 cash back!"),(0,Se.Z)(this,"privacyConsent","I consent to the placement of cookies on my browser to facilitate billing with the coupon provider as per "),(0,Se.Z)(this,"sectionSeeMore","See more ($1)"),(0,Se.Z)(this,"FREFooter","You can turn this off anytime in $1"),(0,Se.Z)(this,"couponSectionPluralTitle","$1 coupons"),(0,Se.Z)(this,"couponSectionText","$1 coupons available"),(0,Se.Z)(this,"couponSuccessful","$1% successful"),(0,Se.Z)(this,"triviaTitle","On average, our users save $1 every day on $2"),(0,Se.Z)(this,"clippingMainTitle","Save $1 with this coupon"),(0,Se.Z)(this,"clippingSubTitle","Click below to save |$1%| on this item at checkout"),(0,Se.Z)(this,"defaultClippingTitle","Save money with this coupon"),(0,Se.Z)(this,"defaultClippingSubTitle","Click below to save on this item at checkout"),(0,Se.Z)(this,"bannerSave","Save $1 at $2"),(0,Se.Z)(this,"bannerViewAllCoupons","View all $1 coupons"),(0,Se.Z)(this,"pcNotificationTitle","You can save $1"),(0,Se.Z)(this,"savingsHeader","You can save $1"),(0,Se.Z)(this,"pcLowestPriceAria","$1, current price on $2"),(0,Se.Z)(this,"pcCurrentPriceAria","$1, higher price on this page"),(0,Se.Z)(this,"cbNotificationYoucouldEarn","You could be earning up to $1 cash back!"),(0,Se.Z)(this,"cbPromotionsOn","Earn $1 bonus from Microsoft"),(0,Se.Z)(this,"cbPromotionsOnSubHeader","on first eligible purchase!"),(0,Se.Z)(this,"cbPromotionsOff","Earn $1 bonus from Microsoft"),(0,Se.Z)(this,"cbPreviousCashBackDate","last received on $1"),(0,Se.Z)(this,"cbMergedTitle","We found $1 coupons and up to $2 cash back!"),(0,Se.Z)(this,"rewardFailedSignin","Sign in Unsuccessful"),(0,Se.Z)(this,"rewardTitleDefault","Get Microsoft Rewards"),(0,Se.Z)(this,"rewardTitleEarnedMaximum","You've earned 5000 points!"),(0,Se.Z)(this,"rewardTitleRewardsAdded","You got Microsoft Rewards!"),(0,Se.Z)(this,"rewardTitleRewardTwo","Save $$ and earn rewards!"),(0,Se.Z)(this,"rewardPointMax","5000"),(0,Se.Z)(this,"rewardPerMaxPoint","/5000"),(0,Se.Z)(this,"rewardZeroPoint","0/5000"),(0,Se.Z)(this,"rewardDetailPart1","Get 20 reward points each time you activate cash back. "),(0,Se.Z)(this,"rewardDetailPart2"," for gift cards, exclusive offers and more."),(0,Se.Z)(this,"rewardDetailTwo","Click Microsoft Edge’s little blue tag to find"),(0,Se.Z)(this,"rewardSignIn","Sign in to redeem"),(0,Se.Z)(this,"rewardRedeem","Redeem"),(0,Se.Z)(this,"rewardRedeemPoints","Redeem points"),(0,Se.Z)(this,"rewardAdditionalLink","Activate cash back on additional sites for more points"),(0,Se.Z)(this,"rewardButtonTitle","Learn more"),(0,Se.Z)(this,"rewardCoupons","Coupons"),(0,Se.Z)(this,"rewardCashback","Cashback"),(0,Se.Z)(this,"rewardRewards","Rewards"),(0,Se.Z)(this,"rewardAssociateSignIn","Sign in"),(0,Se.Z)(this,"rewardAssociateDetails"," to get 20 reward points each time you activate cash back"),(0,Se.Z)(this,"similarSellerString","Save $1 if you buy from a different Amazon seller!"),(0,Se.Z)(this,"similarSellerNotificationTitle","You saved $1"),(0,Se.Z)(this,"cbNotificationLogo","$1 logo"),(0,Se.Z)(this,"similarSellerAddToCartAriaLable","Add to cart from other seller, Product price: $1, Product condition: $2"),(0,Se.Z)(this,"tipsMainTitle","$1 tips found!"),(0,Se.Z)(this,"tipsSubTitle","$1 tips found"),(0,Se.Z)(this,"tipsFreeShipping","Get free shipping with a minimum purchase of $1"),(0,Se.Z)(this,"dataLoader",void 0),this.dataLoader=e}return(0,Ce.Z)(t,[{key:"Create",value:function(t){if(t===xe.AS.Desktop){var e=this.dataLoader;this.commonCMAutoShowDisable=e.GetString("contextMenuAutoShowDisable",this.commonCMAutoShowDisable),this.commonCMAutoShowEnable=e.GetString("contextMenuAutoShowEnable",this.commonCMAutoShowEnable),this.commonCMManage=e.GetString("contextMenuManage",this.commonCMManage),this.commonMoreOptionsLabel=e.GetString("moreOptionsLabel",this.commonMoreOptionsLabel),this.commonFixedTitle=e.GetString("fixedTitle",this.commonFixedTitle),this.commonFrom=e.GetString("from",this.commonFrom),this.commonMicrosoftPolicy=e.GetString("microsoftPolicy",this.commonMicrosoftPolicy),this.commonClose=e.GetString("closeLabel",this.commonClose),this.couponEmptyCouponSubTitle=e.GetString("EmptyCouponSubTitle",this.couponEmptyCouponSubTitle),this.couponEmptyCouponTitle=e.GetString("EmptyCouponTitle",this.couponEmptyCouponTitle),this.couponAutoApplyButton=e.GetString("autoApplyButton",this.couponAutoApplyButton),this.couponCopied=e.GetString("copyCoupon",this.couponCopied),this.couponCopyLabel=e.GetString("copyCodeLabel",this.couponCopyLabel),this.couponSectionTitle=e.GetString("couponSectionSingularTitle",this.couponSectionTitle),this.couponSectionTextSingle=e.GetString("couponSectionTextSingle",this.couponSectionTextSingle),this.couponSectionTitleWithExpressCheckout=e.GetString("couponSectionTitleWithExpressCheckout",this.couponSectionTitleWithExpressCheckout),this.couponTitle=e.GetString("couponTitleNew",this.couponTitle),this.couponSubtitle=e.GetString("couponSubtitle",this.couponSubtitle),this.pcBestPriceHeader=e.GetString("bestPriceHeader",this.pcBestPriceHeader),this.pcShowMoreSellers=e.GetString("showMoreSellersLabel",this.pcShowMoreSellers),this.pcNotificationSeeMoreInfo=e.GetString("pcNotificationSeeMoreInfo",this.pcNotificationSeeMoreInfo),this.pcLowest=e.GetString("pcLowest",this.pcLowest),this.pcNotificationVisitItem=e.GetString("pcNotificationVisitItem",this.pcNotificationVisitItem),this.pcPriceSectionTitle=e.GetString("priceSectionTitle",this.pcPriceSectionTitle),this.cbActivateButton=e.GetString("activateCashBackButton",this.cbActivateButton),this.cbActivatedButton=e.GetString("cashBackActivatedButton",this.cbActivatedButton),this.cbLearnMore=e.GetString("learnMoreLabel",this.cbLearnMore),this.cbConfirmationTitle=e.GetString("rebatesThanksMessage",this.cbConfirmationTitle),this.cbConfirmationMessage=e.GetString("rebatesProcessingMessage",this.cbConfirmationMessage),this.cbTurnedOffTitle=e.GetString("rebatesTurnedOffMessage",this.cbTurnedOffTitle),this.cbTurnedOffMessage=e.GetString("rebatesTurnedOffNextSteps",this.cbTurnedOffMessage),this.cbEnableRebatesButton=e.GetString("activateRebatesButton",this.cbEnableRebatesButton),this.cbDontFindAutomatically=e.GetString("rebatesDontFindAutomatically",this.cbDontFindAutomatically),this.cbFindAutomatically=e.GetString("rebatesFindAutomatically",this.cbFindAutomatically),this.cbPreviousTransactions=e.GetString("rebatesSeeMore",this.cbPreviousTransactions),this.cbRebatesOn=e.GetString("rebatesOnAndPercent",this.cbRebatesOn),this.cbRebatesOff=e.GetString("rebatesOffAndPercent",this.cbRebatesOff),this.cbCommisionDisclaimer=e.GetString("rebatesCommissionDisclaimer",this.cbCommisionDisclaimer),this.cbNonStackableCoupon=e.GetString("rebatesNonStackable",this.cbNonStackableCoupon),this.cbProcessing=e.GetString("rebatesProcessing",this.cbProcessing),this.cbPrivacyMessageUp=e.GetString("rebatesPrivacyMessageUp",this.cbPrivacyMessageUp),this.cbPrivacyMessageDown=e.GetString("cbPrivacyMessageDown",this.cbPrivacyMessageDown),this.cbPrivacyMessageLearn=e.GetString("cbPrivacyMessageLearn",this.cbPrivacyMessageLearn),this.cbPrivacyMessageTerm=e.GetString("cbPrivacyMessageTerm",this.cbPrivacyMessageTerm),this.cbGotIt=e.GetString("rebatesGotIt",this.cbGotIt),this.cbErrorMessage=e.GetString("rebatesErrorMessage",this.cbErrorMessage),this.couponAutoApplyWithoutCB=e.GetString("cbMergedButton",this.couponAutoApplyWithoutCB),this.bannerFoundBestPrice=e.GetString("bannerPriceComparisonHeading",this.bannerFoundBestPrice),this.bannerYouHaveBestPrice=e.GetString("bannerYouHaveBestPrice",this.bannerYouHaveBestPrice),this.bannerSubTitleFlyout=e.GetString("rebatesCouponsDescriptions",this.bannerSubTitleFlyout),this.bannerSeeDetails=e.GetString("bannerSeeDetails",this.bannerSeeDetails),this.bannerShowPriceHistory=e.GetString("bannerShowPriceHistory",this.bannerShowPriceHistory),this.bannerLearnMore=e.GetString("bannerCouponHover",this.bannerLearnMore),this.bannerViewAll=e.GetString("bannerOpenFlyoutLabel",this.bannerViewAll),this.bannerVisitItem=e.GetString("bannerPriceComparisonHover",this.bannerVisitItem),this.bannerPriceStableTitle=e.GetString("bannerPriceStableTitle",this.bannerPriceStableTitle),this.bannerViewAllCouponsSingular=e.GetString("bannerViewAllCouponsSingular",this.bannerViewAllCouponsSingular),this.defaultClippingTitle=e.GetString("defaultClippingTitle",this.defaultClippingTitle),this.defaultClippingSubTitle=e.GetString("defaultClippingSubTitle",this.defaultClippingSubTitle),this.clippingMainTitle=e.GetString("clippingMainTitle",this.clippingMainTitle),this.clippingSubTitle=e.GetString("clippingSubTitle",this.clippingSubTitle),this.getDeal=e.GetString("getDeal",this.getDeal),this.phTitlePriceDropped=e.GetString("phTitlePriceDropped",this.phTitlePriceDropped),this.phTitlePriceIncrease=e.GetString("phTitlePriceIncrease",this.phTitlePriceIncrease),this.phTitleStable=e.GetString("phTitleStable",this.phTitleStable),this.phToday=e.GetString("phToday",this.phToday),this.phLow=e.GetString("phLow",this.phLow),this.phHigh=e.GetString("phHigh",this.phHigh),this.phMedian=e.GetString("phMedian",this.phMedian),this.rrExpertAndVideoReviews=e.GetString("rrExpertAndVideoReviews",this.rrExpertAndVideoReviews),this.rrExpertReviews=e.GetString("rrExpertReviews",this.rrExpertReviews),this.rrVideoReviews=e.GetString("rrVideoReviews",this.rrVideoReviews),this.checkoutChange=e.GetString("checkoutChange",this.checkoutChange),this.checkoutPickUp=e.GetString("checkoutPickUp",this.checkoutPickUp),this.checkoutStdDelivery=e.GetString("checkoutStdDelivery",this.checkoutStdDelivery),this.checkoutShippingAddress=e.GetString("checkoutShippingAddress",this.checkoutShippingAddress),this.checkoutPaymentInfo=e.GetString("checkoutPaymentInfo",this.checkoutPaymentInfo),this.checkoutEnterCVV=e.GetString("checkoutEnterCVV",this.checkoutEnterCVV),this.checkoutSameBilling=e.GetString("checkoutSameBilling",this.checkoutSameBilling),this.checkoutSaveAndCheckout=e.GetString("checkoutSaveAndCheckout",this.checkoutSaveAndCheckout),this.checkoutFillOnly=e.GetString("checkoutFillOnly",this.checkoutFillOnly),this.prodHSectionTitle=e.GetString("prodHSectionTitle",this.prodHSectionTitle),this.cbMainTitleOff=e.GetString("rebatesPercentage",this.cbMainTitleOff),this.cbMainTitleOn=e.GetString("rebatesPercentageEarn",this.cbMainTitleOn),this.cbMainTitleOnStoreWide=e.GetString("rebatesPercentageEarnStorewide",this.cbMainTitleOnStoreWide),this.cbPromotionsSubTitle=e.GetString("subRebatesPercentageEarn",this.cbPromotionsSubTitle),this.cbPromotionsSubTitleStoreWide=e.GetString("subRebatesPercentageEarnStorewide",this.cbPromotionsSubTitleStoreWide),this.cbTitleSignIn=e.GetString("cbMergedTitleSignIn",this.cbTitleSignIn),this.cbTitleSignInOn=e.GetString("cbMergedTitleSignInOn",this.cbTitleSignInOn),this.cbPersonalized=e.GetString("rebatesPersonalizedTitle",this.cbPersonalized),this.cbCashBackOnOff=e.GetString("rebatesOnAndOffPrefix",this.cbCashBackOnOff),this.cbAmountAvailable=e.GetString("rebatesAmountAvailable",this.cbAmountAvailable),this.bannerPriceDropTitle=e.GetString("bannerPriceDropTitle",this.bannerPriceDropTitle),this.bannerPriceIncreaseTitle=e.GetString("bannerPriceIncreaseTitle",this.bannerPriceIncreaseTitle),this.bannerCouponSingularTitle=e.GetString("bannerCouponSingularTitle",this.bannerCouponSingularTitle),this.bannerFoundCoupons=e.GetString("bannerCouponHeadingLabel",this.bannerFoundCoupons),this.bannerFoundCouponsSingular=e.GetString("bannerCouponHeadingLabelSingular",this.bannerFoundCouponsSingular),this.bannerCouponPluralTitle=e.GetString("bannerCouponPluralTitle",this.bannerCouponPluralTitle),this.bannerCashBackOffTitle=e.GetString("bannerCashBackOffTitle",this.bannerCashBackOffTitle),this.bannerCashBackOnTitle=e.GetString("bannerCashBackOnTitle",this.bannerCashBackOnTitle),this.couponSectionPluralTitle=e.GetString("couponSectionPluralTitle",this.couponSectionPluralTitle),this.couponSectionText=e.GetString("couponSectionText",this.couponSectionText),this.privacyConsent=e.GetString("privacyConsent",this.privacyConsent),this.savingsHeader=e.GetString("savingsHeader",this.savingsHeader),this.sectionSeeMore=e.GetString("sectionSeeMore",this.sectionSeeMore),this.FREFooter=e.GetString("FREFooter",this.FREFooter),this.bannerSave=e.GetString("bannerSave",this.bannerSave),this.bannerViewAllCoupons=e.GetString("bannerViewAllCoupons",this.bannerViewAllCoupons),this.cbNotificationYoucouldEarn=e.GetString("cbNotificationYoucouldEarn",this.cbNotificationYoucouldEarn),this.pcNotificationTitle=e.GetString("pcNotificationTitle",this.pcNotificationTitle),this.pcLowestPriceAria=e.GetString("pcLowestPriceAria",this.pcLowestPriceAria),this.pcCurrentPriceAria=e.GetString("pcCurrentPriceAria",this.pcCurrentPriceAria),this.cbPromotionsOn=e.GetString("cbPromotionsOn",this.cbPromotionsOn),this.cbPromotionsOff=e.GetString("cbPromotionsOff",this.cbPromotionsOff),this.couponSuccessful=e.GetString("couponSuccessful",this.couponSuccessful),this.triviaTitle=e.GetString("triviaTitle",this.triviaTitle),this.cbMergedTitle=e.GetString("rebatesFoundCouponsAndCashback",this.cbMergedTitle),this.cbMergedSingularTitle=e.GetString("rebatesFoundCouponsAndCashbackSingular",this.cbMergedSingularTitle),this.cbPreviousCashBackDate=e.GetString("previousCashbackDate",this.cbPreviousCashBackDate),this.cbNotificationLogo=e.GetString("rebatesNotificationLogo",this.cbNotificationLogo)}}}]),t}(),Wn=function(){function e(t,n){(0,ye.Z)(this,e),(0,Se.Z)(this,"dataLoader",void 0),(0,Se.Z)(this,"common",new we),(0,Se.Z)(this,"strings",void 0),(0,Se.Z)(this,"dataStoreModule",new Vn),(0,Se.Z)(this,"experimentData",new jn),this.dataLoader=n,this.strings=new zn(n),this.strings.Create(t);var i=n.GetLoadTimeDataValue(he.EnabledFeatures,void 0);this.experimentData.Create(i),this.common.Create(t,n)}var n;return(0,Ce.Z)(e,[{key:"initializeModuleData",value:(n=(0,t.Z)(i().mark((function t(e,n,r){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,new Un(e,n).InitializeData(r);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)}))),function(t,e,i){return n.apply(this,arguments)})}]),e}();function Yn(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=(0,De.Z)(t);if(e){var r=(0,De.Z)(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return(0,ke.Z)(this,n)}}var qn,Xn=function(t){(0,Ie.Z)(n,t);var e=Yn(n);function n(){var t;return(0,ye.Z)(this,n),(t=e.call(this)).IsV2Data=!1,t}return(0,Ce.Z)(n,[{key:"GetLoadTimeDataValue",value:function(t,e){try{return loadTimeData.valueExists(t)?loadTimeData.getValue(t):e}catch(t){}return e}},{key:"GetString",value:function(t,e){try{return loadTimeData.valueExists(t)?loadTimeData.getValue(t)!==e?e:loadTimeData.getValue(t):e}catch(t){}return e}}]),n}(function(){function t(){(0,ye.Z)(this,t),(0,Se.Z)(this,"IsV2Data",void 0)}return(0,Ce.Z)(t,[{key:"IsServerData",value:function(){return this.IsV2Data}}]),t}()),Kn=n(8466),Qn=n(1640),Jn=n(3082),ti=function(){function t(){(0,ye.Z)(this,t)}return(0,Ce.Z)(t,[{key:"getStyles",value:function(){return"\n        html {\n            overflow: hidden;\n        }\n        .btnBannerPrimary {\n            background: #0078D4;\n            border: none;\n            border-radius: 2px;\n            color: #FFFFFF;\n            min-height: 32px;\n            height: auto;\n            padding: 10px 24px;\n            text-align: center;\n            align-items: center;\n            justify-content: center;\n            display: flex;\n            border-width: 0px;\n            cursor: pointer;\n            font-family: 'Segoe UI','Roboto', Helvetica, Verdana, sans-serif;\n            font-size: 12px;\n            line-height: 12px;\n            font-weight: bold;\n            outline: none;\n        }\n        .btnBannerPrimary:focus-visible {\n            border-color: #000000;\n            box-shadow: 0 0 0px 2px #000000;\n        }\n        .btnBannerSecondary {\n            border: none;\n            border-radius: 2px;\n            min-height: 32px;\n            height: auto;\n            text-align: center;\n            align-items: center;\n            justify-content: center;\n            display: flex;\n            cursor: pointer;\n            background: rgba(0, 0, 0, 0.07);\n            font-family: 'Segoe UI','Roboto', Helvetica, Verdana, sans-serif;\n            font-size: 12px;\n            line-height: 12px;\n            outline: none;\n            padding: 1px 15px;\n        }\n        .btnBannerSecondary:focus-visible {\n            border-color: #000000;\n            box-shadow: 0 0 0px 2px #000000;\n        }\n        #mainDiv {\n            display: grid;\n            grid-template-columns: auto auto auto auto;\n            position: fixed;\n            top: 0px;\n            left: 0px;\n            width: 100%;\n            height: 50px;\n            overflow-y: auto;\n            box-shadow: 0px 3.2px 7.2px rgba(0, 0, 0, 0.13), 0px 0px 3.8px rgba(0, 0, 0, 0.11);\n            z-index: 3000000000;\n        }\n        #divTitle {\n            display: grid;\n            grid-gap: 10px;\n            grid-template-columns: 1fr auto;\n            justify-self: start;\n            grid-column-start: 1;\n            align-items: center;\n            margin-left: 16px;\n            margin-right: 16px;\n        }\n        #divContent {\n            display: flex;\n            flex-direction: row;\n            justify-content: center;\n            justify-self: flex-end;\n            align-items: center;\n            grid-column-start: 4;\n            grid-gap: 10px;\n            margin-left: 5px;\n            margin-right: 5px;\n        }\n        .txtSmall {\n            font-family: 'Segoe UI','Roboto', Helvetica, Verdana, sans-serif;\n            font-size: 14px;\n            line-height: 22px;\n            margin: 0px;\n        }\n        .copiedIndicator {\n            display: flex;\n            flex-direction: row;\n            width: 100%;\n            height: 100%;\n            z-index: 1;\n            background-color: #0078D4;\n            position: absolute;\n            align-items: center;\n            justify-content: center;\n            position: absolute;\n            top: 50%;\n            left: 50%;\n            transform: translate(-50%, -50%);\n            padding: 0px;\n        }\n        .btnBannerClose {\n            width: 30px;\n            height: 30px;\n            display: flex;\n            align-items: center;\n            cursor: pointer;\n            appearance: none;\n            background: none;\n            border-width: 0px;\n            outline: none;\n        }\n        .btnBannerClose:focus-visible {\n            border-color: #000000;\n            box-shadow: 0 0 0px 2px #000000;\n            border-radius: 2px;\n        }\n        #btnDisableAutoShowBanner {\n            width: 0px;\n            overflow: hidden;\n            min-width: unset;\n            transition: width 2s;\n        }\n    "}},{key:"getColorfulBackgroundStyles",value:function(){return"\n            @media (prefers-color-scheme: dark) {\n                .txtSmall {\n                    color: #000000;\n                }\n                .txtMedium {\n                    color: #000000;\n                }\n                .txtLarge {\n                    color: #000000;\n                }\n                ::part(header-fixed-title) {\n                    color: #000000;\n                }\n                .aOfferDetails:hover::part(content)::before {\n                    background: #0078D4;\n                }\n                .aOfferDetails {\n                    color: #0078D4;\n                }\n            }"}}]),t}(),ei=n(1660),ni=n(8320);!function(t){t.CURRENT_TAB="CURRENT_TAB",t.NEW_FOREGROUND_TAB="NEW_FOREGROUND_TAB",t.NEW_BACKGROUND_TAB="NEW_BACKGROUND_TAB",t.NEW_WINDOW="NEW_WINDOW",t.NEW_IN_PRIVATE_TAB="NEW_IN_PRIVATE_TAB"}(qn||(qn={}));var ii=function(){function e(t,n,i,r,o,a,s){var l;(0,ye.Z)(this,e),(0,Se.Z)(this,"logModule",void 0),(0,Se.Z)(this,"pagehandlerModule",void 0),(0,Se.Z)(this,"data",void 0),(0,Se.Z)(this,"utilities",void 0),(0,Se.Z)(this,"stateManagement",void 0),(0,Se.Z)(this,"classBtnBannerPrimary","btnBannerPrimary"),(0,Se.Z)(this,"classSpanCouponCode","spanCouponCode"),(0,Se.Z)(this,"classDivActionButtonWrapper","divActionButtonWrapper"),(0,Se.Z)(this,"idMainDiv","mainDiv"),(0,Se.Z)(this,"idContent","divContent"),(0,Se.Z)(this,"idTitle","divTitle"),(0,Se.Z)(this,"idBtnFlyoutClose","btnFlyoutClose"),(0,Se.Z)(this,"classBtnBannerClose","btnBannerClose"),(0,Se.Z)(this,"classTxtSmall","txtSmall"),(0,Se.Z)(this,"classCopiedIndicator","copiedIndicator"),(0,Se.Z)(this,"classActionsButton","actionsButton"),(0,Se.Z)(this,"cashBackData",void 0),(0,Se.Z)(this,"isCashbackActivated",void 0),(0,Se.Z)(this,"cashBackModule",void 0),(0,Se.Z)(this,"priceHistoryModule",void 0),(0,Se.Z)(this,"priceComparisonModule",void 0),(0,Se.Z)(this,"couponsModule",void 0),(0,Se.Z)(this,"isPriceHistoryExperimentActive",void 0),(0,Se.Z)(this,"isPriceComparisonExperimentActive",void 0),(0,Se.Z)(this,"isCashBackExperimentActive",void 0),(0,Se.Z)(this,"isCouponsExperimentActive",void 0),(0,Se.Z)(this,"assets",void 0),this.logModule=s.logModule,this.pagehandlerModule=s.pageHandlerModule,this.cashBackModule=t,this.priceComparisonModule=n,this.priceHistoryModule=i,this.couponsModule=r,this.data=o,this.cashBackData=this.data.dataStoreModule.CashBackData,this.isCashbackActivated=null===(l=this.cashBackData)||void 0===l?void 0:l.isCashBackActivated,this.stateManagement=a,this.utilities=s.viewModulesUtilities,this.assets=new ti;var c=this.data.experimentData;this.isPriceHistoryExperimentActive=c.isExperimentActive(Qe.H.bannerShowPriceHistory),this.isPriceComparisonExperimentActive=c.isExperimentActive(Qe.H.bannerShowPriceComparison),this.isCashBackExperimentActive=c.isExperimentActive(Qe.H.bannerShowCashback),this.isCouponsExperimentActive=c.isExperimentActive(Qe.H.bannerShowCoupons)}return(0,Ce.Z)(e,[{key:"renderBanner",value:function(){this.utilities.applyStyles(this.data.common.shopping,this.assets.getStyles());var t=this.utilities.createElement("fluent-design-system-provider");this.data.common.currentTheme===xe.Q2.Dark?t.setAttribute("background-color","#4a4a4a"):t.setAttribute("background-color","#F7F7F7"),t.id=this.idMainDiv;var e=this.populateMainHeader(),n=this.getModuleToRender(),i=this.utilities.createElement("DIV");i.id=this.idContent;var r=this.utilities.createElement("P");r.className=this.classTxtSmall,this.createBannerContent(n,i,r),this.createBannerMenu(i),t.appendChild(e),t.appendChild(i),this.data.common.shopping.appendChild(t);var o=new ge.Z(ve.xu.BannerRendered);this.logModule.LogInfoEvent(ve.R.EdgeFlyoutStatus,"user saw banner with ".concat(n),o)}},{key:"populateMainHeader",value:function(){var t=this.utilities.createElement("DIV");t.id=this.idTitle;var e=this.utilities.createElement("DIV");e.setAttribute("aria-hidden","true"),e.innerHTML=Je.Z.staticPolicy.createHTML((new be).getHeaderIcon());var n=e.querySelector("SVG");n&&(n.setAttribute("width","26px"),n.setAttribute("height","26px"));var i=this.utilities.createElement("H1");return i.className=this.classTxtSmall,i.textContent=this.data.strings.commonFixedTitle,t.appendChild(e),t.appendChild(i),t}},{key:"createBannerMenu",value:function(t){var e,n=this,i=document.createElement("fluent-button");i.setAttribute("aria-label",this.data.strings.commonClose),i.id=this.idBtnFlyoutClose,i.className=this.classBtnBannerClose,i.innerHTML=Je.Z.staticPolicy.createHTML((new be).getCloseButton()),i.addEventListener("click",(function(){e=new Jn.Z(ve.$S.BannerDismiss),n.logModule.LogInfoEvent(ve.R.ButtonClick,"Banner Dismissed",e),n.pagehandlerModule.DismissPopup()}));var r=i.querySelector("SVG");r&&r.setAttribute("aria-hidden","true"),t.appendChild(i)}},{key:"getModuleToRender",value:function(){switch(this.pagehandlerModule.TriggerExperiment(Qe.H.bannerShowPriceHistory),this.pagehandlerModule.TriggerExperiment(Qe.H.bannerShowPriceComparison),this.pagehandlerModule.TriggerExperiment(Qe.H.bannerShowCashback),this.pagehandlerModule.TriggerExperiment(Qe.H.bannerShowCoupons),this.stateManagement.getState(Qn.IY.topModuleName)){case xe.GX.PRICEHISTORY:if(this.isPriceHistoryExperimentActive)return xe.GX.PRICEHISTORY;break;case xe.GX.PRICECOMPARISON:if(this.isPriceComparisonExperimentActive)return xe.GX.PRICECOMPARISON;break;case xe.GX.CASHBACK:if(this.isCashBackExperimentActive)return xe.GX.CASHBACK;break;case xe.GX.COUPON:if(this.isCouponsExperimentActive)return xe.GX.COUPON}return this.isPriceHistoryExperimentActive&&this.priceHistoryModule.ShouldRenderModule()?xe.GX.PRICEHISTORY:this.isPriceComparisonExperimentActive&&this.priceComparisonModule.ShouldRenderModule()?xe.GX.PRICECOMPARISON:this.isCashBackExperimentActive&&this.cashBackModule.ShouldRenderModule()?this.isCashbackActivated&&this.isCouponsExperimentActive&&this.areCouponsHighSuccessRate()?xe.GX.COUPON:xe.GX.CASHBACK:xe.GX.COUPON}},{key:"areCouponsHighSuccessRate",value:function(){var t,e=this.data.dataStoreModule.CouponData;return!!this.couponsModule.ShouldRenderModule()&&(null!==(t=null==e?void 0:e.Coupons[0].successRate)&&void 0!==t?t:-1)>=75}},{key:"createBannerContent",value:function(t,e,n){switch(t){case xe.GX.PRICECOMPARISON:this.renderPriceComparison(e,n);break;case xe.GX.CASHBACK:this.renderCashBack(e,n);break;case xe.GX.PRICEHISTORY:this.renderPriceHistory(e,n);break;case xe.GX.COUPON:default:this.renderCoupons(e,n)}}},{key:"createBannerTitle",value:function(t,e,n,i){if(e&&e.length>0){if(t.innerHTML=window.trustedTypes.emptyHTML,t.textContent=e[0],e.length>1){var r=this.utilities.createElement(n,i);r.textContent=e[1],t.appendChild(r)}if(e.length>2){var o=this.utilities.createElement("P",{style:"display: inline;"});o.textContent=e[2],t.appendChild(o)}}}},{key:"getCouponTextInfo",value:function(t,e){if(t.Coupons[0].successRate>=75)if(t.Coupons.length>1&&(t.Coupons[1].successRate<75||!t.Coupons[1].successRate)){var n=this.data.strings.bannerCouponSingularTitle,i=(n=this.utilities.replaceValueInKey(n,t.Coupons[0].successRate.toString())).split("|");this.createBannerTitle(e,i,"B")}else{var r=t.Coupons[0].successRate;t.Coupons.length>1&&t.Coupons[0].successRate>t.Coupons[1].successRate&&(r=t.Coupons[1].successRate);var o=this.data.strings.bannerCouponPluralTitle,a=(o=this.utilities.replaceValueInKey(o,r.toString())).split("|");this.createBannerTitle(e,a,"B")}else if(1===t.Coupons.length){var s=this.data.strings.bannerFoundCouponsSingular.split("|");this.createBannerTitle(e,s,"P",{style:"display: inline; font-size:14px; font-weight:bold;"})}else{var l=this.data.strings.bannerFoundCoupons,c=(l=this.utilities.replaceValueInKey(l,t.Coupons.length.toString())).split("|");this.createBannerTitle(e,c,"P",{style:"display: inline; font-size:14px; font-weight:bold;"})}}},{key:"renderCoupons",value:function(t,e){var n=this,i=this.data.dataStoreModule.CouponData;if(i&&i.Coupons&&i.Coupons.length>0){var r;this.getCouponTextInfo(i,e),t.appendChild(e);var o=2;i.Coupons.length<o&&(o=i.Coupons.length);for(var a=this.data.strings.bannerLearnMore,s=null!==(r=i.Coupons[0].successRate>=75)&&void 0!==r&&r,l=0;l<o;l++)s&&i.Coupons[l].successRate>=75?this.createCouponCodeButtons(i,a,l,t):s||this.createCouponCodeButtons(i,a,l,t);var c=document.createElement("fluent-button");i.Coupons.length>1?c.textContent=this.utilities.replaceValueInKey(this.data.strings.bannerViewAllCoupons,i.Coupons.length.toString()):c.textContent=this.data.strings.bannerViewAllCouponsSingular,c.addEventListener("click",(function(){n.pagehandlerModule.StartShopping(xe.Te.Banner,"viewAll")})),t.appendChild(c)}}},{key:"createCouponCodeButtons",value:function(t,e,n,i){var r=this.createBannerButtonWrapper(t.Coupons[n].couponCode+" "+this.data.strings.couponCopyLabel),o=this.utilities.createElement("BUTTON");o.className=this.classBtnBannerPrimary;var a=this.utilities.createElement("SPAN");if(a.className=this.classSpanCouponCode,a.textContent=t.Coupons[n].couponCode,a.style.display="none",e.length>t.Coupons[n].couponCode.length){o.textContent=e,r.appendChild(o);var s=this.createHoverDiv(t.Coupons[n].couponCode,!1);s&&r.appendChild(s)}else{o.textContent=t.Coupons[n].couponCode,r.appendChild(o);var l=this.createHoverDiv(e,!0);l&&r.appendChild(l)}r.appendChild(a),i.appendChild(r),this.manageBannerEvents(r,xe.GX.COUPON)}},{key:"renderPriceComparison",value:function(t,e){var n=this,i=this.data.dataStoreModule.PriceComparisonData;if(i&&i.CompetingPrices&&i.CompetingPrices.length>0){var r=i.getIntendedPrice(i.CompetingPrices[0]),o=i.CompetingPrices[0].SellerName,a=i.CompetingPrices[0];-1!==i.Price&&i.CompetingPrices.forEach((function(t){var e=i.getIntendedPrice(t);e<r&&(r=e,o=t.SellerName,a=t)}));var s=i.Price-r;if(s>0){var l=this.data.strings.bannerFoundBestPrice.split("|");this.createBannerTitle(e,l,"P",{style:"display: inline; font-weight:bold; font-size:14px;"}),t.appendChild(e);var c=this.data.strings.bannerVisitItem,u=this.utilities.replaceValueInKey(this.data.strings.bannerSave,"$".concat(s.toFixed(2)),o),d=this.createBannerButtonWrapper(u+" "+c),h=this.utilities.createElement("BUTTON");if(h.className=this.classBtnBannerPrimary,c.length>u.length){h.textContent=c;var p=this.createHoverDiv(u,!1);d.appendChild(h),d.appendChild(p)}else{h.textContent=u;var f=this.createHoverDiv(c,!0);d.appendChild(h),d.appendChild(f)}t.appendChild(d),this.manageBannerEvents(d,xe.GX.PRICECOMPARISON,a)}else{var g=this.data.strings.bannerYouHaveBestPrice.split("|");this.createBannerTitle(e,g,"P",{style:"display: inline; font-weight:bold; font-size:14px;"}),t.appendChild(e)}var v=document.createElement("fluent-button");v.textContent=s>0?this.data.strings.bannerViewAll:this.data.strings.pcPriceSectionTitle,v.addEventListener("click",(function(){n.pagehandlerModule.StartShopping(xe.Te.Auto,"viewAllPC")})),t.appendChild(v)}}},{key:"renderCashBack",value:function(e,n){var r=this,o=this.data.dataStoreModule.CashBackData,a=this.cashBackModule.retrieveCashBackAmount(),s=this.utilities;if(a){if(null!=o&&o.isCashBackActivated){var l=this.data.strings.bannerCashBackOnTitle,c=(l=this.utilities.replaceValueInKey(l,a)).split("|");this.createBannerTitle(n,c,"B"),e.appendChild(n)}else{var u=this.data.strings.bannerCashBackOffTitle,d=(u=this.utilities.replaceValueInKey(u,a)).split("|");this.createBannerTitle(n,d,"B"),e.appendChild(n);var h=s.createElement("fluent-button");this.styleDefaultState(h),h.textContent=this.data.strings.cbActivateButton,h.addEventListener("click",function(){var e=(0,t.Z)(i().mark((function t(e){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r.cashBackModule.handleActivateCashbackClick(h,e,!1,"Cash back activated from banner");case 2:t.sent?(r.cashBackModule.styleActivatedState(h,!1),u=r.data.strings.bannerCashBackOnTitle,u=r.utilities.replaceValueInKey(u,a),d=u.split("|"),r.createBannerTitle(n,d,"B")):r.styleDefaultState(h);case 4:case"end":return t.stop()}}),t)})));return function(t){return e.apply(this,arguments)}}()),e.appendChild(h)}var p=document.createElement("fluent-button");p.textContent=this.data.strings.bannerSeeDetails,p.addEventListener("click",(function(){var t=new Jn.Z(ve.$S.RebatesLearnMore);r.pagehandlerModule.RecordAsUserAction(ni.b.REBATES_LEARN_MORE),r.logModule.LogInfoEvent(ve.R.ButtonClick,"User navigated to rebates see details from banner",t,ei.g.CouponImpressionId),r.pagehandlerModule.NavigateToLearnMore(qn.NEW_FOREGROUND_TAB)})),e.appendChild(p)}}},{key:"renderPriceHistory",value:function(t,e){var n=this,i=this.data.dataStoreModule.PriceHistoryData;if(i&&i.CurrentPrice&&i.DailyPrices&&i.DailyPrices.length>1){var r=i.getPriceHistoryType(),o=this.priceHistoryModule.createPriceHistoryTypeIllustration(r,!0);t.appendChild(o);var a,s=i.ProductDetails&&i.ProductDetails.currency&&""!==i.ProductDetails.currency?i.ProductDetails.currency:"$",l=this.priceHistoryModule.getPriceDifference(i,r);switch(r){case gn.PRICEDROP:l&&(a=this.data.strings.bannerPriceDropTitle,a=this.utilities.replaceValueInKey(a,"".concat(s).concat(l.toFixed(2))));break;case gn.PRICEINCREASE:l&&(a=this.data.strings.bannerPriceIncreaseTitle,a=this.utilities.replaceValueInKey(a,"".concat(s).concat(l.toFixed(2))));break;case gn.FAIRPRICE:default:a=this.data.strings.bannerPriceStableTitle}var c=a.split("|");this.createBannerTitle(e,c,"B"),t.appendChild(e);var u=document.createElement("fluent-button");u.textContent=this.data.strings.bannerShowPriceHistory,u.addEventListener("click",(function(){n.pagehandlerModule.StartShopping(xe.Te.Auto,"viewPriceHistory")})),t.appendChild(u)}}},{key:"styleDefaultState",value:function(t){t.style.minWidth="175px",t.appearance="accent",t.style.fontSize="14px",t.style.borderRadius="2px",t.style.marginTop="0px",t.style.height="32px",t.className+=" ".concat(this.classActionsButton),t.style.width="auto"}},{key:"removeFocusBanner",value:function(t){var e=t.querySelector(".".concat(this.classCopiedIndicator)),n=t.querySelector("BUTTON");e&&n&&("hidden"===e.style.visibility?e.style.visibility="visible":e.style.visibility="hidden")}},{key:"createBannerButtonWrapper",value:function(t){var e=this.utilities.createElement("DIV");return e.style.position="relative",e.className=this.classDivActionButtonWrapper,e.setAttribute("role","button"),e.setAttribute("aria-label",t),e}},{key:"manageBannerEvents",value:function(t,e,n){var i=this;t.addEventListener("mouseover",(function(){i.addFocusBanner(t)})),t.addEventListener("mouseout",(function(){i.removeFocusBanner(t)})),t.addEventListener("focusin",(function(){i.addFocusBanner(t)})),t.addEventListener("focusout",(function(){i.removeFocusBanner(t)})),t.addEventListener("click",(function(){if(e===xe.GX.COUPON){var r,o=null===(r=t.querySelector(".spanCouponCode"))||void 0===r?void 0:r.textContent;o&&i.pagehandlerModule.StartShopping(xe.Te.Auto,o)}else e===xe.GX.PRICECOMPARISON&&n&&i.priceComparisonModule.navigateToRetailer(n,qn.NEW_FOREGROUND_TAB)})),e===xe.GX.PRICECOMPARISON&&n&&t.addEventListener("mousedown",(function(t){switch(t.button){case 1:i.priceComparisonModule.navigateToRetailer(n,qn.NEW_FOREGROUND_TAB)}}))}},{key:"addFocusBanner",value:function(t){if(t.querySelector("BUTTON")){var e=t.querySelector(".".concat(this.classCopiedIndicator));e&&("hidden"===e.style.visibility?e.style.visibility="visible":e.style.visibility="hidden")}}},{key:"createHoverDiv",value:function(t,e){var n=this.utilities.createElement("DIV");n.className="".concat(this.classBtnBannerPrimary," ").concat(this.classCopiedIndicator);var i=this.utilities.createElement("SPAN");return i.textContent=t,n.style.visibility=e?"hidden":"visible",n.appendChild(i),n}}]),e}();class ri extends o.H{}(0,O.gn)([(0,a.Lj)({converter:a.Id})],ri.prototype,"value",void 0),(0,O.gn)([(0,a.Lj)({converter:a.Id})],ri.prototype,"min",void 0),(0,O.gn)([(0,a.Lj)({converter:a.Id})],ri.prototype,"max",void 0),(0,O.gn)([(0,a.Lj)({mode:"boolean"})],ri.prototype,"paused",void 0);const oi=c.d`
    <template
        role="progressbar"
        aria-valuenow="${t=>t.value}"
        aria-valuemin="${t=>t.min}"
        aria-valuemax="${t=>t.max}"
        class="${t=>t.paused?"paused":""}"
    >
        ${(0,h.g)((t=>"number"==typeof t.value),c.d`
                <svg
                    class="progress"
                    part="progress"
                    viewBox="0 0 16 16"
                    slot="determinate"
                >
                    <circle
                        class="background"
                        part="background"
                        cx="8px"
                        cy="8px"
                        r="7px"
                    ></circle>
                    <circle
                        class="determinate"
                        part="determinate"
                        style="stroke-dasharray: ${t=>44*t.value/100}px 44px"
                        cx="8px"
                        cy="8px"
                        r="7px"
                    ></circle>
                </svg>
            `)}
        ${(0,h.g)((t=>"number"!=typeof t.value),c.d`
                <slot name="indeterminate" slot="indeterminate">
                    <svg class="progress" part="progress" viewBox="0 0 16 16">
                        <circle
                            class="background"
                            part="background"
                            cx="8px"
                            cy="8px"
                            r="7px"
                        ></circle>
                        <circle
                            class="indeterminate-indicator-1"
                            part="indeterminate-indicator-1"
                            cx="8px"
                            cy="8px"
                            r="7px"
                        ></circle>
                    </svg>
                </slot>
            `)}
    </template>
`,ai=f.i`
  ${(0,g.j)("flex")} :host {
    align-items: center;
    outline: none;
    height: calc(${B.i} * 1px);
    width: calc(${B.i} * 1px);
    margin: calc(${B.i} * 1px) 0;
  }

  .progress {
    height: 100%;
    width: 100%;
  }

  .background {
    stroke: ${v.nE.var};
    fill: none;
    stroke-width: 2px;
  }

  .determinate {
    stroke: ${v.YK.var};
    fill: none;
    stroke-width: 2px;
    stroke-linecap: round;
    transform-origin: 50% 50%;
    transform: rotate(-90deg);
    transition: all 0.2s ease-in-out;
  }

  .indeterminate-indicator-1 {
    stroke: ${v.YK.var};
    fill: none;
    stroke-width: 2px;
    stroke-linecap: round;
    transform-origin: 50% 50%;
    transform: rotate(-90deg);
    transition: all 0.2s ease-in-out;
    animation: spin-infinite 2s linear infinite;
  }

  :host(.paused) .indeterminate-indicator-1 {
    animation-play-state: paused;
    stroke: ${v.nE.var};
  }

  :host(.paused) .determinate {
    stroke: ${v.oK.var};
  }

  @keyframes spin-infinite {
    0% {
      stroke-dasharray: 0.01px 43.97px;
      transform: rotate(0deg);
    }
    50% {
      stroke-dasharray: 21.99px 21.99px;
      transform: rotate(450deg);
    }
    100% {
      stroke-dasharray: 0.01px 43.97px;
      transform: rotate(1080deg);
    }
  }
`.withBehaviors(v.YK,v.nE,v.oK,(0,F.vF)(f.i`
      .indeterminate-indicator-1,
      .determinate {
        stroke: ${Z.H.FieldText};
      }
      .background {
        stroke: ${Z.H.Field};
      }
      :host(.paused) .indeterminate-indicator-1 {
        stroke: ${Z.H.Field};
      }
      :host(.paused) .determinate {
        stroke: ${Z.H.GrayText};
      }
    `));let si=class extends ri{};si=(0,R.gn)([(0,o.M)({name:"fluent-progress-ring",template:oi,styles:ai,shadowOptions:{mode:"closed"}})],si);var li=n(2697);function ci(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=(0,De.Z)(t);if(e){var r=(0,De.Z)(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return(0,ke.Z)(this,n)}}var ui=function(t){(0,Ie.Z)(n,t);var e=ci(n);function n(t,i,r,o,a){var s;return(0,ye.Z)(this,n),s=e.call(this),(0,Se.Z)((0,Ae.Z)(s),"CashbackCategory",void 0),(0,Se.Z)((0,Ae.Z)(s),"CashbackCommissionType",void 0),(0,Se.Z)((0,Ae.Z)(s),"CashbackCommissionValue",void 0),(0,Se.Z)((0,Ae.Z)(s),"Domain",void 0),(0,Se.Z)((0,Ae.Z)(s),"AffiliateNetworkName",void 0),s.CashbackCategory=null!=t?t:"",s.CashbackCommissionType=null!=i?i:"",s.CashbackCommissionValue=null!=r?r:"",s.Domain=null!=o?o:"",s.AffiliateNetworkName=null!=a?a:"",s}return n}(li.Z),di=function(){function t(){(0,ye.Z)(this,t)}return(0,Ce.Z)(t,[{key:"getStyles",value:function(){return"\n        #divErrorCashbackActivation {\n            display: grid;\n            margin-bottom: 5px;\n            grid-template-columns: auto auto;\n            grid-gap: 10px;\n            justify-content: center;\n            width: 100%;\n        }\n        #divCashBackPopup {\n            display: flex;\n            flex-direction: row;\n            text-align: center;\n        }\n        #pCashBackDescription {\n            display: inline;\n            text-align: start;\n            margin-top: 0px;\n        }\n        h1 {\n            display: -webkit-box;\n            overflow-wrap: anywhere;\n            overflow: hidden;\n            -webkit-box-orient: vertical;\n            text-align: start;\n            margin-top: 0px;\n        }\n        #divPreviousCashBack {\n            display: grid;\n            grid-template-columns: 110px 1fr 80px;\n            column-gap: 8px;\n            box-sizing: border-box;\n            justify-content: center;\n            padding: 5px 0px;\n            padding-inline: 9px 5px;\n        }\n        #btnPreviousCashBack {\n            min-height: 64px;\n            height: auto;\n            padding: 0px;\n            margin-top: 10px;\n            margin-bottom: 10px;\n            background: transparent;\n            cursor: pointer;\n            border: 1px solid rgba(0, 0, 0, 0.09);\n            border-radius: 4px;\n        }\n        #btnPreviousCashBack:focus {\n            border-color: #000000;\n            box-shadow: 0 0 0px 2px #ffffff inset;\n        }\n        .activated {\n            border-color: transparent;\n            background: rgba(0, 0, 0, 0.07);\n        }\n        .activated:hover {\n            outline: 2px solid transparent;\n            background-color: ButtonFace;\n            color: ButtonText;\n            border-color: ButtonText;\n        }\n        .activated:focus {\n            border-color: #000000;\n            box-shadow: 0 0 0px 2px #ffffff inset;\n        }\n        .divNotificationContent {\n            width: 100%;\n            display: flex;\n            flex-direction: column;\n            flex-grow: 2;\n            margin-left: 27px;\n            margin-right: 27px;\n            justify-content: center;\n        }\n        #divCashBackContent {\n            width: 100%;\n            display: flex;\n            flex-direction: column;\n            flex-grow: 2;\n            margin: 0px;\n            justify-content: center;\n            align-items: center;\n        }\n        .spanCommisionValue {\n            display: flex;\n            height: 30px;\n            line-height: 28px;\n            font-size: 24px;\n            background: #0078D4;\n            color: #fff;\n            font-weight: 500;\n            float: left;\n        }\n        .divCommissionValue {\n            display: inline-block;\n            margin: 0px;\n            vertical-align: middle;\n        }\n        .h2RebatesTitle {\n            display: inline;\n            margin: 0px;\n            font-weight: 500;\n            font-size: 24px;\n            line-height: 36px;\n            vertical-align: middle;\n            text-align: center;\n        }\n        @media (prefers-color-scheme: dark) {\n            .activated {\n                background: rgba(255, 255, 255, 0.09);\n                color: #FFFFFF;\n            }\n            #btnPreviousCashBack {\n                border: 1px solid #FFFFFF;\n            }\n        }\n        @media (forced-colors: active) {\n            .activated {\n                background-color: Highlight;\n                forced-color-adjust: none;\n                color: highlightText;\n            }\n            .activated: focus {\n                box-shadow: 0 0 0 2px HighlightText inset;\n                border-color: buttonText;\n            }\n            .imgCBTag {\n                display: none;\n            }\n        }\n        #txtPersonalizedProduct {\n            text-align: center;\n            overflow: hidden;\n            overflow-wrap: break-word;\n            display: -webkit-box;\n            -webkit-line-clamp: 2;\n            -webkit-box-orient: vertical;\n        }\n        .fixedColorAnchor:hover::part(content)::before {\n            background: #FFFFFF;\n        }\n        .fixedColorAnchor {\n            color: #FFFFFF;\n        }\n    "}},{key:"getNotificationImageryStyles",value:function(){return"::part(sections) {\n            position: relative;\n            margin-top: 0px!important;\n        }\n        ::part(header) {\n            margin: 0px!important;\n        }\n        #divMenuButton {\n            background: transparent;\n        }\n        #btnFlyoutClose {\n            background: transparent;\n        }"}},{key:"getColorfulBackgroundStyles",value:function(){return"\n            @media (prefers-color-scheme: dark) {\n                .txtSmall {\n                    color: #000000;\n                }\n                .txtMedium {\n                    color: #000000;\n                }\n                .txtLarge {\n                    color: #000000;\n                }\n                ::part(header-fixed-title) {\n                    color: #000000;\n                }\n                .aOfferDetails:hover::part(content)::before {\n                    background: #0078D4;\n                }\n                .aOfferDetails {\n                    color: #0078D4;\n                }\n            }"}},{key:"getTagLeft",value:function(){return'<svg xmlns="http://www.w3.org/2000/svg" width="7" height="30" viewBox="0 0 7 30" fill="none"><path fill-rule="evenodd" clip-rule="evenodd" d="M7.0003 0H3.5C1.567 0 0 1.567 0 3.5V26.5C0 28.433 1.567 30 3.5 30H7.0003V0Z" fill="#0078D4"/>'}},{key:"getTagRight",value:function(){return'<svg xmlns="http://www.w3.org/2000/svg" width="15" height="30" viewBox="0 0 15 30" fill="none"><path fill-rule="evenodd" clip-rule:"evenodd" d="M0,30h0.6c1,0,1.9-0.4,2.5-1.1L14,17.4c1.3-1.4,1.3-3.5,0-4.8L3.1,1.1C2.5,0.4,1.5,0,0.6,0H0V30z" fill="#0078D4"/>'}},{key:"getErrorIcon",value:function(){return'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16" fill="none"><path d="M8 0C12.4183 0 16 3.58172 16 8C16 12.4183 12.4183 16 8 16C3.58172 16 0 12.4183 0 8C0 3.58172 3.58172 0 8 0ZM8 1C4.13401 1 1 4.13401 1 8C1 11.866 4.13401 15 8 15C11.866 15 15 11.866 15 8C15 4.13401 11.866 1 8 1ZM8 10.5C8.41421 10.5 8.75 10.8358 8.75 11.25C8.75 11.6642 8.41421 12 8 12C7.58579 12 7.25 11.6642 7.25 11.25C7.25 10.8358 7.58579 10.5 8 10.5ZM8 4C8.24546 4 8.44961 4.17688 8.49194 4.41012L8.5 4.5V9C8.5 9.27614 8.27614 9.5 8 9.5C7.75454 9.5 7.55039 9.32312 7.50806 9.08988L7.5 9V4.5C7.5 4.22386 7.72386 4 8 4Z" fill="#CC0000"/></svg>'}}]),t}(),hi=n(9628),pi=function t(){(0,ye.Z)(this,t),(0,Se.Z)(this,"element",void 0),(0,Se.Z)(this,"priority",void 0),(0,Se.Z)(this,"name",void 0),(0,Se.Z)(this,"moduleInterface",void 0)},fi=function(){function t(){(0,ye.Z)(this,t)}return(0,Ce.Z)(t,[{key:"PostProcessing",value:function(t,e,n){}},{key:"CreateModule",value:function(t,e,n){var i=new pi;return i.element=t,i.priority=e,i.name=n,i.moduleInterface=this,i}}]),t}();function gi(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=(0,De.Z)(t);if(e){var r=(0,De.Z)(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return(0,ke.Z)(this,n)}}var vi=function(e){(0,Ie.Z)(o,e);var n,r=gi(o);function o(t,e,n){var i;return(0,ye.Z)(this,o),i=r.call(this),(0,Se.Z)((0,Ae.Z)(i),"logModule",void 0),(0,Se.Z)((0,Ae.Z)(i),"pageHandlerModule",void 0),(0,Se.Z)((0,Ae.Z)(i),"stateManagement",void 0),(0,Se.Z)((0,Ae.Z)(i),"flyoutData",void 0),(0,Se.Z)((0,Ae.Z)(i),"utilities",void 0),(0,Se.Z)((0,Ae.Z)(i),"assets",void 0),(0,Se.Z)((0,Ae.Z)(i),"commonAssets",void 0),i.logModule=n.logModule,i.pageHandlerModule=n.pageHandlerModule,i.stateManagement=t,i.flyoutData=e,i.utilities=n.viewModulesUtilities,i.assets=new di,i.commonAssets=new be,i.setInitialStatesAndListeners(),i}return(0,Ce.Z)(o,[{key:"setInitialStatesAndListeners",value:function(){var t=this;this.stateManagement.addEventListener(Qn.e1.CreateCommissionArrow,(function(e){e.detail&&e.detail.callback&&t.createCommissionArrow(!1,e.detail.callback)})),this.stateManagement.addEventListener(Qn.e1.StyleProcessingState,(function(e){e.detail&&e.detail.target&&t.styleProcessingState(e.detail.target)})),this.stateManagement.setState(Qn.IY.canRenderCashback,this.CanRenderCashBack())}},{key:"CanRenderCashBack",value:function(){var t=this.flyoutData.dataStoreModule.CashBackData;return!!(t&&t.userRebatesResponse&&t.userRebatesResponse.isRebatesUser&&(null===t.IsRebatesSupportedDomain||!0===t.IsRebatesSupportedDomain)&&t.highestCashBackCategory&&t.highestCashBackCategory.commissionValue&&t.highestCashBackCategory.commissionType&&t.highestCashBackCategory.category&&t.merchantFullName)||(!(!t||!t.isPersonalizedCashback)||!(!t||!t.isSignInSupportedDomainCashBack))}},{key:"GetModuleName",value:function(){return xe.GX.CASHBACK}},{key:"ShouldRenderModule",value:function(){var t,e=this.flyoutData.dataStoreModule.CashBackData;e&&(this.pageHandlerModule.TriggerExperiment(Qe.H.personalizedCashBack),this.pageHandlerModule.TriggerExperiment(Qe.H.signinRebates),this.pageHandlerModule.TriggerExperiment(Qe.H.cashbackNotification),this.pageHandlerModule.TriggerExperiment(Qe.H.promotionsCashback));var n=this.stateManagement.getState(Qn.IY.canRenderCashback);if(!n&&null!=e&&null!==(t=e.highestCashBackCategory)&&void 0!==t&&t.commissionValue){var i,r,o,a=new ge.Z(ve.xu.CashBackWillNotRender);this.logModule.LogInfoEvent(ve.R.EdgeFlyoutStatusDiagnostic," isRebatesUser: "+(null!==(i=null==e||null===(r=e.userRebatesResponse)||void 0===r?void 0:r.isRebatesUser)&&void 0!==i&&i)+" isRebatesSupportedDomain: "+(null!==(o=null==e?void 0:e.IsRebatesSupportedDomain)&&void 0!==o&&o),a)}return n}},{key:"renderModule",value:function(){var t=this;this.utilities.applyStyles(this.flyoutData.common.shopping,this.assets.getStyles());var e=this.flyoutData.dataStoreModule.CashBackData;if(e)if(e.shouldRenderCashBackNotification)if(null!=e&&e.isTurnedOff){this.pageHandlerModule.TriggerExperiment(Qe.H.removeRebatesProcessingState);var n=this.flyoutData.experimentData.isExperimentActive(Qe.H.removeRebatesProcessingState);this.renderTurnedOffCashBackModule(n)}else null!=e&&e.isConfirmationPage?this.renderConfirmationCashBackModule():this.renderCashbackNotification();else{var i,r,o,a,s,l=document.createElement("msft-edge-shopping-section");l.id="cashBackSection",l.style.width="100%",l.accordion=!0,l.expanded=!1;var c=this.utilities.createElement("DIV",{id:"divCashBackPopup"}),u=this.retrieveCashBackAmount(),d=null!==(i="storewide"===(null===(r=e.highestCashBackCategory)||void 0===r||null===(o=r.category)||void 0===o?void 0:o.toLowerCase())||"storewide"===(null===(a=e.personalizedCashback)||void 0===a||null===(s=a.scope)||void 0===s?void 0:s.toLowerCase()))&&void 0!==i&&i;if(""!==u){var h,p,f,g,v,m=this.utilities.createElement("DIV",{class:"txtMedium"});m.id="divCashBackContent";var y=this.createCashBackTitle(e.isCashBackActivated,d,null===(h=e.personalizedCashback)||void 0===h?void 0:h.scope),C=this.createSeeOffersButton();if(m.appendChild(y),C&&m.appendChild(C),e.isSignInSupportedDomainCashBack){var b=this.createPrivacyMessage();b&&m.appendChild(b)}c.appendChild(m),l.appendChild(c);var S=this.CreateModule(l,xe.H7.CASHBACK,xe.GX.CASHBACK);l.addEventListener("click",(function t(){if(l){var e=l.shadowRoot;if(e){var n=e.querySelector("fluent-accordion-item");if(n&&!n.classList.contains("expanded")){var i=new Jn.Z(ve.$S.ExpandedCashBackSection);A.LogInfoEvent(ve.R.ButtonClick,"Cash back section was expanded",i,ei.g.CouponImpressionId),l&&l.removeEventListener("click",t)}}}}));var x,E,w,A=this.logModule;e&&e.highestCashBackCategory?(x=e.highestCashBackCategory.category,E=e.highestCashBackCategory.commissionType,w=e.highestCashBackCategory.commissionValue):e&&e.personalizedCashback&&(x=e.personalizedCashback.scope,E=e.personalizedCashback.commissionType,w=e.personalizedCashback.commissionValue);var I=new ui(x,E,w,this.flyoutData.common.domain,e.affiliateNetwork);return this.logModule.LogInfoEvent(ve.R.CashbackInfo,"User saw cashback info: userRebatesResponse?: ".concat(!!e.userRebatesResponse," isRebatesUser: ").concat(null!==(p=null===(f=e.userRebatesResponse)||void 0===f?void 0:f.isRebatesUser)&&void 0!==p&&p," isRebatesSupportedDomain: ").concat(null!==(g=e.IsRebatesSupportedDomain)&&void 0!==g&&g),I,ei.g.CouponImpressionId),this.logModule.LogInfoEvent(ve.R.CashbackInfo,"User saw cashback info part2: merchantFullName: ".concat(e.merchantFullName," isSignInSupportedDomain: ").concat(null!==(v=e.isSignInSupportedDomain)&&void 0!==v&&v," isRebatesPromotions: ").concat(e.isPromotionsCashback),I,ei.g.CouponImpressionId),this.stateManagement.addEventListener(Qn.e1.onCashbackActivationError,(function(e){t.renderErrorState(e.detail.cashbackButton,e.detail.slot)})),this.stateManagement.addEventListener(Qn.e1.onCashBackActivated,(function(){var e,n=null===(e=l.shadowRoot)||void 0===e?void 0:e.querySelector("span[part=title]");if(n){var i=t.flyoutData.strings.cbRebatesOn,r=t.utilities.createElement("B");r.textContent=i;var o=t.flyoutData.strings.cbCashBackOnOff;t.utilities.populateSingleChildHtml(n,o,r)}})),e.userRebatesResponse&&e.userRebatesResponse.isRebatesUser&&S&&e.userRebatesResponse.latestCashbackApproved&&this.renderPreviousCashBackModule(S.element,e),Promise.resolve(S)}}return Promise.resolve(null)}},{key:"populateMainHeader",value:function(){var t=this;if(this.flyoutData.common.shopping){var e=this.flyoutData.common.shopping.querySelector("#cashBackSection");e&&(e.style.marginTop="0px",e.slot="header-content");var n=this.flyoutData.dataStoreModule.CashBackData;if(n&&(n.isCashBackActivated||n.isPersonalizedCashback)&&this.flyoutData.common.openedWith===xe.Te.Auto){var i=this.utilities.createElement("fluent-button");i.appearance="accent",i.textContent=this.flyoutData.strings.cbGotIt,i.className+=" actionsButton",i.style.fontSize="16px",i.style.borderRadius="4px",e.appendChild(i),i.addEventListener("click",(function(){t.pageHandlerModule.RecordAsUserAction(ni.b.ACTIVATE_CASHBACK);var e=new Jn.Z(ve.$S.ActivateCashBack);t.logModule.LogInfoEvent(ve.R.ButtonClick,"Cashback Got it button click",e,ei.g.CouponImpressionId),t.pageHandlerModule.DismissPopup()}))}}}},{key:"PostProcessing",value:function(t,e,n){var i,r,o;0!==e&&this.SetSectionTitle(n);var a=this.flyoutData.dataStoreModule.CashBackData,s=this.stateManagement.getState(Qn.IY.isAutoApplyVisible),l=this.flyoutData.experimentData.isExperimentActive(Qe.H.removeRebatesProcessingState);this.pageHandlerModule.TriggerExperiment(Qe.H.removeRebatesProcessingState);var c=null!==(i=a&&!a.isCashBackActivated&&!s&&!a.isPersonalizedCashback)&&void 0!==i&&i,u=null!==(r=null==a?void 0:a.shouldRenderCashBackNotification)&&void 0!==r&&r,d=new ge.Z(ve.xu.ActivateCashBackButton);this.logModule.LogInfoEvent(ve.R.EdgeFlyoutStatus,"Cash back button will be rendered: "+(c||u)+" cashBackData?: "+(!!a||"undefined")+" cash back activated: "+(null!==(o=null==a?void 0:a.isCashBackActivated)&&void 0!==o&&o)+" cashBackModule?: true is at checkout and merge buttons is on: "+s+" Processing state removed: "+!!l,d),c&&this.createActivateButton(e,n),this.stateManagement.getState(Qn.IY.canRenderCashback)&&this.HidePreviousCashbackFromShopping()}},{key:"renderPreviousCashBackModule",value:function(t,e){var n=this;if(t){var i=this.utilities.createElement("msft-edge-shopping-section",{id:"previousCashBackSection",style:"margin-top: 0px;"});if(i&&e.userRebatesResponse.latestOrderDate&&e.userRebatesResponse.latestCashbackApproved&&e.userRebatesResponse.latestOrderMerchantName){i.accordion=!0,i.expanded=!0;var r=this.utilities.createElement("BUTTON",{id:"btnPreviousCashBack"}),o=this.utilities.createElement("DIV",{id:"divPreviousCashBack"}),a=this.utilities.createElement("DIV",{style:"display: grid; grid-template-columns: auto minmax(0px, 1fr);"});if(o&&a){var s=this.utilities.createElement("IMG",{style:"align-self: center; margin-right: 5px;"});e.userRebatesResponse&&e.userRebatesResponse.latestOrderMerchantUrl&&""!==e.userRebatesResponse.latestOrderMerchantUrl&&(s.src=this.utilities.getFavIconSrc(e.userRebatesResponse.latestOrderMerchantUrl),a.appendChild(s),s.addEventListener("error",(function(){a.removeChild(s)})));var l=this.utilities.createElement("P",{class:"txtSmall",style:"align-self: center; text-align: start; overflow-wrap: break-word;\n                                        display: -webkit-box;\n                                        -webkit-line-clamp: 1;\n                                        -webkit-box-orient: vertical;\n                                        overflow: hidden;"},e.userRebatesResponse.latestOrderMerchantName);if(a.appendChild(l),o.appendChild(a),e.userRebatesResponse.latestOrderDate){var c=e.userRebatesResponse.latestOrderDate.split(" ");if(c&&c.length>0){var u=new Date(c[0]);if(u&&null!==u.getMonth()&&u.getDate()&&u.getFullYear()){var d=this.utilities.createElement("P",{class:"txtSmall",style:"align-self: center; text-align: start;"},this.utilities.replaceValueInKey(this.flyoutData.strings.cbPreviousCashBackDate,"".concat(["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][u.getMonth()],", ").concat(u.getDate()," ").concat(u.getFullYear())));d&&o.appendChild(d)}}}if(e.userRebatesResponse.latestCashbackApproved){var h=this.utilities.createElement("P",{class:"txtMedium",style:"align-self: center; line-height: 20px; font-weight: 500;"},"$".concat(e.userRebatesResponse.latestCashbackApproved.toFixed(2)));h&&o.appendChild(h)}r&&(r.appendChild(o),r.addEventListener("click",(function(){var t=new Jn.Z(ve.$S.PreviousCashBack);n.pageHandlerModule.RecordAsUserAction(ni.b.REBATES_HISTORY),n.logModule.LogInfoEvent(ve.R.ButtonClick,"User navigated to previous cash back",t,ei.g.CouponImpressionId),n.pageHandlerModule.NavigateToRebatesPayouts(qn.NEW_FOREGROUND_TAB)}))),r&&i.appendChild(r),this.addPreviousTransactionsLink(i)}t.appendChild(i),G.SO.queueUpdate((function(){var t=i.shadowRoot;if(t){var r=t.querySelector("span[part=title]");if(!r){var o=t.querySelector("fluent-accordion-item");o&&(r=o.querySelector("span[part=title]"))}if(r){var a="$0.00";e.userRebatesResponse.cashbackAvailable&&(a="$".concat(e.userRebatesResponse.cashbackAvailable.toFixed(2)));var s=n.utilities.createElement("B");s.textContent=a;var l=n.flyoutData.strings.cbAmountAvailable;n.utilities.populateSingleChildHtml(r,l,s)}}}))}}}},{key:"renderCashbackNotification",value:function(){var t=this,e=this.utilities.createElement("DIV",{style:"width: 100%;"}),n=this.utilities.createElement("DIV",{style:"display: grid; grid-template-columns: 50% 50%;\n                                                                margin-bottom: 20px; grid-gap: 15px;"}),i=this.createBrandingNotificationTitle(),r=this.createNotificationActionButtons();i.appendChild(r);var o,a,s,l=this.createNotificationBrandingImage();n.appendChild(i),n.appendChild(l),e.appendChild(n),this.flyoutData.common.shopping.appendChild(e);var c=this.flyoutData.dataStoreModule.CashBackData;if(c&&c.highestCashBackCategory?(o=c.highestCashBackCategory.category,a=c.highestCashBackCategory.commissionType,s=c.highestCashBackCategory.commissionValue):c&&c.personalizedCashback&&(o=c.personalizedCashback.scope,a=c.personalizedCashback.commissionType,s=c.personalizedCashback.commissionValue),c){var u,d,h,p,f=new ui(o,a,s,this.flyoutData.common.domain,c.affiliateNetwork);this.logModule.LogInfoEvent(ve.R.CashbackInfo,null!==(u=null!==(d="User saw cashback notification info: userRebatesResponse?: "+!!c.userRebatesResponse+" isRebatesUser: "+(null!==(h=null===(p=c.userRebatesResponse)||void 0===p?void 0:p.isRebatesUser)&&void 0!==h&&h)+" isRebatesSupportedDomain: "+c.IsRebatesSupportedDomain)&&void 0!==d?d:!1+" merchantFullName: "+c.merchantFullName+" isSignInSupportedDomain: "+c.isSignInSupportedDomain)&&void 0!==u&&u,f,ei.g.CouponImpressionId)}this.stateManagement.addEventListener(Qn.e1.onCashbackActivationError,(function(e){t.renderErrorState(e.detail.cashbackButton,e.detail.slot)}))}},{key:"setMenuButtonsColor",value:function(t){var e=this;G.SO.queueUpdate((function(){var n=e.flyoutData.common.shopping.querySelector("#divMenuButton path");n&&n.setAttribute("fill",t);var i=e.flyoutData.common.shopping.querySelector("#btnFlyoutClose path");i&&i.setAttribute("fill",t)}))}},{key:"renderConfirmationCashBackModule",value:function(){var t=this.flyoutData.common.shopping;if(t){this.utilities.applyStyles(this.flyoutData.common.shopping,this.assets.getStyles());var e=this.utilities.createElement("DIV",{id:"divCashBackPopup"});e.slot="header-content";var n=this.utilities.createElement("DIV",{class:"txtMedium"});n.className="divNotificationContent";var i=this.utilities.createElement("H2",{style:"margin: 0px; font-weight: 500; font-size: 24px; line-height: 34px;"},this.flyoutData.strings.cbConfirmationTitle),r=this.utilities.createElement("P",{class:"txtSmall",style:"line-height: 20px; margin-top: 16px;"},this.flyoutData.strings.cbConfirmationMessage),o=this.createSeeOffersButton();n.appendChild(i),n.appendChild(r),o&&n.appendChild(o),e.appendChild(n),t.appendChild(e);var a=new ge.Z(ve.xu.RebatesConfirmationNotification);this.logModule.LogInfoEvent(ve.R.EdgeFlyoutStatus,"User saw confirmation notification",a,ei.g.CouponImpressionId)}}},{key:"renderTurnedOffCashBackModule",value:function(e){var n=this,r=this.flyoutData.common.shopping;if(r){this.utilities.applyStyles(r,this.assets.getStyles());var o=this.utilities.createElement("DIV",{id:"divCashBackPopup"});o.slot="header-content";var a=this.utilities.createElement("DIV",{class:"txtMedium"});a.className="divNotificationContent";var s=this.utilities.createElement("H2",{style:"margin: 0px; font-weight: 500; font-size: 24px; line-height: 34px;"},this.flyoutData.strings.cbTurnedOffTitle),l=this.utilities.createElement("P",{class:"txtSmall",style:"line-height: 20px; margin-top: 16px; margin-bottom: 16px;"},this.flyoutData.strings.cbTurnedOffMessage);a.appendChild(s),a.appendChild(l);var c=document.createElement("fluent-button");c.slot="actions",this.styleDefaultState(c,this.flyoutData.strings.cbEnableRebatesButton,!1),c.addEventListener("click",function(){var r=(0,t.Z)(i().mark((function t(r){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.handleActivateCashbackClick(c,r,e,"Cash back activated from turned off notification");case 2:t.sent?n.styleActivatedState(c,!1):n.styleDefaultState(c,n.flyoutData.strings.cbActivateButton,!1);case 4:case"end":return t.stop()}}),t)})));return function(t){return r.apply(this,arguments)}}()),r.appendChild(c),o.appendChild(a),r.appendChild(o);var u=new ge.Z(ve.xu.RebatesTurnedOffNotification);this.logModule.LogInfoEvent(ve.R.EdgeFlyoutStatus,"User saw rebates turned off notification",u,ei.g.CouponImpressionId)}}},{key:"renderErrorState",value:function(t,e){if(!this.flyoutData.common.shopping.querySelector("#divErrorCashbackActivation")){var n,i=this.utilities.createElement("DIV",{style:"display: flex; flex-direction: row;"});i.id="divErrorCashbackActivation";var r=this.utilities.createElement("DIV",{style:"align-self: center;"});r.innerHTML=Je.Z.staticPolicy.createHTML(this.assets.getErrorIcon()),r.setAttribute("aria-label","hidden");var o=this.utilities.createElement("P");o.className="txtMedium",o.textContent=this.flyoutData.strings.cbErrorMessage,o.setAttribute("role","alert"),null!==(n=this.flyoutData.dataStoreModule.CashBackData)&&void 0!==n&&n.shouldRenderCashBackNotification&&(o.style.fontSize="12px"),i.appendChild(r),i.appendChild(o),"actions"===e?(i.slot="header-content",this.flyoutData.common.shopping.prepend(i)):t&&t.parentElement&&t.parentElement.prepend(i)}}},{key:"createActivateButton",value:function(e,n){var r=this;if(this.flyoutData.common.shopping&&n){var o=this.stateManagement.getState(Qn.IY.isAutoApplyVisible),a=this.flyoutData.experimentData.isExperimentActive(Qe.H.removeRebatesProcessingState);o&&(n.expanded=!1);var s=this.flyoutData.dataStoreModule.CashBackData,l=this.utilities.createElement("fluent-button");if(this.renderCurrentButtonState(l,!1),null!=s&&s.isSignInSupportedDomainCashBack){var c=new ge.Z(ve.xu.CashBackSignInButtonShown);this.logModule.LogInfoEvent(ve.R.EdgeFlyoutStatus,l.textContent+"sign in button shown at cash back section, auto apply visible: "+o+"ShouldRemoveRebatesProcessingState : "+!!a,c,ei.g.CouponImpressionId)}l.addEventListener("click",function(){var e=(0,t.Z)(i().mark((function t(e){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r.handleActivateCashbackClick(l,e,a,"Cash back activation started");case 2:t.sent?r.styleActivatedState(l,!1):r.styleDefaultState(l,r.flyoutData.strings.cbActivateButton,!1);case 4:case"end":return t.stop()}}),t)})));return function(t){return e.apply(this,arguments)}}());var u=this.stateManagement.getState(Qn.IY.topModuleName);if(0===e||u!==xe.GX.COUPON){var d=n.querySelectorAll(".aOfferDetails"),h=n.querySelector("#divCashBackContent");h&&d&&d.length>0&&d.forEach((function(t){h.insertBefore(l,t);var e=new ge.Z(ve.xu.CashBackButtonShown);r.logModule.LogInfoEvent(ve.R.EdgeFlyoutStatus,l.textContent+" button shown at cash back section, priority="+u+" auto apply visible: "+o+"ShouldRemoveRebatesProcessingState : "+!!a,e,ei.g.CouponImpressionId)}))}else{var p=this.utilities.createElement("DIV",{style:"width: 100%; display: flex; flex-direction:column; align-items: center; justify-content: center;"});p.slot="actions",p.appendChild(l);var f=this.createSeeOffersButton();if(f&&p.appendChild(f),null!=s&&s.isSignInSupportedDomainCashBack){var g=this.createPrivacyMessage();p.appendChild(g),G.SO.queueUpdate((function(){var t=document.getElementById("divCashBackContent"),e=t.querySelector("#divPrivacyMessage");t.removeChild(e)}))}this.flyoutData.common.shopping.prepend(p);var v=new ge.Z(ve.xu.CashBackButtonShown);this.logModule.LogInfoEvent(ve.R.EdgeFlyoutStatus,l.textContent+" button shown at actions slot, priority="+u+" auto apply visible: "+o,v,ei.g.CouponImpressionId),this.flyoutData.common.shopping.prepend(p)}var m=this.flyoutData.common;if(this.isFailedState()||m.popupOrigination===hi.s.AUTO_SHOW_REBATES_ACTIVATION_FAILED){var y,C=new CustomEvent(Qn.e1.onCashbackActivationError,{detail:{cashbackButton:l,slot:null===(y=l.parentElement)||void 0===y?void 0:y.slot}});this.stateManagement.dispatchEvent(C)}}}},{key:"createPrivacyMessage",value:function(){var t=this,e=this.utilities.createElement("DIV");e.id="divPrivacyMessage";var n=this.utilities.createElement("SPAN");n.textContent=this.flyoutData.strings.cbPrivacyMessageUp;var i=this.utilities.createElement("SPAN");i.textContent=this.flyoutData.strings.cbPrivacyMessageDown,n.style.fontSize="10px",n.style.lineHeight="14px",i.style.fontSize="10px",i.style.lineHeight="14px";var r=this.utilities.createElement("fluent-anchor");r.appearance="lightweight",r.href="#",r.style.fontSize="10px",r.style.lineHeight="14px",r.style.position="relative",r.style.bottom="4px",r.style.height="6px",r.textContent=this.flyoutData.strings.cbPrivacyMessageLearn,r.style.alignSelf="center",r.addEventListener("click",(function(){t.pageHandlerModule.NavigateToLearnMore(qn.NEW_FOREGROUND_TAB)}));var o=this.utilities.createElement("fluent-anchor");return o.appearance="lightweight",o.href="#",o.style.fontSize="10px",o.style.lineHeight="14px",o.style.height="14px",o.textContent=this.flyoutData.strings.cbPrivacyMessageTerm,o.style.alignSelf="center",o.addEventListener("click",(function(){t.pageHandlerModule.NavigateToPrivacyStatement()})),e.appendChild(n),e.appendChild(r),e.appendChild(i),e.appendChild(o),e}},{key:"retrieveCashBackAmount",value:function(){var t,e,n,i,r="",o=this.flyoutData.dataStoreModule.CashBackData;return o&&null!==(t=o.highestCashBackCategory)&&void 0!==t&&t.commissionType?(n=o.highestCashBackCategory.commissionType,i=o.highestCashBackCategory.commissionValue):o&&null!==(e=o.personalizedCashback)&&void 0!==e&&e.commissionType&&(n=o.personalizedCashback.commissionType,i=o.personalizedCashback.commissionValue),"%"===n?r="".concat(i).concat("%"):"flat"===n&&(r="".concat("$").concat(i)),r}},{key:"styleProcessingState",value:function(t){var e=this.utilities.createElement("fluent-progress-ring");e.style.width="17px",e.style.height="17px",e.style.margin="0px",e.slot="start",e.setAttribute("aria-hidden","true"),t.textContent=this.flyoutData.strings.cbProcessing,t.style.backgroundColor="#0656F8",t.style.color="#FFFFFF",t.setAttribute("aria-live","assertive"),t.appendChild(e)}},{key:"createCommissionArrow",value:function(t,e){var n=this.utilities.createElement("DIV");n.className="imgCBTag",n.innerHTML=Je.Z.staticPolicy.createHTML(this.assets.getTagLeft()),n.style.float="left";var i=this.utilities.createElement("DIV");i.className="imgCBTag",i.innerHTML=Je.Z.staticPolicy.createHTML(this.assets.getTagRight()),i.style.float="left";var r=this.utilities.createElement("SPAN");r.textContent=this.retrieveCashBackAmount(),r.className="spanCommisionValue";var o=this.utilities.createElement("DIV");if(o.className="divCommissionValue",t&&n&&i&&o&&n.children.length>0&&i.children.length>0){var a=n.children[0];a&&(a.setAttribute("width","7"),a.setAttribute("height","20"),a.setAttribute("viewBox","(0 0 7 20)"));var s=i.children[0];s&&(s.setAttribute("width","10"),s.setAttribute("height","20")),r.style.height="20px",r.style.lineHeight="20px",r.style.fontSize="16px",o.style.marginBottom="4px"}return o.appendChild(n),o.appendChild(r),o.appendChild(i),e&&e(o),o}},{key:"handleActivateCashbackClick",value:(n=(0,t.Z)(i().mark((function t(e,n,r,o){var a,s,l,c,u,d,h;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.className+=" activated",e.style.fontWeight="500",e.textContent=this.flyoutData.strings.cbActivatedButton,a=new Jn.Z(ve.$S.ActivateCashBack),this.pageHandlerModule.RecordAsUserAction(ni.b.ACTIVATE_CASHBACK),this.logModule.LogInfoEvent(ve.R.ButtonClick,o,a,ei.g.CouponImpressionId),e.disabled=!0,s=!1,r){t.next=16;break}return this.styleProcessingState(e),t.next=12,this.pageHandlerModule.ActivateRebates(!0);case 12:l=t.sent,s=l.activated,t.next=18;break;case 16:this.pageHandlerModule.ActivateRebates(!1),s=!0;case 18:return s?(e.setAttribute("aria-live","off"),this.flyoutData.dataStoreModule.CashBackData&&(this.flyoutData.dataStoreModule.CashBackData.isCashBackActivated=!0),c=new CustomEvent(Qn.e1.onCashBackActivated),this.stateManagement.dispatchEvent(c)):(d=new CustomEvent(Qn.e1.onCashbackActivationError,{detail:{cashbackButton:e,slot:null===(u=e.parentElement)||void 0===u?void 0:u.slot}}),this.stateManagement.dispatchEvent(d)),0===n.screenX&&0===n.screenY&&s?(h=document.querySelector("#btnFlyoutClose"))&&h.focus():e.focus(),t.abrupt("return",s);case 21:case"end":return t.stop()}}),t,this)}))),function(t,e,i,r){return n.apply(this,arguments)})},{key:"styleActivatedState",value:function(t,e){var n=this.flyoutData.common.shopping.querySelector("#divErrorCashbackActivation");n&&n.remove();var i=t.querySelector("fluent-progress-ring");i&&i.remove();var r=this.utilities.createElement("DIV");if(r.innerHTML=Je.Z.staticPolicy.createHTML(this.commonAssets.getGreenCheck()),r.slot="start",r.setAttribute("aria-hidden","true"),t.disabled=!0,t.textContent=this.flyoutData.strings.cbActivatedButton,t.appendChild(r),t.style.backgroundColor="transparent",t.style.boxSizing="border-box",t.style.borderRadius="4px",t.style.opacity="1",t.style.border="1px solid rgba(0, 0, 0, 0.07)",this.flyoutData.common.currentTheme===xe.Q2.Dark?(t.style.color="#FFFFFF",t.style.borderColor="#FFFFFF"):t.style.color="#000000",e){t.style.fontSize="12px";var o=t.querySelector("svg");o&&(o.setAttribute("width","15"),o.setAttribute("height","15"))}}},{key:"isFailedState",value:function(){var t,e=null===(t=this.flyoutData.dataStoreModule.CashBackData)||void 0===t?void 0:t.activateRebatesStatus;return void 0!==e&&Object.keys(xe.FA).some((function(t){if(xe.FA[t]===e)return!!t.toString().includes("FAILED")})),!1}},{key:"renderCurrentButtonState",value:function(t,e){var n=this.flyoutData.dataStoreModule.CashBackData,i=this.flyoutData.common,r=this.flyoutData.experimentData,o=i.popupOrigination===hi.s.AUTO_SHOW_REBATES_SWITCHED_TO_MSA&&r.isExperimentActive(Qe.H.signinRebates),a=(null==n?void 0:n.activateRebatesStatus)===xe.FA.PENDING_ACTIVATION_IN_PROFILE,s=this.flyoutData.strings.cbActivateButton;if(n&&n.isSignInSupportedDomainCashBack&&n.activateRebatesStatus!==xe.FA.PENDING_SIGN_INTO_PROFILE&&(s=this.flyoutData.strings.cbBingActivateButton),o||a){this.styleDefaultState(t,s,e),this.styleActivatedState(t,e),this.flyoutData.dataStoreModule.CashBackData&&(this.flyoutData.dataStoreModule.CashBackData.isCashBackActivated=!0);var l=new CustomEvent(Qn.e1.onCashBackActivated);this.stateManagement.dispatchEvent(l)}else this.styleDefaultState(t,s,e)}},{key:"createNotificationBrandingImage",value:function(){this.utilities.applyStyles(this.flyoutData.common.shopping,this.assets.getStyles());var t=this.utilities.createElement("DIV",{style:"display: flex; justify-content: center; width: calc(100% - 15px); height: 100%;"}),e=this.utilities.createElement("IMG",{style:"place-self: center; width: auto; height: auto;"});e.src=this.getImageBranding();var n=this.flyoutData.common.domain.replace(".com","");return e.setAttribute("aria-label",this.utilities.replaceValueInKey(this.flyoutData.strings.cbNotificationLogo,n)),t.appendChild(e),t}},{key:"createNotificationActionButtons",value:function(){var e=this,n=this.utilities.createElement("DIV",{style:"display: flex; flex-direction: column;"}),r=this.utilities.createElement("fluent-button");this.styleDefaultState(r,"Activate cashback",!0),r.addEventListener("click",function(){var n=(0,t.Z)(i().mark((function t(n){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.handleActivateCashbackClick(r,n,!1,"Cash back activated from contextual notification");case 2:t.sent?e.styleActivatedState(r,!0):(e.styleDefaultState(r,"Activate cashback",!0),e.getImageBranding());case 4:case"end":return t.stop()}}),t)})));return function(t){return n.apply(this,arguments)}}()),n.appendChild(r);var o=this.createSeeOffersButton();return o&&(o.style.fontSize="10px",n.appendChild(o)),n}},{key:"createBrandingNotificationTitle",value:function(){var t=this,e=this.utilities.createElement("DIV",{style:"display: flex; flex-direction: column; grid-gap: 20px;"}),n=this.utilities.createElement("H2",{style:"text-align: center; font-weight: 600; font-size: 16px; line-height: 24px;"}),i=this.retrieveCashBackAmount();return n.textContent=this.utilities.replaceValueInKey(this.flyoutData.strings.cbNotificationYoucouldEarn,i),n.className="txtLarge",this.stateManagement.addEventListener(Qn.e1.onCashBackActivated,(function(){var e=t.utilities.replaceValueInKey(t.flyoutData.strings.cbMainTitleOn,i);n.textContent=e})),e.appendChild(n),e}},{key:"createSeeOffersButton",value:function(){var t,e=this;if(null!==(t=this.flyoutData.dataStoreModule.CashBackData)&&void 0!==t&&t.isPersonalizedCashback)return null;var n=this.utilities.createElement("fluent-anchor");return n.className+="action aOfferDetails",n.appearance="lightweight",n.href="#",n.style.fontSize="14px",n.textContent=this.flyoutData.strings.cbLearnMore,n.style.alignSelf="center",n.addEventListener("click",(function(){var t,n=new Jn.Z(ve.$S.RebatesLearnMore);e.pageHandlerModule.RecordAsUserAction(ni.b.REBATES_LEARN_MORE),e.logModule.LogInfoEvent(ve.R.ButtonClick,"User navigated to rebates learn more",n,ei.g.CouponImpressionId),e.pageHandlerModule.NavigateToLearnMore(qn.NEW_FOREGROUND_TAB,null===(t=e.flyoutData.dataStoreModule.CashBackData)||void 0===t?void 0:t.merchantName)})),n}},{key:"getImageBranding",value:function(){var t=this.flyoutData.common.domain.replace(".com","");return this.flyoutData.common.currentTheme===xe.Q2.Dark?"".concat(this.flyoutData.common.resourcesEndpoing,"retailerBranding/").concat(t,"BG.png"):"".concat(this.flyoutData.common.resourcesEndpoing,"retailerBranding/").concat(t,".png")}},{key:"styleDefaultState",value:function(t,e,n){t.disabled=!1,t.appearance="accent",t.textContent=e,t.className+=" actionsButton",t.style.borderRadius="4px",t.style.fontSize="16px",t.style.backgroundColor="var(--accent-fill-rest)",t.setAttribute("aria-live","assertive"),n&&(t.style.minWidth="unset",t.style.height="32px",t.style.fontSize="12px",t.style.marginTop="0px",t.style.maxWidth="174px")}},{key:"createCashBackPromotionsTitle",value:function(t,e){var n=this,i=this.utilities.createElement("DIV",{style:"margin-bottom: 8px; align-items: center;"});i.className="divCashBackTitle",i.setAttribute("role","heading"),i.setAttribute("aria-level","2");var r=this.utilities.createElement("H2");r.className="h2RebatesTitle",r.textContent=t?this.utilities.replaceValueInKey(this.flyoutData.strings.cbPromotionsOn,"$5"):this.utilities.replaceValueInKey(this.flyoutData.strings.cbPromotionsOff,"$5");var o=this.utilities.createElement("P");o.className="txtMedium",o.textContent=this.flyoutData.strings.cbPromotionsOnSubHeader;var a=this.utilities.createElement("P");a.className="txtMedium",a.style.marginTop="10px";var s=this.createCommissionArrow(!0);return this.createCashBackPromotionsHeaderText(a,e,s),i.appendChild(r),i.appendChild(o),i.appendChild(a),this.stateManagement.addEventListener(Qn.e1.onCashBackActivated,(function(){n.createCashBackPromotionsHeaderText(a,e,s)})),i}},{key:"createCashBackPromotionsHeaderText",value:function(t,e,n){var i=this.flyoutData.strings.cbPromotionsSubTitle;e&&(i=this.flyoutData.strings.cbPromotionsSubTitleStoreWide),this.PopulateCreateCashBackHeaderHtml(t,i,n)}},{key:"createCashBackTitle",value:function(t,e,n){var i,r=this;if(null!==(i=this.flyoutData.dataStoreModule.CashBackData)&&void 0!==i&&i.isPromotionsCashback)return this.createCashBackPromotionsTitle(t,e);var o=this.utilities.createElement("DIV",{style:"margin-bottom: 8px; align-items: center; width: calc(100% - 20px);"});o.className="divCashBackTitle",o.setAttribute("role","heading"),o.setAttribute("aria-level","2");var a=this.utilities.createElement("H2");a.className="h2RebatesTitle";var s=this.createCommissionArrow(!1);return this.createCashBackHeaderText(a,e,t,s,n),o.appendChild(a),this.stateManagement.addEventListener(Qn.e1.onCashBackActivated,(function(){r.createCashBackHeaderText(a,e,!0,s,n)})),o}},{key:"createCashBackHeaderText",value:function(t,e,n,i,r){var o,a,s=this.flyoutData.strings.cbMainTitleOff;if(null!==(o=this.flyoutData.dataStoreModule.CashBackData)&&void 0!==o&&o.isPersonalizedCashback&&r)e?s=this.flyoutData.strings.cbMainTitleOnStoreWide:(s=this.flyoutData.strings.cbPersonalized,s=this.utilities.replaceValueInKey(s,"$1",r));else if(null!==(a=this.flyoutData.dataStoreModule.CashBackData)&&void 0!==a&&a.isSignInSupportedDomainCashBack)s=n?this.flyoutData.strings.cbTitleSignInOn:this.flyoutData.strings.cbTitleSignIn;else{var l;if(n)s=e?this.flyoutData.strings.cbMainTitleOnStoreWide:this.flyoutData.strings.cbMainTitleOn;else s=null!==(l=this.flyoutData.dataStoreModule.CashBackData)&&void 0!==l&&l.isSignInSupportedDomainCashBack?this.flyoutData.strings.cbTitleSignIn:this.flyoutData.strings.cbMainTitleOff}this.PopulateCreateCashBackHeaderHtml(t,s,i)}},{key:"PopulateCreateCashBackHeaderHtml",value:function(t,e,n){var i=e.split("<br>");if(i&&i.length>1){this.utilities.populateSingleChildHtml(t,i[0],n);var r=this.utilities.createElement("BR");t.appendChild(r);var o=this.utilities.createElement("P",{style:"display: inline;"});o.id="txtPersonalizedProduct",o.classList.add("txtMedium"),o.textContent=i[1],t.appendChild(o)}else this.utilities.populateSingleChildHtml(t,e,n)}},{key:"addPreviousTransactionsLink",value:function(t){var e=this,n=document.createElement("fluent-anchor");n.slot="action",n.href="#",n.className+="action",n.appearance="lightweight",n.style.alignSelf="start",n.textContent=this.flyoutData.strings.cbPreviousTransactions,n.addEventListener("click",(function(){var t=new Jn.Z(ve.$S.RebatesAccount);e.pageHandlerModule.RecordAsUserAction(ni.b.REBATES_ACCOUNT),e.logModule.LogInfoEvent(ve.R.ButtonClick,"User navigated to rebates account",t,ei.g.CouponImpressionId),e.pageHandlerModule.NavigateToRebatesAccount(qn.NEW_FOREGROUND_TAB)})),t.appendChild(n),t.addEventListener("click",(function e(){if(t){var n=t.shadowRoot;if(n){var r=n.querySelector("fluent-accordion-item");if(r&&!r.classList.contains("expanded")){var o=new Jn.Z(ve.$S.ExpandedPreviousCashBack);i.LogInfoEvent(ve.R.ButtonClick,"Previous cash back section was expanded",o,ei.g.CouponImpressionId),t&&t.removeEventListener("click",e)}}}}));var i=this.logModule}},{key:"HidePreviousCashbackFromShopping",value:function(){this.stateManagement.getState(Qn.IY.topModuleName)===xe.GX.CASHBACK&&G.SO.queueUpdate((function(){var t=document.querySelector("#previousCashBackSection");if(t){var e=t.shadowRoot;if(e){var n=e.querySelector("fluent-accordion");n&&(n.style.marginBottom="0px")}}}))}},{key:"SetSectionTitle",value:function(t){var e=this,n=this.flyoutData.dataStoreModule.CashBackData;n&&G.SO.queueUpdate((function(){var i,r=null===(i=t.shadowRoot)||void 0===i?void 0:i.querySelector("span[part=title]"),o=n.isCashBackActivated;if(r)if(o||n.isPersonalizedCashback){var a=e.flyoutData.strings.cbRebatesOn,s=e.utilities.createElement("B");s.textContent=a;var l=e.flyoutData.strings.cbCashBackOnOff;e.utilities.populateSingleChildHtml(r,l,s)}else{var c=e.flyoutData.strings.cbRebatesOff,u=e.utilities.createElement("B");u.textContent=c;var d=e.flyoutData.strings.cbCashBackOnOff;e.utilities.populateSingleChildHtml(r,d,u)}}))}}]),o}(fi),mi=n(2858);class yi extends o.H{}class Ci extends((0,mi.U)(yi)){constructor(){super(...arguments),this.proxy=document.createElement("input")}}class bi extends Ci{constructor(){super(),this.initialValue="on",this.indeterminate=!1,this.dirtyChecked=!1,this.constructed=!1,this.formResetCallback=()=>{this.checked=this.checkedAttribute,this.dirtyChecked=!1},this.keypressHandler=t=>{switch(t.keyCode){case ee.ei:this.checked=!this.checked}},this.clickHandler=t=>{this.disabled||this.readOnly||(this.checked=!this.checked)},this.defaultChecked=!!this.checkedAttribute,this.checked=this.defaultChecked,this.constructed=!0}readOnlyChanged(){this.proxy instanceof HTMLInputElement&&(this.proxy.readOnly=this.readOnly)}checkedAttributeChanged(){this.defaultChecked=this.checkedAttribute}defaultCheckedChanged(){this.dirtyChecked||(this.checked=this.defaultChecked,this.dirtyChecked=!1)}checkedChanged(){this.dirtyChecked||(this.dirtyChecked=!0),this.updateForm(),this.proxy instanceof HTMLInputElement&&(this.proxy.checked=this.checked),this.constructed&&this.$emit("change"),this.validate()}connectedCallback(){super.connectedCallback(),this.proxy.setAttribute("type","checkbox"),this.updateForm()}updateForm(){const t=this.checked?this.value:null;this.setFormValue(t,t)}}(0,O.gn)([(0,a.Lj)({attribute:"readonly",mode:"boolean"})],bi.prototype,"readOnly",void 0),(0,O.gn)([(0,a.Lj)({attribute:"checked",mode:"boolean"})],bi.prototype,"checkedAttribute",void 0),(0,O.gn)([s.LO],bi.prototype,"defaultSlottedNodes",void 0),(0,O.gn)([s.LO],bi.prototype,"defaultChecked",void 0),(0,O.gn)([s.LO],bi.prototype,"checked",void 0),(0,O.gn)([s.LO],bi.prototype,"indeterminate",void 0);const Si=c.d`
    <template
        role="checkbox"
        aria-checked="${t=>t.checked}"
        aria-required="${t=>t.required}"
        aria-disabled="${t=>t.disabled}"
        aria-readonly="${t=>t.readOnly}"
        tabindex="${t=>t.disabled?null:0}"
        @keypress="${(t,e)=>t.keypressHandler(e.event)}"
        @click="${(t,e)=>t.clickHandler(e.event)}"
        class="${t=>t.readOnly?"readonly":""} ${t=>t.checked?"checked":""} ${t=>t.indeterminate?"indeterminate":""}"
    >
        <div part="control" class="control">
            <slot name="checked-indicator">
                <svg
                    aria-hidden="true"
                    part="checked-indicator"
                    class="checked-indicator"
                    viewBox="0 0 20 20"
                    xmlns="http://www.w3.org/2000/svg"
                >
                    <path
                        fill-rule="evenodd"
                        clip-rule="evenodd"
                        d="M8.143 12.6697L15.235 4.5L16.8 5.90363L8.23812 15.7667L3.80005 11.2556L5.27591 9.7555L8.143 12.6697Z"
                    />
                </svg>
            </slot>
            <slot name="indeterminate-indicator">
                <div part="indeterminate-indicator" class="indeterminate-indicator"></div>
            </slot>
        </div>
        <label
            part="label"
            class="${t=>t.defaultSlottedNodes&&t.defaultSlottedNodes.length?"label":"label label__hidden"}"
        >
            <slot ${(0,d.Q)("defaultSlottedNodes")}></slot>
        </label>
    </template>
`,xi=f.i`
    ${(0,g.j)("inline-flex")} :host {
        align-items: center;
        outline: none;
        margin: calc(var(--design-unit) * 1px) 0;
        ${""} user-select: none;
    }

    .control {
        position: relative;
        width: calc((${B.i} / 2 + var(--design-unit)) * 1px);
        height: calc((${B.i} / 2 + var(--design-unit)) * 1px);
        box-sizing: border-box;
        border-radius: calc(var(--corner-radius) * 1px);
        border: calc(var(--outline-width) * 1px) solid ${v.Fv.var};
        background: ${v.ZC.var};
        outline: none;
        cursor: pointer;
    }

    .label__hidden {
        display: none;
        visibility: hidden;
    }

    .label {
        font-family: var(--body-font);
        color: ${v.sp.var};
        ${""} padding-inline-start: calc(var(--design-unit) * 2px + 2px);
        margin-inline-end: calc(var(--design-unit) * 2px + 2px);
        cursor: pointer;
        font-size: var(--type-ramp-base-font-size);
        line-height: var(--type-ramp-base-line-height);
    }

    .checked-indicator {
        width: 100%;
        height: 100%;
        display: block;
        fill: ${v.sp.var};
        opacity: 0;
        pointer-events: none;
    }

    .indeterminate-indicator {
        border-radius: calc(var(--corner-radius) * 1px);
        background: ${v.sp.var};
        position: absolute;
        top: 50%;
        left: 50%;
        width: 50%;
        height: 50%;
        transform: translate(-50%, -50%);
        opacity: 0;
    }

    :host(:enabled) .control:hover {
        background: ${v.gL.var};
        border-color: ${v.Xt.var};
    }

    :host(:enabled) .control:active {
        background: ${v.j5.var};
        border-color: ${v.i2.var};
    }

    :host(:${H.b}) .control {
        box-shadow: 0 0 0 2px var(--background-color), 0 0 0 4px ${v.cI.var};
        border-color: ${v.cI.var};
    }

    :host(.disabled) .label,
    :host(.readonly) .label,
    :host(.readonly) .control,
    :host(.disabled) .control {
        cursor: ${N.H};
    }

    :host(.checked:not(.indeterminate)) .checked-indicator,
    :host(.indeterminate) .indeterminate-indicator {
        opacity: 1;
    }

    :host(.disabled) {
        opacity: var(--disabled-opacity);
    }
`.withBehaviors(v.j5,v.gL,v.ZC,v.cI,v.sp,v.i2,v.Xt,v.Fv,(0,F.vF)(f.i`
            .control {
                forced-color-adjust: none;
                border-color: ${Z.H.FieldText};
                background: ${Z.H.Field};
            }
            :host(:enabled) .control:hover, .control:active {
                border-color: ${Z.H.Highlight};
                background: ${Z.H.Field};
            }
            .checked-indicator {
                fill: ${Z.H.FieldText};
            }
            .indeterminate-indicator {
                background: ${Z.H.FieldText};
            }
            :host(:${H.b}) .control {
                border-color: ${Z.H.Highlight};
                box-shadow: 0 0 0 2px ${Z.H.Field}, 0 0 0 4px ${Z.H.FieldText};
            }
            :host(.checked:${H.b}:enabled) .control {
                box-shadow: 0 0 0 2px ${Z.H.Field}, 0 0 0 4px ${Z.H.FieldText};
            }
            :host(.checked) .control {
                background: ${Z.H.Highlight};
                border-color: ${Z.H.Highlight};
            }
            :host(.checked) .control:hover, .control:active {
                background: ${Z.H.HighlightText};
            }
            :host(.checked) .checked-indicator {
                fill: ${Z.H.HighlightText};
            }
            :host(.checked) .control:hover .checked-indicator {
                fill: ${Z.H.Highlight}
            }
            :host(.checked) .indeterminate-indicator {
                background: ${Z.H.HighlightText};
            }
            :host(.checked) .control:hover .indeterminate-indicator {
                background: ${Z.H.Highlight}
            }
            :host(.disabled) {
                opacity: 1;
            }
            :host(.disabled) .control {
                forced-color-adjust: none;
                border-color: ${Z.H.GrayText};
                background: ${Z.H.Field};
            }
            :host(.disabled) .indeterminate-indicator,
            :host(.checked.disabled) .control:hover .indeterminate-indicator {
                forced-color-adjust: none;
                background: ${Z.H.GrayText};
            }
            :host(.disabled) .checked-indicator,
            :host(.checked.disabled) .control:hover .checked-indicator {
                forced-color-adjust: none;
                fill: ${Z.H.GrayText};
            }
        `));let Ei=class extends bi{};Ei=(0,R.gn)([(0,o.M)({name:"fluent-checkbox",template:Si,styles:xi,shadowOptions:{mode:"closed"}})],Ei);var wi,Ai=n(9526);class Ii extends o.H{}class ki extends((0,mi.U)(Ii)){constructor(){super(...arguments),this.proxy=document.createElement("input")}}!function(t){t.email="email",t.password="password",t.tel="tel",t.text="text",t.url="url"}(wi||(wi={}));class Di extends ki{constructor(){super(...arguments),this.type=wi.text}readOnlyChanged(){this.proxy instanceof HTMLInputElement&&(this.proxy.readOnly=this.readOnly,this.validate())}autofocusChanged(){this.proxy instanceof HTMLInputElement&&(this.proxy.autofocus=this.autofocus,this.validate())}placeholderChanged(){this.proxy instanceof HTMLInputElement&&(this.proxy.placeholder=this.placeholder)}typeChanged(){this.proxy instanceof HTMLInputElement&&(this.proxy.type=this.type,this.validate())}listChanged(){this.proxy instanceof HTMLInputElement&&(this.proxy.setAttribute("list",this.list),this.validate())}maxlengthChanged(){this.proxy instanceof HTMLInputElement&&(this.proxy.maxLength=this.maxlength,this.validate())}minlengthChanged(){this.proxy instanceof HTMLInputElement&&(this.proxy.minLength=this.minlength,this.validate())}patternChanged(){this.proxy instanceof HTMLInputElement&&(this.proxy.pattern=this.pattern,this.validate())}sizeChanged(){this.proxy instanceof HTMLInputElement&&(this.proxy.size=this.size)}spellcheckChanged(){this.proxy instanceof HTMLInputElement&&(this.proxy.spellcheck=this.spellcheck)}connectedCallback(){super.connectedCallback(),this.proxy.setAttribute("type",this.type),this.validate(),this.autofocus&&G.SO.queueUpdate((()=>{this.focus()}))}handleTextInput(){this.value=this.control.value}handleChange(){this.$emit("change")}}(0,O.gn)([(0,a.Lj)({attribute:"readonly",mode:"boolean"})],Di.prototype,"readOnly",void 0),(0,O.gn)([(0,a.Lj)({mode:"boolean"})],Di.prototype,"autofocus",void 0),(0,O.gn)([a.Lj],Di.prototype,"placeholder",void 0),(0,O.gn)([a.Lj],Di.prototype,"type",void 0),(0,O.gn)([a.Lj],Di.prototype,"list",void 0),(0,O.gn)([(0,a.Lj)({converter:a.Id})],Di.prototype,"maxlength",void 0),(0,O.gn)([(0,a.Lj)({converter:a.Id})],Di.prototype,"minlength",void 0),(0,O.gn)([a.Lj],Di.prototype,"pattern",void 0),(0,O.gn)([(0,a.Lj)({converter:a.Id})],Di.prototype,"size",void 0),(0,O.gn)([(0,a.Lj)({mode:"boolean"})],Di.prototype,"spellcheck",void 0),(0,O.gn)([s.LO],Di.prototype,"defaultSlottedNodes",void 0);class Ti{}(0,ie.e)(Ti,Ai.v),(0,ie.e)(Di,zt.hW,Ti);const Mi=c.d`
    <template
        class="
            ${t=>t.readOnly?"readonly":""}
        "
    >
        <label
            part="label"
            for="control"
            class="${t=>t.defaultSlottedNodes&&t.defaultSlottedNodes.length?"label":"label label__hidden"}"
        >
            <slot
                ${(0,d.Q)({property:"defaultSlottedNodes",filter:function(t,e,n){return t.nodeType!==Node.TEXT_NODE||"string"==typeof t.nodeValue&&!!t.nodeValue.trim().length}})}
            ></slot>
        </label>
        <div class="root" part="root">
            ${zt.hX}
            <input
                class="control"
                part="control"
                id="control"
                @input="${t=>t.handleTextInput()}"
                @change="${t=>t.handleChange()}"
                ?autofocus="${t=>t.autofocus}"
                ?disabled="${t=>t.disabled}"
                list="${t=>t.list}"
                maxlength="${t=>t.maxlength}"
                minlength="${t=>t.minlength}"
                pattern="${t=>t.pattern}"
                placeholder="${t=>t.placeholder}"
                ?readonly="${t=>t.readOnly}"
                ?required="${t=>t.required}"
                size="${t=>t.size}"
                ?spellcheck="${t=>t.spellcheck}"
                :value="${t=>t.value}"
                type="${t=>t.type}"
                aria-atomic="${t=>t.ariaAtomic}"
                aria-busy="${t=>t.ariaBusy}"
                aria-controls="${t=>t.ariaControls}"
                aria-current="${t=>t.ariaCurrent}"
                aria-describedBy="${t=>t.ariaDescribedby}"
                aria-details="${t=>t.ariaDetails}"
                aria-disabled="${t=>t.ariaDisabled}"
                aria-errormessage="${t=>t.ariaErrormessage}"
                aria-flowto="${t=>t.ariaFlowto}"
                aria-haspopup="${t=>t.ariaHaspopup}"
                aria-hidden="${t=>t.ariaHidden}"
                aria-invalid="${t=>t.ariaInvalid}"
                aria-keyshortcuts="${t=>t.ariaKeyshortcuts}"
                aria-label="${t=>t.ariaLabel}"
                aria-labelledby="${t=>t.ariaLabelledby}"
                aria-live="${t=>t.ariaLive}"
                aria-owns="${t=>t.ariaOwns}"
                aria-relevant="${t=>t.ariaRelevant}"
                aria-roledescription="${t=>t.ariaRoledescription}"
                ${(0,u.i)("control")}
            />
            ${zt.zq}
        </div>
    </template>
`,Pi=f.i`
  :host([appearance='filled']:not(.disabled):active)::after,
  :host([appearance='filled']:not(.disabled):focus-within:not(:active))::after {
    content: '';
    position: absolute;
    bottom: 0;
    border-bottom: calc(var(--focus-outline-width) * 1px) solid ${v.iq.var};
    border-bottom-left-radius: calc(var(--corner-radius) * 1px);
    border-bottom-right-radius: calc(var(--corner-radius) * 1px);
    z-index: 2;
    transition: all 300ms cubic-bezier(0.1, 0.9, 0.2, 1);
  }

  :host([appearance='filled']:not(.disabled):active)::after {
    left: 50%;
    width: 40%;
    transform: translateX(-50%);
    border-bottom-left-radius: 0;
    border-bottom-right-radius: 0;
  }

  :host([appearance='filled']:not(.disabled):focus-within:not(:active))::after {
    left: 0;
    width: 100%;
  }
`;var Ri=n(6970);const Oi=f.i`
  :host([appearance='filled']) .root {
    background: ${v.nE.var};
    border-color: transparent;
  }

  :host([appearance='filled']:hover:not(.disabled)) .root {
    background: ${v.Ep.var};
    border-color: transparent;
  }

  :host([appearance='filled']:focus-within:not(.disabled)) .root {
    border-color: transparent;
    box-shadow: none;
  }
  ${Pi}
`.withBehaviors(v.iq,v.Ep,v.nE,(0,F.vF)(f.i`
      :host([appearance='filled']) .root {
        background: ${Z.H.Field};
        border-color: ${Z.H.FieldText};
      }
      :host([appearance='filled']:hover:not([disabled])) .root,
      :host([appearance='filled']:focus-within:not([disabled])) .root {
        background: ${Z.H.Field};
        border-color: ${Z.H.FieldText};
      }
      :host([appearance='filled']:active:not([disabled])) .root {
        background: ${Z.H.Field};
        border-color: ${Z.H.FieldText};
      }
      :host([appearance='filled']:not([disabled]):active)::after,
      :host([appearance='filled']:not([disabled]):focus-within:not(:active))::after {
        border-bottom-color: ${Z.H.Highlight};
      }
      :host([appearance='filled'][disabled]) .root {
        border-color: ${Z.H.GrayText};
        background: ${Z.H.Field};
      }
    `)),Li=f.i`
    ${(0,g.j)("inline-block")} :host {
        font-family: var(--body-font);
        outline: none;
        user-select: none;
        position: relative;
    }

    .root {
        box-sizing: border-box;
        position: relative;
        display: flex;
        flex-direction: row;
        color: ${v.sp.var};
        background: ${v.ZC.var};
        border-radius: calc(var(--corner-radius) * 1px);
        border: calc(var(--outline-width) * 1px) solid ${v.Fv.var};
        height: calc(${B.i} * 1px);
    }

    .control {
        -webkit-appearance: none;
        background: transparent;
        border: 0;
        height: calc(100% - 4px);
        width: 100%;
        margin-top: auto;
        margin-bottom: auto;
        border: none;
        padding: 0 calc(var(--design-unit) * 2px + 1px);
        color: ${v.sp.var};
        font-family: inherit;
        font-size: var(--type-ramp-base-font-size);
        line-height: var(--type-ramp-base-line-height);
    }

    .control:hover,
    .control:${H.b},
    .control:disabled,
    .control:active {
        outline: none;
    }

    .label {
        display: block;
        color: ${v.sp.var};
        cursor: pointer;
        font-size: var(--type-ramp-base-font-size);
        line-height: var(--type-ramp-base-line-height);
        margin-bottom: 4px;
    }

    .label__hidden {
      display: none;
      visibility: hidden;
    }

    .start,
    .end {
        margin: auto;
        fill: currentcolor;
    }

    ::slotted(svg) {      ${""} width: 16px;
        height: 16px;
    }

    .start {
        margin-inline-start: 11px;
    }

    .end {
        margin-inline-end: 11px;
    }

    :host(:hover:not(.disabled)) .root {
        background: ${v.gL.var};
        border-color: ${v.Xt.var};
    }

    :host(:focus-within:not(.disabled)) .root {
        border-color: ${v.cI.var};
        box-shadow: 0 0 0 1px ${v.cI.var} inset;
    }

    :host(.disabled) .label,
    :host(.readonly) .label,
    :host(.readonly) .control,
    :host(.disabled) .control {
        cursor: ${N.H};
    }

    :host(.disabled) {
        opacity: var(--disabled-opacity);
    }
`.withBehaviors((0,Ri.H)("filled",Oi),v.gL,v.ZC,v.cI,v.sp,v.Xt,v.Fv,(0,F.vF)(f.i`
      .root {
        forced-color-adjust: none;
        background: ${Z.H.Field};
        border-color: ${Z.H.FieldText};
      }
      :host(:hover:not(.disabled)) .root {
        background: ${Z.H.Field};
        border-color: ${Z.H.Highlight};
      }
      .start,
      .end {
        fill: ${Z.H.ButtonText};
      }
      :host(.disabled) {
        opacity: 1;
      }
      :host(.disabled) .root {
        border-color: ${Z.H.GrayText};
        background: ${Z.H.Field};
      }
      :host(:focus-within:enabled) .root {
        border-color: ${Z.H.Highlight};
        box-shadow: 0 0 0 1px ${Z.H.Highlight} inset;
      }
      .control {
        color: ${Z.H.ButtonText};
      }
      ::placeholder,
      ::-webkit-input-placeholder {
        color: ${Z.H.FieldText};
      }
      :host(.disabled) ::placeholder,
      :host(.disabled) ::-webkit-input-placeholder,
      :host([disabled]) .label {
        color: ${Z.H.GrayText};
      }
    `));let _i=class extends Di{appearanceChanged(t,e){t!==e&&(this.classList.add(e),this.classList.remove(t))}connectedCallback(){super.connectedCallback(),this.appearance||(this.appearance="outline")}};(0,R.gn)([a.Lj],_i.prototype,"appearance",void 0),_i=(0,R.gn)([(0,o.M)({name:"fluent-text-field",template:Mi,styles:Li,shadowOptions:{delegatesFocus:!0,mode:"closed"}})],_i);var Ni,Hi=n(9701);function Fi(t){return(0,Hi.Re)(t)&&("option"===t.getAttribute("role")||t instanceof HTMLOptionElement)}class Zi extends o.H{constructor(t,e,n,i){super(),this.defaultSelected=!1,this.dirtySelected=!1,this.selected=this.defaultSelected,this.dirtyValue=!1,this.initialValue=this.initialValue||"",t&&(this.textContent=t),e&&(this.initialValue=e),n&&(this.defaultSelected=n),i&&(this.selected=i),this.proxy=new Option(`${this.textContent}`,this.initialValue,this.defaultSelected,this.selected),this.proxy.disabled=this.disabled}defaultSelectedChanged(){this.dirtySelected||(this.selected=this.defaultSelected,this.proxy instanceof HTMLOptionElement&&(this.proxy.selected=this.defaultSelected))}disabledChanged(t,e){this.proxy instanceof HTMLOptionElement&&(this.proxy.disabled=this.disabled)}selectedAttributeChanged(){this.defaultSelected=this.selectedAttribute,this.proxy instanceof HTMLOptionElement&&(this.proxy.defaultSelected=this.defaultSelected)}selectedChanged(){this.$fastController.isConnected&&(this.dirtySelected||(this.dirtySelected=!0),this.proxy instanceof HTMLOptionElement&&(this.proxy.selected=this.selected))}initialValueChanged(t,e){this.dirtyValue||(this.value=this.initialValue,this.dirtyValue=!1)}get label(){return this.value?this.value:this.textContent?this.textContent:""}get text(){return this.textContent}set value(t){this._value=t,this.dirtyValue=!0,this.proxy instanceof HTMLElement&&(this.proxy.value=t),s.y$.notify(this,"value")}get value(){return s.y$.track(this,"value"),this._value?this._value:this.text}get form(){return this.proxy?this.proxy.form:null}}(0,O.gn)([s.LO],Zi.prototype,"defaultSelected",void 0),(0,O.gn)([(0,a.Lj)({mode:"boolean"})],Zi.prototype,"disabled",void 0),(0,O.gn)([(0,a.Lj)({attribute:"selected",mode:"boolean"})],Zi.prototype,"selectedAttribute",void 0),(0,O.gn)([s.LO],Zi.prototype,"selected",void 0),(0,O.gn)([(0,a.Lj)({attribute:"value",mode:"fromView"})],Zi.prototype,"initialValue",void 0),(0,ie.e)(Zi,zt.hW),function(t){t.listbox="listbox"}(Ni||(Ni={}));class Bi extends o.H{constructor(){super(...arguments),this.selectedIndex=-1,this.typeaheadBuffer="",this.typeaheadTimeout=-1,this.typeAheadExpired=!0,this.role=Ni.listbox,this._options=[],this.selectedOptions=[],this.shouldSkipFocus=!1,this.handleTypeAhead=t=>{this.typeaheadTimeout&&window.clearTimeout(this.typeaheadTimeout),this.typeaheadTimeout=window.setTimeout((()=>this.typeAheadExpired=!0),Bi.TYPE_AHEAD_TIMEOUT_MS),t.length>1||(this.typeaheadBuffer=`${this.typeAheadExpired?"":this.typeaheadBuffer}${t}`)}}selectedIndexChanged(t,e){this.setSelectedOptions()}typeaheadBufferChanged(t,e){if(this.$fastController.isConnected){const t=this.typeaheadBuffer.replace(/[.*+\-?^${}()|[\]\\]/g,"\\$&"),e=new RegExp(`^${t}`,"gi"),n=this.options.filter((t=>t.text.trim().match(e)));if(n.length){const t=this.options.indexOf(n[0]);t>-1&&(this.selectedIndex=t)}this.typeAheadExpired=!1}}slottedOptionsChanged(t,e){this.$fastController.isConnected&&(this.options=e.reduce(((t,e)=>(Fi(e)&&t.push(e),t)),[]),this.options.forEach((t=>{t.id=t.id||st("option-")})),this.setSelectedOptions(),this.setDefaultSelectedOption())}get options(){return s.y$.track(this,"options"),this._options}set options(t){this._options=t,s.y$.notify(this,"options")}selectedOptionsChanged(t,e){this.$fastController.isConnected&&this.options.forEach((t=>{t.selected=e.includes(t)}))}get firstSelectedOption(){return this.selectedOptions[0]}focusAndScrollOptionIntoView(){this.contains(document.activeElement)&&this.firstSelectedOption&&(this.firstSelectedOption.focus(),requestAnimationFrame((()=>{this.firstSelectedOption.scrollIntoView({block:"nearest"})})))}focusinHandler(t){this.shouldSkipFocus||t.target!==t.currentTarget||(this.setSelectedOptions(),this.focusAndScrollOptionIntoView()),this.shouldSkipFocus=!1}mousedownHandler(t){return this.shouldSkipFocus=!this.contains(document.activeElement),!0}setDefaultSelectedOption(){if(this.options&&this.$fastController.isConnected){const t=this.options.findIndex((t=>null!==t.getAttribute("selected")));if(-1!==t)return void(this.selectedIndex=t);this.selectedIndex=0}}setSelectedOptions(){if(this.$fastController.isConnected&&this.options){const t=this.options[this.selectedIndex]||null;this.selectedOptions=this.options.filter((e=>e.isSameNode(t))),this.ariaActiveDescendant=this.firstSelectedOption?this.firstSelectedOption.id:"",this.focusAndScrollOptionIntoView()}}selectFirstOption(){this.disabled||(this.selectedIndex=0)}selectLastOption(){this.disabled||(this.selectedIndex=this.options.length-1)}selectNextOption(){!this.disabled&&this.options&&this.selectedIndex<this.options.length-1&&(this.selectedIndex+=1)}get length(){return this.options?this.options.length:0}selectPreviousOption(){!this.disabled&&this.selectedIndex>0&&(this.selectedIndex=this.selectedIndex-1)}clickHandler(t){const e=t.target.closest("option,[role=option]");if(e&&!e.disabled)return this.selectedIndex=this.options.indexOf(e),!0}keydownHandler(t){if(this.disabled)return!0;this.shouldSkipFocus=!1;const e=t.key;switch(e){case"Home":t.shiftKey||(t.preventDefault(),this.selectFirstOption());break;case"ArrowDown":t.shiftKey||(t.preventDefault(),this.selectNextOption());break;case"ArrowUp":t.shiftKey||(t.preventDefault(),this.selectPreviousOption());break;case"End":t.preventDefault(),this.selectLastOption();break;case"Tab":return this.focusAndScrollOptionIntoView(),!0;case"Enter":case"Escape":return!0;case" ":if(this.typeAheadExpired)return!0;default:return 1===e.length&&this.handleTypeAhead(`${e}`),!0}}}Bi.TYPE_AHEAD_TIMEOUT_MS=1e3,Bi.slottedOptionFilter=t=>Fi(t)&&!t.disabled&&!t.hidden,(0,O.gn)([s.LO],Bi.prototype,"selectedIndex",void 0),(0,O.gn)([s.LO],Bi.prototype,"typeaheadBuffer",void 0),(0,O.gn)([a.Lj],Bi.prototype,"role",void 0),(0,O.gn)([(0,a.Lj)({mode:"boolean"})],Bi.prototype,"disabled",void 0),(0,O.gn)([s.LO],Bi.prototype,"slottedOptions",void 0),(0,O.gn)([s.LO],Bi.prototype,"selectedOptions",void 0);class $i{constructor(){this.ariaActiveDescendant=""}}(0,O.gn)([s.LO],$i.prototype,"ariaActiveDescendant",void 0),(0,O.gn)([s.LO],$i.prototype,"ariaDisabled",void 0),(0,O.gn)([s.LO],$i.prototype,"ariaExpanded",void 0),(0,ie.e)($i,Ai.v),(0,ie.e)(Bi,$i);const Ui=c.d`
    <template
        aria-activedescendant="${t=>t.ariaActiveDescendant}"
        class="listbox"
        role="${t=>t.role}"
        tabindex="${t=>t.disabled?null:"0"}"
        @click="${(t,e)=>t.clickHandler(e.event)}"
        @focusin="${(t,e)=>t.focusinHandler(e.event)}"
        @keydown="${(t,e)=>t.keydownHandler(e.event)}"
        @mousedown="${(t,e)=>t.mousedownHandler(e.event)}"
    >
        <slot
            ${(0,d.Q)({filter:Bi.slottedOptionFilter,flatten:!0,property:"slottedOptions"})}
        ></slot>
    </template>
`,Vi=f.i`
  ${(0,g.j)("inline-flex")} :host {
    background: ${v.dA.var};
    border: calc(var(--outline-width) * 1px) solid ${v.Fv.var};
    border-radius: calc(var(--corner-radius) * 1px);
    box-sizing: border-box;
    flex-direction: column;
    padding: calc(var(--design-unit) * 1px) 0;
  }

  :host(:focus-within:not([disabled])) {
    border-color: ${v.cI.var};
    box-shadow: 0 0 0 1px ${v.cI.var} inset;
  }
`.withBehaviors((0,F.vF)(f.i`
            :host(:${H.b}) ::slotted([aria-selected="true"][role="option"]) {
                background: ${Z.H.Highlight};
                border-color: ${Z.H.ButtonText};
                box-shadow: 0 0 0 calc(var(--focus-outline-width) * 1px) inset ${Z.H.HighlightText};
                color: ${Z.H.HighlightText};
                fill: currentcolor;
            }

            :host(:${H.b}) ::slotted([aria-selected="true"][role="option"]) {
                background: ${Z.H.Highlight};
                border-color: ${Z.H.ButtonText};
                box-shadow: 0 0 0 calc(var(--focus-outline-width) * 1px) inset ${Z.H.HighlightText};
                color: ${Z.H.HighlightText};
                fill: currentcolor;
            }

            ::slotted([role="option"]:not([aria-selected="true"]):not([disabled]):hover) {
                forced-color-adjust: none;
                color: ${Z.H.ButtonText};
                background: ${Z.H.ButtonFace};
                border-color: ${Z.H.Highlight};
                box-shadow: none;
            }
        `),v.dA,v.Fv,v.LW);let Gi=class extends Bi{};Gi=(0,R.gn)([(0,o.M)({name:"fluent-listbox",template:Ui,styles:Vi})],Gi);const ji=c.d`
    <template
        aria-selected="${t=>t.selected}"
        class="${t=>t.selected?"selected":""} ${t=>t.disabled?"disabled":""}"
        role="option"
    >
        ${zt.hX}
        <span class="content" part="content">
            <slot></slot>
        </span>
        ${zt.zq}
    </template>
`,zi=f.i`
    ${(0,g.j)("inline-flex")} :host {
        font-family: var(--body-font);
        border-radius: calc(var(--corner-radius) * 1px);
        border: calc(var(--focus-outline-width) * 1px) solid transparent;
        box-sizing: border-box;
        color: ${v.sp.var};
        cursor: pointer;
        fill: currentcolor;
        font-size: var(--type-ramp-base-font-size);
        height: calc(${B.i} * 1px);
        line-height: var(--type-ramp-base-line-height);
        margin: 0 calc(var(--design-unit) * 1px);
        outline: none;
        overflow: hidden;
        align-items: center;
        padding: 0 calc(var(--design-unit) * 2.25px);
        user-select: none;
        white-space: nowrap;
    }

    :host(:${H.b}) {
        box-shadow: 0 0 0 calc(var(--focus-outline-width) * 1px) inset ${v.Kt.var};
        border-color: ${v.cI.var};
        background: ${v.En.var};
        color: ${v.Jd.var};
    }

    :host([aria-selected="true"]) {
        background: ${v.En.var};
        color: ${v.Jd.var};
    }

    :host(:active) {
        background: ${v.fE.var};
        color: ${v.Jd.var};
    }

    :host(:not([aria-selected="true"]):hover) {
        background: ${v.Ep.var};
        color: ${v.eH.var};
    }

    :host(:not([aria-selected="true"]):active) {
        background: ${v.Ep.var};
        color: ${v.eH.var};
    }

    :host([disabled]) {
        cursor: ${N.H};
        opacity: var(--disabled-opacity);
    }

    :host([disabled]:hover) {
        background-color: inherit;
    }

    .content {
        grid-column-start: 2;
        justify-self: start;
        overflow: hidden;
        text-overflow: ellipsis;
    }

    .start,
    .end,
    ::slotted(svg) {
        display: flex;
    }

    ::slotted(svg) {
        ${""}
        height: calc(var(--design-unit) * 4px);
        width: calc(var(--design-unit) * 4px);
    }

    ::slotted([slot="end"]) {
        margin-inline-start: 1ch;
    }

    ::slotted([slot="start"]) {
        margin-inline-end: 1ch;
    }

`.withBehaviors(v.fE,v.En,v.LU,v.Jd,(0,F.vF)(f.i`
      :host {
        border-color: transparent;
        color: ${Z.H.ButtonText};
        forced-color-adjust: none;
      }

      :host(:not([aria-selected='true']):hover),
      :host([aria-selected='true']) {
        background: ${Z.H.Highlight};
        color: ${Z.H.HighlightText};
      }

      :host([disabled]),
      :host([disabled]:not([aria-selected='true']):hover) {
        background: ${Z.H.Canvas};
        color: ${Z.H.GrayText};
        fill: currentcolor;
        opacity: 1;
      }
    `),v.Ep,v.Cs,v.Br,v.DR,v.cI,v.Kt,v.eH,v.sp,v.$F);let Wi=class extends Zi{};Wi=(0,R.gn)([(0,o.M)({name:"fluent-option",template:ji,styles:zi})],Wi);class Yi extends o.H{}class qi extends((0,mi.U)(Yi)){constructor(){super(...arguments),this.proxy=document.createElement("input")}}class Xi extends qi{constructor(){super(),this.initialValue="on",this.dirtyChecked=!1,this.formResetCallback=()=>{this.checked=this.checkedAttribute,this.dirtyChecked=!1},this.keypressHandler=t=>{switch(t.keyCode){case ee.ei:this.checked=!this.checked}},this.clickHandler=t=>{this.disabled||this.readOnly||(this.checked=!this.checked)},this.defaultChecked=!!this.checkedAttribute,this.checked=this.defaultChecked}readOnlyChanged(){this.proxy instanceof HTMLInputElement&&(this.proxy.readOnly=this.readOnly),this.readOnly?this.classList.add("readonly"):this.classList.remove("readonly")}checkedAttributeChanged(){this.defaultChecked=this.checkedAttribute}defaultCheckedChanged(){this.dirtyChecked||(this.checked=this.defaultChecked,this.dirtyChecked=!1)}checkedChanged(){this.dirtyChecked||(this.dirtyChecked=!0),this.updateForm(),this.proxy instanceof HTMLInputElement&&(this.proxy.checked=this.checked),this.$emit("change"),this.checked?this.classList.add("checked"):this.classList.remove("checked"),this.validate()}connectedCallback(){super.connectedCallback(),this.proxy.setAttribute("type","checkbox"),this.updateForm()}updateForm(){const t=this.checked?this.value:null;this.setFormValue(t,t)}}(0,O.gn)([(0,a.Lj)({attribute:"readonly",mode:"boolean"})],Xi.prototype,"readOnly",void 0),(0,O.gn)([(0,a.Lj)({attribute:"checked",mode:"boolean"})],Xi.prototype,"checkedAttribute",void 0),(0,O.gn)([s.LO],Xi.prototype,"defaultSlottedNodes",void 0),(0,O.gn)([s.LO],Xi.prototype,"defaultChecked",void 0),(0,O.gn)([s.LO],Xi.prototype,"checked",void 0);const Ki=c.d`
    <template
        role="switch"
        aria-checked="${t=>t.checked}"
        aria-disabled="${t=>t.disabled}"
        aria-readonly="${t=>t.readOnly}"
        tabindex="${t=>t.disabled?null:0}"
        @keypress="${(t,e)=>t.keypressHandler(e.event)}"
        @click="${(t,e)=>t.clickHandler(e.event)}"
        class="${t=>t.checked?"checked":""}"
    >
        <label
            part="label"
            class="${t=>t.defaultSlottedNodes&&t.defaultSlottedNodes.length?"label":"label label__hidden"}"
        >
            <slot ${(0,d.Q)("defaultSlottedNodes")}></slot>
        </label>
        <div part="switch" class="switch">
            <span class="checked-indicator" part="checked-indicator"></span>
        </div>
        <span class="status-message" part="status-message">
            <span class="checked-message" part="checked-message">
                <slot name="checked-message"></slot>
            </span>
            <span class="unchecked-message" part="unchecked-message">
                <slot name="unchecked-message"></slot>
            </span>
        </span>
    </template>
`,Qi=f.i`
    :host([hidden]) {
        display: none;
    }

    ${(0,g.j)("inline-flex")} :host {
        align-items: center;
        outline: none;
        font-family: var(--body-font);
        margin: calc(var(--design-unit) * 1px) 0;
        ${""} user-select: none;
    }

    :host(.disabled) {
        opacity: var(--disabled-opacity);
    }

    :host(.disabled) .label,
    :host(.readonly) .label,
    :host(.readonly) .switch,
    :host(.disabled) .switch {
        cursor: ${N.H};
    }

    .switch {
        position: relative;
        outline: none;
        box-sizing: border-box;
        width: calc(((${B.i} / 2) + var(--design-unit)) * 2px);
        height: calc(((${B.i} / 2) + var(--design-unit)) * 1px);
        background: ${v.ZC.var};
        border-radius: calc(${B.i} * 1px);
        border: calc(var(--outline-width) * 1px) solid ${v.Fv.var};
    }

    :host(:enabled) .switch:hover {
        background: ${v.gL.var};
        border-color: ${v.Xt.var};
        cursor: pointer;
    }

    :host(:enabled) .switch:active {
        background: ${v.j5.var};
        border-color: ${v.i2.var};
    }

    :host(:${H.b}) .switch {
        box-shadow: 0 0 0 2px var(--background-color), 0 0 0 4px ${v.cI.var};
        border-color: ${v.cI.var};
    }

    .checked-indicator {
        position: absolute;
        height: calc((${B.i} - (var(--design-unit) * 5.5)) * 1px);
        width: calc((${B.i} - (var(--design-unit) * 5.5)) * 1px);
        top: calc(var(--design-unit) * 1px);
        background: ${v.sp.var};
        border-radius: 50%;
        transition: all 0.2s ease-in-out;
    }

    .status-message {
        color: ${v.sp.var};
        cursor: pointer;
        font-size: var(--type-ramp-base-font-size);
        line-height: var(--type-ramp-base-line-height);
    }

    .label__hidden {
        display: none;
        visibility: hidden;
    }

    .label {
        color: ${v.sp.var};
        font-size: var(--type-ramp-base-font-size);
        line-height: var(--type-ramp-base-line-height);
        margin-inline-end: calc(var(--design-unit) * 2px + 2px);
        cursor: pointer;
    }

    ::slotted(*) {
        ${""} margin-inline-start: calc(var(--design-unit) * 2px + 2px);
    }

    :host([aria-checked="true"]) .checked-indicator {
        background: ${v.Jd.var};
    }

    :host([aria-checked="true"]) .switch {
        background: ${v.iq.var};
    }

    :host([aria-checked="true"]:enabled) .switch:hover {
        background: ${v.En.var};
    }

    :host([aria-checked="true"]:enabled) .switch:active {
        background: ${v.fE.var};
    }

    :host([aria-checked="true"]:${H.b}:enabled) .switch {
        box-shadow: 0 0 0 2px var(--background-color), 0 0 0 4px ${v.cI.var};
        border-color: transparent;
    }

    .unchecked-message {
        display: block;
    }

    .checked-message {
        display: none;
    }

    :host([aria-checked="true"]) .unchecked-message {
        display: none;
    }

    :host([aria-checked="true"]) .checked-message {
        display: block;
    }
`.withBehaviors(v.fE,v.En,v.iq,v.Jd,v.j5,v.gL,v.ZC,v.cI,v.sp,v.i2,v.Xt,v.Fv,new Yt(f.i`
      .checked-indicator {
        left: calc(var(--design-unit) * 1px);
      }

      :host([aria-checked='true']) .checked-indicator {
        left: calc((((${B.i} / 2) + var(--design-unit)) + var(--design-unit)) * 1px);
      }
    `,f.i`
      .checked-indicator {
        right: calc(var(--design-unit) * 1px);
      }

      :host([aria-checked='true']) .checked-indicator {
        right: calc((((${B.i} / 2) + var(--design-unit)) + var(--design-unit)) * 1px);
      }
    `),(0,F.vF)(f.i`
            .checked-indicator,
            :host(:enabled) .switch:active .checked-indicator {
                forced-color-adjust: none;
                background: ${Z.H.FieldText};
            }
            .switch {
                forced-color-adjust: none;
                background: ${Z.H.Field};
                border-color: ${Z.H.FieldText};
            }
            :host(:enabled) .switch:hover {
                background: ${Z.H.HighlightText};
                border-color: ${Z.H.Highlight};
            }
            :host(.checked) .switch {
                background: ${Z.H.Highlight};
                border-color: ${Z.H.Highlight};
            }
            :host(.checked:enabled) .switch:hover,
            :host(:enabled) .switch:active {
                background: ${Z.H.HighlightText};
                border-color: ${Z.H.Highlight};
            }
            :host(.checked) .checked-indicator {
                background: ${Z.H.HighlightText};
            }
            :host(.checked:enabled) .switch:hover .checked-indicator {
                background: ${Z.H.Highlight};
            }
            :host(:${H.b}) .switch {
                border-color: ${Z.H.Highlight};
                box-shadow: 0 0 0 2px ${Z.H.Field}, 0 0 0 4px ${Z.H.FieldText};
            }
            :host(.checked:${H.b}:enabled) .switch {
                box-shadow: 0 0 0 2px ${Z.H.Field}, 0 0 0 4px ${Z.H.FieldText};
            }
            :host(.disabled) {
                opacity: 1;
            }
            :host(.disabled) .checked-indicator {
                background: ${Z.H.GrayText};
            }
            :host(.disabled) .switch {
                background: ${Z.H.Field};
                border-color: ${Z.H.GrayText};
            }
            .status-message,
            .label {
              color: ${Z.H.FieldText};
          }
        `));let Ji=class extends Xi{};Ji=(0,R.gn)([(0,o.M)({name:"fluent-switch",template:Ki,styles:Qi,shadowOptions:{mode:"closed"}})],Ji);var tr=null,er="test-shopping-localstorage";function nr(t){var e=null;return or()&&(e=window.localStorage.getItem(t)),e}function ir(t,e){or()&&window.localStorage.setItem(t,e)}function rr(t){or()&&localStorage.removeItem(t)}function or(){var t;if(null!==tr)return tr;if("undefined"!=typeof window&&null!==(t=window)&&void 0!==t&&t.localStorage)try{window.localStorage.setItem(er,er),window.localStorage.getItem(er),window.localStorage.removeItem(er),tr=!0}catch(t){tr=!1}return tr}var ar,sr=function(){function t(){(0,ye.Z)(this,t)}return(0,Ce.Z)(t,[{key:"getStyles",value:function(){return"\n            #divCheckoutWrapper {\n                margin-bottom: 10px;\n                justify-content: center;\n                width: 328px;\n                margin-left: 4px;\n            }\n\n            #divAddressSection>p,\n            #divPaymentSection>p\n            {\n                width: 230px;\n                margin:0 12px;\n                font-size: 14px;\n                line-height: 20px;\n                color: rgba(0, 0, 0, 0.83);\n            }\n\n            #divAddressSection>p:last-of-type,\n            #divPaymentSection>p:last-of-type\n            {\n                padding-bottom: 16px;\n            }\n            #divPaymentSection p:last-of-type\n            {\n                font-size: 12px;\n                line-height: 16px;\n                color: rgba(0, 0, 0, 0.55);\n                margin-top: 12px;\n            }\n            #divPaymentSection ::part(control) {\n                margin:auto;\n            }\n\n            #divAddressSection .shipttl,\n            #divPaymentSection .payttl {\n                display:inline-block;\n                margin:12px 12px 8px 12px;\n                font-size: 12px;\n                line-height: 16px;\n                color: rgba(0, 0, 0, 0.55);\n            }\n\n            #divAddressSection img,\n            #divPaymentSection img  {\n                float:left;\n            }\n\n            #divPaymentSection .cardimg {\n                float:none;\n                display:inline-block;\n            }\n\n            #divPaymentSection,\n            #divAddressSection {\n                width: 328px;\n                margin-right: 0px;\n                height: fit-content;\n                background: #E8F5FF;\n                border-radius: 4px;\n            }\n\n            #divPaymentSection {\n                margin-top: 2px;\n            }\n\n            #divAddressSection {\n                margin-top: 12px;\n            }\n\n            #divAddressSection fluent-anchor,\n            #divPaymentSection fluent-anchor  {\n                float:right;\n                font-size:14px;\n                line-height:16px;\n                color:#0078d4;\n            }\n            #divPaymentSection fluent-checkbox {\n                margin-left: 44px;\n            }\n\n            #divPaymentSection ::part(label) {\n                font-size:12px !important;\n                line-height:16px;\n            }\n            .show {\n                display: block !important;\n            }\n            .listbox {\n                display: none;\n                position: absolute;\n                z-index: 1;\n                width: 308px;\n                left: 26px;\n            }\n            #divPaymentButton,\n            #divAddressButton,\n            .switchButton {\n                float: right;\n                position: relative;\n                top: 13px;\n            }\n            .checkoutButton {\n                width: auto;\n                min-width: 336px;\n                max-width: 100%;\n                height: 48px;\n            }\n        "}},{key:"getCouponImg",value:function(){return'<svg width="32" height="32" style="position: relative;bottom: -10px;margin-right:10px;" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg">\n        <path d="M22.3882 8.68803L19.847 7.54377C19.6353 7.43649 19.4235 7.54377 19.3176 7.72256C18.5411 9.00986 16.9529 9.51047 15.5764 8.90258C14.2 8.29469 13.5294 6.72132 13.9529 5.29099C14.0235 5.07644 13.9176 4.86189 13.7059 4.75462L11.1647 3.61035C10.4235 3.28852 9.54115 3.61035 9.2235 4.36127L1.14115 22.8483C0.823499 23.5993 1.14115 24.4932 1.88232 24.815L4.77644 26.1023C5.44703 24.6005 7.17644 23.8853 8.69409 24.5647C10.1764 25.2441 10.8823 26.9963 10.2117 28.5339L13.1059 29.8212C13.847 30.143 14.7294 29.8212 15.047 29.0703L23.1294 10.6547C23.4823 9.90382 23.1294 9.00986 22.3882 8.68803Z" fill="url(#paint0_linear)"/>\n        <path d="M30.4352 8.97412L28.247 7.25772C28.0705 7.11469 27.8235 7.15045 27.6823 7.29348C26.6235 8.33047 24.9647 8.47351 23.7647 7.54379C22.5647 6.61407 22.2823 4.93343 23.0235 3.64613C23.1294 3.46734 23.0941 3.21703 22.9176 3.074L20.7294 1.3576C20.0941 0.856984 19.1411 0.964259 18.647 1.60791L6.43525 17.4846C5.94113 18.1283 6.04701 19.0937 6.6823 19.5943L8.87054 21.3107C9.04701 21.4538 9.29407 21.418 9.47054 21.275C10.5294 20.238 12.1882 20.095 13.3529 21.0604C14.5529 21.9902 14.8352 23.6708 14.0941 24.9581C13.9882 25.1369 14.0235 25.3872 14.2 25.5302L16.3882 27.2466C17.0235 27.7472 17.9764 27.64 18.4705 26.9963L30.6823 11.0839C31.1764 10.4045 31.0705 9.47474 30.4352 8.97412Z" fill="url(#paint1_linear)"/>\n        <path d="M26.6588 12.4069C26.5529 12.4069 26.4823 12.3712 26.4117 12.2997L24.9294 11.1554C24.7529 11.0124 24.7176 10.7263 24.8588 10.5475C25 10.3687 25.2823 10.333 25.4588 10.476L26.9412 11.6203C27.1176 11.7633 27.1529 12.0494 27.0117 12.2282C26.9412 12.3712 26.8 12.4069 26.6588 12.4069ZM23.447 9.86811C23.3412 9.86811 23.2706 9.83235 23.2 9.76083L21.7176 8.61657C21.5412 8.47353 21.5059 8.18747 21.647 8.00867C21.7882 7.82988 22.0706 7.79412 22.247 7.93716L23.7294 9.08142C23.9059 9.22446 23.9412 9.51052 23.8 9.68932C23.6941 9.83235 23.5882 9.86811 23.447 9.86811ZM20.2 7.32927C20.0941 7.32927 20.0235 7.29351 19.9529 7.22199L18.4706 6.07772C18.2941 5.93469 18.2588 5.64862 18.4 5.46983C18.5412 5.29104 18.8235 5.25528 19 5.39832L20.4823 6.54258C20.6588 6.68562 20.6941 6.97168 20.5529 7.15047C20.4823 7.25775 20.3412 7.32927 20.2 7.32927Z" fill="white"/>\n        <path d="M18.3647 23.2417C18.2588 23.2417 18.1882 23.2059 18.1176 23.1344L16.6353 21.9901C16.4588 21.8471 16.4235 21.561 16.5647 21.3822C16.7059 21.2034 16.9882 21.1677 17.1647 21.3107L18.647 22.455C18.8235 22.598 18.8588 22.8841 18.7176 23.0629C18.6117 23.2059 18.4706 23.2417 18.3647 23.2417ZM15.1176 20.7028C15.0117 20.7028 14.9411 20.6671 14.8706 20.5955L13.3882 19.4513C13.2117 19.3082 13.1764 19.0222 13.3176 18.8434C13.4588 18.6646 13.7411 18.6288 13.9176 18.7719L15.4 19.9161C15.5764 20.0592 15.6117 20.3452 15.4706 20.524C15.3647 20.6671 15.2588 20.7028 15.1176 20.7028ZM11.9059 18.164C11.8 18.164 11.7294 18.1282 11.6588 18.0567L10.1764 16.9124C9.99997 16.7694 9.96467 16.4833 10.1058 16.3046C10.247 16.1258 10.5294 16.09 10.7059 16.233L12.1882 17.3773C12.3647 17.5203 12.4 17.8064 12.2588 17.9852C12.1529 18.0925 12.0117 18.164 11.9059 18.164Z" fill="white"/>\n        <path d="M21.4 11.4057L20.9412 13.6227L22.4941 15.2676C22.8117 15.5895 22.6 16.1616 22.1765 16.1973L19.9529 16.4477L18.8941 18.4501C18.6823 18.8435 18.1176 18.8435 17.9059 18.4144L16.9882 16.3404L14.8 15.947C14.3412 15.8755 14.2 15.3034 14.5176 15.0173L16.1765 13.4797L15.8588 11.2269C15.7882 10.7621 16.2823 10.4403 16.6706 10.6906L18.6117 11.7991L20.6235 10.7978C21.047 10.619 21.5059 10.9766 21.4 11.4057Z" fill="white"/>\n        <path d="M28.7059 13.0505C28.5294 12.9075 28.247 12.9433 28.1059 13.1221C27.9647 13.3008 28 13.5869 28.1764 13.7299L28.4588 13.9445L28.9882 13.2651L28.7059 13.0505Z" fill="#F7B547"/>\n        <path d="M16.7411 4.68314C16.8117 4.75466 16.9176 4.79042 16.9882 4.79042C17.1293 4.79042 17.2352 4.7189 17.3058 4.61163C17.447 4.43283 17.4117 4.14677 17.2352 4.00373L16.9529 3.78918L16.4235 4.46859L16.7411 4.68314Z" fill="#F7B547"/>\n        <path d="M20.3764 23.8854C20.2 23.7423 19.9176 23.7781 19.7764 23.9569C19.6353 24.1357 19.6706 24.4218 19.847 24.5648L20.1294 24.7793L20.6588 24.0999L20.3764 23.8854Z" fill="#F7B547"/>\n        <path d="M8.41176 15.5179C8.48235 15.5894 8.58823 15.6251 8.65882 15.6251C8.8 15.6251 8.90588 15.5536 8.97647 15.4463C9.11764 15.2676 9.08235 14.9815 8.90588 14.8385L8.62353 14.6239L8.09412 15.3033L8.41176 15.5179Z" fill="#F7B547"/>\n        <path d="M28.5923 24.4409C28.7004 24.3857 28.8058 24.5195 28.7268 24.6116C28.015 25.4411 27.8753 26.6186 28.3729 27.5923C28.4282 27.7004 28.2944 27.8058 28.2022 27.7268C27.3727 27.015 26.1953 26.8753 25.2215 27.3729C25.1135 27.4282 25.008 27.2944 25.0871 27.2022C25.7988 26.3727 25.9386 25.1953 25.4409 24.2215C25.3857 24.1135 25.5195 24.008 25.6116 24.0871C26.4411 24.7988 27.6186 24.9386 28.5923 24.4409Z" fill="#FFBE00"/>\n        <path d="M6.74329 3.15509C6.91002 3.1398 6.97634 3.3652 6.8279 3.44265C5.49113 4.13952 4.70811 5.57536 4.84575 7.07735C4.86103 7.24408 4.63564 7.31039 4.55819 7.16195C3.86131 5.82519 2.42547 5.04217 0.923492 5.17981C0.75676 5.19509 0.690445 4.96969 0.838888 4.89225C2.17565 4.19537 2.95867 2.75953 2.82103 1.25755C2.80575 1.09081 3.03114 1.0245 3.10859 1.17294C3.80547 2.5097 5.24131 3.29272 6.74329 3.15509Z" fill="#FFBE00"/>\n        <defs>\n        <linearGradient id="paint0_linear" x1="24.1203" y1="-18.7589" x2="-7.47326" y2="-6.37741" gradientUnits="userSpaceOnUse">\n        <stop stop-color="#8CCFFF"/>\n        <stop offset="1" stop-color="#1F65F1"/>\n        </linearGradient>\n        <linearGradient id="paint1_linear" x1="24.4999" y1="-0.49994" x2="1.97719" y2="2.61021" gradientUnits="userSpaceOnUse">\n        <stop stop-color="#FE7002"/>\n        <stop offset="0.9935" stop-color="#FFBE00"/>\n        </linearGradient>\n        </defs>\n        </svg>'}},{key:"getEcImg",value:function(){return'<svg width="32" height="32" style="position: relative;bottom: -10px;margin-right:10px;" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg">\n        <path d="M17.2355 30.0548L0.761976 21.9761C0.0946049 21.6249 -0.186392 20.817 0.129731 20.1497L5.0472 10.1742C5.39845 9.50684 6.20632 9.22584 6.87369 9.54196L23.3472 17.6207C24.0146 17.9719 24.2956 18.7798 23.9795 19.4472L19.0971 29.4226C18.7459 30.1251 17.938 30.4061 17.2355 30.0548Z" fill="#1F65F1"/>\n        <path d="M5.78485 20.6414L3.08024 19.3067C2.79924 19.1662 2.69386 18.8501 2.83436 18.5691L4.02861 16.1103C4.1691 15.8293 4.48523 15.724 4.76623 15.8645L7.47084 17.1992C7.75184 17.3397 7.85721 17.6558 7.71671 17.9368L6.52247 20.3956C6.38197 20.6765 6.03072 20.7819 5.78485 20.6414Z" fill="#F5F5F5"/>\n        <path d="M6.87369 23.3108L2.09672 20.9574C1.88597 20.852 1.81572 20.6062 1.92109 20.3954C2.02647 20.1847 2.27234 20.1144 2.48309 20.2198L7.26006 22.5732C7.47081 22.6785 7.54106 22.9244 7.43569 23.1352C7.36544 23.3459 7.08444 23.4162 6.87369 23.3108Z" fill="#F5F5F5"/>\n        <path d="M9.82419 24.751L8.38407 24.0485C8.17332 23.9431 8.10307 23.6972 8.20845 23.4865C8.31382 23.2757 8.5597 23.2055 8.77045 23.3109L10.2106 24.0134C10.4213 24.1187 10.4916 24.3646 10.3862 24.5754C10.2808 24.7861 10.0349 24.8564 9.82419 24.751Z" fill="#F5F5F5"/>\n        <path d="M13.5123 26.5774L11.2643 25.4885C11.0536 25.3832 10.9833 25.1373 11.0887 24.9266C11.1941 24.7158 11.4399 24.6456 11.6507 24.7509L13.8987 25.8398C14.1094 25.9452 14.1797 26.191 14.0743 26.4018C13.9689 26.5774 13.7231 26.6828 13.5123 26.5774Z" fill="#F5F5F5"/>\n        <path d="M30.6883 17.1288L10.7374 19.3768C9.89442 19.4822 9.15679 18.8851 9.08654 18.0421L7.68155 5.95913C7.57617 5.11613 8.1733 4.37851 9.01629 4.30826L28.9672 2.06027C29.8102 1.9549 30.5478 2.55202 30.618 3.39501L31.9879 15.4779C32.0933 16.2858 31.4962 17.0234 30.6883 17.1288Z" fill="url(#paint0_linear)"/>\n        <path d="M18.9397 6.38456C17.6671 6.53071 16.754 7.68079 16.9001 8.95334C17.0463 10.2259 18.1964 11.139 19.4689 10.9929C20.7415 10.8467 21.6546 9.69664 21.5085 8.42409C21.3623 7.15154 20.2122 6.23841 18.9397 6.38456ZM16.6599 11.8991C16.0231 11.9723 15.5615 12.5429 15.6351 13.1841C15.747 14.1583 16.3111 14.8377 17.1161 15.2298C17.9087 15.6159 18.9298 15.7239 19.9982 15.6012C21.0666 15.4785 22.0366 15.1418 22.721 14.5861C23.4162 14.0217 23.8115 13.2321 23.6997 12.2579C23.6266 11.6217 23.0515 11.1651 22.4153 11.2381L16.6599 11.8991Z" fill="white"/>\n        <path d="M0.358427 6.65309C0.237604 6.66481 0.188649 6.50166 0.295969 6.44493C1.26242 5.93449 1.82453 4.89045 1.71889 3.80203C1.70716 3.68121 1.87032 3.63226 1.92704 3.73958C2.43749 4.70603 3.48153 5.26813 4.56994 5.1625C4.69077 5.15077 4.73972 5.31392 4.6324 5.37065C3.66595 5.8811 3.10384 6.92514 3.20948 8.01355C3.22121 8.13437 3.05805 8.18333 3.00133 8.07601C2.49088 7.10956 1.44684 6.54745 0.358427 6.65309Z" fill="#FFBE00"/>\n        <path d="M24.8737 25.806C24.707 25.8222 24.6395 25.5972 24.7875 25.5189C26.1205 24.8149 26.8958 23.3749 26.7501 21.8737C26.734 21.707 26.959 21.6395 27.0372 21.7875C27.7413 23.1205 29.1813 23.8958 30.6825 23.7501C30.8492 23.7339 30.9167 23.959 30.7687 24.0372C29.4357 24.7413 28.6604 26.1813 28.8061 27.6825C28.8222 27.8491 28.5972 27.9167 28.519 27.7686C27.8149 26.4356 26.3749 25.6603 24.8737 25.806Z" fill="#FFBE00"/>\n        <defs>\n        <linearGradient id="paint0_linear" x1="33.9999" y1="1.99994" x2="4.33482" y2="0.260614" gradientUnits="userSpaceOnUse">\n        <stop stop-color="#FE7002"/>\n        <stop offset="0.9935" stop-color="#FFBE00"/>\n        </linearGradient>\n        </defs>\n        </svg>'}}]),t}();!function(t){t.DefaultPayment="defaultPayment",t.DefaultCardInfo="defaultCardInfo",t.DefaultProfile="defaultProfile",t.DefaultshippingAddress="defaultshippingAddress",t.DefaultCardType="DefaultCardType"}(ar||(ar={}));var lr=function(){function t(e){(0,ye.Z)(this,t),(0,Se.Z)(this,"Guid",void 0),(0,Se.Z)(this,"ExpMonth",void 0),(0,Se.Z)(this,"ExpYear",void 0),(0,Se.Z)(this,"FullName",void 0),(0,Se.Z)(this,"CardNumber",void 0),(0,Se.Z)(this,"CardType",void 0),this.UpdateFields(e.Guid,e.ExpMonth,e.ExpYear,e.FullName,e.CardNumber,e.CardType)}return(0,Ce.Z)(t,[{key:"UpdateFields",value:function(t,e,n,i,r,o){this.Guid=t,this.ExpMonth=e,this.ExpYear=n,this.FullName=i,this.CardNumber=r,this.CardType=o}}]),t}(),cr=function(){function t(e){(0,ye.Z)(this,t),(0,Se.Z)(this,"Guid",void 0),(0,Se.Z)(this,"Email",void 0),(0,Se.Z)(this,"FirstName",void 0),(0,Se.Z)(this,"MiddleName",void 0),(0,Se.Z)(this,"LastName",void 0),(0,Se.Z)(this,"FullName",void 0),(0,Se.Z)(this,"AddressLines",void 0),(0,Se.Z)(this,"City",void 0),(0,Se.Z)(this,"State",void 0),(0,Se.Z)(this,"Country",void 0),(0,Se.Z)(this,"Zip",void 0),(0,Se.Z)(this,"PhoneNumber",void 0),(0,Se.Z)(this,"Honorific",void 0),this.UpdateFields(e.Emails[0],e.FirstName,e.MiddleName,e.LastName,e.FullName,e.AddressLines,e.City,e.State,e.Country,e.Zip,e.PhoneNumbers[0],e.Honorific,e.Guid)}return(0,Ce.Z)(t,[{key:"UpdateFields",value:function(t,e,n,i,r,o,a,s,l,c,u,d,h){this.Guid=h,this.Email=t,this.FirstName=e,this.MiddleName=n,this.LastName=i,this.FullName=r,this.AddressLines=o,this.City=a,this.State=s,this.Country=l,this.Zip=c,this.PhoneNumber=u,this.Honorific=d}}]),t}(),ur=function(){function t(){(0,ye.Z)(this,t),(0,Se.Z)(this,"Profile",void 0),(0,Se.Z)(this,"Payment",void 0),(0,Se.Z)(this,"paymentGuid",void 0),(0,Se.Z)(this,"profileGuid",void 0),(0,Se.Z)(this,"SkipAutoApply",void 0)}return(0,Ce.Z)(t,[{key:"ToString",value:function(){return JSON.stringify(this)}}]),t}(),dr=n(2309);function hr(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return pr(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return pr(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function pr(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function fr(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=(0,De.Z)(t);if(e){var r=(0,De.Z)(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return(0,ke.Z)(this,n)}}Gt.o;var gr=function(t){(0,Ie.Z)(n,t);var e=fr(n);function n(t,i,r){var o;return(0,ye.Z)(this,n),o=e.call(this),(0,Se.Z)((0,Ae.Z)(o),"pageHandlerModule",void 0),(0,Se.Z)((0,Ae.Z)(o),"stateManagement",void 0),(0,Se.Z)((0,Ae.Z)(o),"logModule",void 0),(0,Se.Z)((0,Ae.Z)(o),"flyoutData",void 0),(0,Se.Z)((0,Ae.Z)(o),"utilities",void 0),(0,Se.Z)((0,Ae.Z)(o),"assets",void 0),(0,Se.Z)((0,Ae.Z)(o),"autoApplyAndFillClickHandler",void 0),(0,Se.Z)((0,Ae.Z)(o),"autoApplyClickHandler",void 0),o.pageHandlerModule=r.pageHandlerModule,o.logModule=r.logModule,o.stateManagement=t,o.flyoutData=i,o.utilities=r.viewModulesUtilities,o.assets=new sr,o.stateManagement&&o.flyoutData&&o.stateManagement.addEventListener(Qn.e1.CheckoutPopulateMainHeader,o.populateMainHeader.bind((0,Ae.Z)(o))),o.autoApplyAndFillClickHandler=o.autoApplyAndFillHandler.bind((0,Ae.Z)(o)),o.autoApplyClickHandler=o.autoApplyHandler.bind((0,Ae.Z)(o)),o}return(0,Ce.Z)(n,[{key:"GetModuleName",value:function(){return xe.GX.CHECKOUTAUTOFILL}},{key:"ShouldRenderModule",value:function(){var t,e,n=null!==(t=null===(e=this.flyoutData.dataStoreModule.CheckoutUserData)||void 0===e?void 0:e.shouldRenderCheckoutAutofill)&&void 0!==t&&t;return Promise.resolve(n)}},{key:"renderModule",value:function(){var t=this;this.utilities.applyStyles(this.flyoutData.common.shopping,this.assets.getStyles());var e=document.createElement("msft-edge-shopping-section");if(e.title="Autofill checkout details",e.id="checkoutAutofillSection",e.accordion=!1,e.expanded=!0,e.className="txtMedium",this.stateManagement.getState(Qn.IY.isAutoApplyVisible)){var n=new ge.Z(ve.xu.AAWithEC);this.LogInfoEvent(ve.R.EdgeFlyoutStatus,"",n);var i=document.createElement("fluent-switch");i.className="switchButton",i.checked=!0,i.addEventListener("click",(function(){var e=document.querySelector(".checkoutButton");e&&(!1===i.checked?(e.textContent="Try all coupons and autofill details",e.removeEventListener("click",t.autoApplyClickHandler),e.addEventListener("click",t.autoApplyAndFillClickHandler)):(e.textContent="Try all coupons",e.removeEventListener("click",t.autoApplyAndFillClickHandler),e.addEventListener("click",t.autoApplyClickHandler)))})),e.appendChild(i)}else{var r=new ge.Z(ve.xu.ExpressCheckout);this.LogInfoEvent(ve.R.EdgeFlyoutStatus,"",r),setTimeout((function(){G.SO.queueUpdate((function(){var t=document.querySelector("#couponSection");t&&(t.accordion=!0,t.expanded=!1)}))}),10)}var o=this.utilities.createElement("DIV");o.id="divCheckoutWrapper";var a=this.utilities.createElement("DIV");a.id="divAddressSection";var s=this.utilities.createElement("P");s.className="shipttl",s.textContent=this.flyoutData.strings.checkoutShippingAddress;var l=document.createElement("fluent-listbox");l.className="listbox",l.id="addressListbox",l.addEventListener("keydown",(function(t){"Escape"!==t.key&&"Enter"!==t.key||(l&&l.classList.toggle("show"),t.preventDefault())}));var c=this.utilities.createElement("P"),u=this.utilities.createElement("a",{style:'cursor: pointer;\n                background: url( "'.concat(this.flyoutData.common.resourcesEndpoing,'expressCheckout/smallIcons/chevron.png");\n                height: 6px;\n                width: 12px;\n                position: relative;\n                top: 14px;\n                right: 14px;')});u.setAttribute("href","#"),u.setAttribute("role","button"),u.id="divAddressButton";var d=this.flyoutData.dataStoreModule.CheckoutUserData;if(d&&d.Profiles&&d.Profiles.length>0){var h,p=hr(null==d?void 0:d.Profiles);try{var f=function(){var e=h.value;if(e){var n=e.AddressLines,i=e.City+", "+e.State+", "+e.Country,r="ZIP "+e.Zip,o=t.utilities.createElement("P");o.innerText=e.FullName+", "+n+", "+i+", "+r;var a=nr(ar.DefaultshippingAddress);if(a){var s=t.getAddressInfoByGuid(a);s&&(c.innerText=t.formAddress(s))}var u=document.createElement("fluent-option");u.innerText=o.innerText,u.style.width="300px",u.style.height="50px",u.style.position="relative",u.style.left="-1px",u.addEventListener("click",(function(){c.innerText=u.innerText,rr(ar.DefaultshippingAddress),rr(ar.DefaultProfile),ir(ar.DefaultshippingAddress,e.Guid),ir(ar.DefaultProfile,e.Guid)})),l.addEventListener("keydown",(function(t){if("Enter"===t.key){var n=l.querySelector(".selected");n&&(c.innerText=n.innerText,rr(ar.DefaultshippingAddress),rr(ar.DefaultProfile),ir(ar.DefaultshippingAddress,e.Guid),ir(ar.DefaultProfile,e.Guid))}})),l.appendChild(u)}};for(p.s();!(h=p.n()).done;)f()}catch(t){p.e(t)}finally{p.f()}if(!c.innerText){var g=null==d?void 0:d.Profiles[0].AddressLines,v=(null==d?void 0:d.Profiles[0].City)+", "+(null==d?void 0:d.Profiles[0].State)+", "+(null==d?void 0:d.Profiles[0].Country),m="ZIP "+(null==d?void 0:d.Profiles[0].Zip);c.innerText=(null==d?void 0:d.Profiles[0].FullName)+", "+g+", "+v+", "+m,rr(ar.DefaultProfile),ir(ar.DefaultProfile,null==d?void 0:d.Profiles[0].Guid)}}u.addEventListener("click",(function(){l&&l.classList.toggle("show")})),a.appendChild(s),a.appendChild(u),a.appendChild(l),a.appendChild(c);var y=this.utilities.createElement("DIV");y.id="divPaymentSection";var C=this.utilities.createElement("P");C.textContent=this.flyoutData.strings.checkoutPaymentInfo,C.className="payttl";var b=document.createElement("fluent-listbox");b.className="listbox",b.id="paymentListbox",b.addEventListener("keydown",(function(t){"Escape"!==t.key&&"Enter"!==t.key||(b&&b.classList.toggle("show"),t.preventDefault())}));var S=this.utilities.createElement("DIV",{style:"display:block;\n            margin-left: 14px;"}),x=this.utilities.createElement("P",{style:"display:inline-block;\n            margin: 0;\n            font-size: 14px;\n            line-height: 20px;\n            color: rgba(0, 0, 0, 0.83);"}),E=this.utilities.createElement("IMG",{style:"display: inline-block;\n            margin-right: 10px;\n            position: relative;\n            top: 1px;"});S.appendChild(E),S.appendChild(x),S.id="divCard";var w=this.utilities.createElement("a",{style:'cursor: pointer;\n                background: url( "'.concat(this.flyoutData.common.resourcesEndpoing,'expressCheckout/smallIcons/chevron.png");\n                height: 6px;\n                width: 12px;\n                position: relative;\n                top: 14px;\n                right: 14px;')});if(w.setAttribute("href","#"),w.setAttribute("role","button"),w.id="divPaymentButton",d&&d.Payments&&d.Payments.length>0){var A,I=hr(null==d?void 0:d.Payments);try{var k=function(){var e=A.value;if(e){var n="•••• •••• •••• "+e.MaskedCardNumber,i=t.utilities.createElement("P");t.PopulateCardNumberhtml(i,{cardNumber:n,expDate:e.ExpMonth+"/"+e.ExpYear.substr(2)});var r=nr(ar.DefaultCardInfo),o=nr(ar.DefaultCardType);if(r){var a=t.getPaymentInfoByGuid(r);a&&(x.innerText=t.formCardInfo(a))}o&&(E.src=t.GetSrcByCardType(o));var s=document.createElement("fluent-option");s.innerText=i.innerText,s.style.width="300px",s.style.height="50px",s.style.position="relative",s.style.left="-1px",s.addEventListener("click",(function(){x.innerText=s.innerText,E.src=t.GetSrcByCardType(e.CardType),rr(ar.DefaultCardInfo),rr(ar.DefaultPayment),rr(ar.DefaultCardType),ir(ar.DefaultCardInfo,e.Guid),ir(ar.DefaultPayment,e.Guid),ir(ar.DefaultCardType,e.CardType)})),b.addEventListener("keydown",(function(n){if("Enter"===n.key){var i=b.querySelector(".selected");i&&(x.innerText=i.innerText,E.src=t.GetSrcByCardType(e.CardType),rr(ar.DefaultCardInfo),rr(ar.DefaultPayment),rr(ar.DefaultCardType),ir(ar.DefaultCardInfo,e.Guid),ir(ar.DefaultPayment,e.Guid),ir(ar.DefaultCardType,e.CardType))}})),b.appendChild(s)}};for(I.s();!(A=I.n()).done;)k()}catch(t){I.e(t)}finally{I.f()}if(!x.innerText){var D="•••• •••• •••• "+d.Payments[0].MaskedCardNumber;E.src=this.GetSrcByCardType(d.Payments[0].CardType),this.PopulateCardNumberhtml(x,{cardNumber:D,expDate:d.Payments[0].ExpMonth+"/"+d.Payments[0].ExpYear.substr(2)}),rr(ar.DefaultPayment),ir(ar.DefaultPayment,null==d?void 0:d.Payments[0].Guid)}}w.addEventListener("click",(function(){b&&b.classList.toggle("show")})),window.onclick=function(t){if(!t.target.matches("#divAddressButton")&&!t.target.matches("#divPaymentButton")){var e,n=document.getElementsByClassName("listbox");for(e=0;e<n.length;e++){var i=n[e];i.classList.contains("show")&&i.classList.remove("show")}}};var T=this.utilities.createElement("P");T.textContent=this.flyoutData.strings.checkoutSameBilling,T.className="txtExtraSmall",y.appendChild(C),y.appendChild(w),y.appendChild(b),y.appendChild(S),y.appendChild(T),o.appendChild(a),o.appendChild(y),e.appendChild(o),G.SO.queueUpdate((function(){var e=document.querySelector("#ECcouponSection");if(e&&e.shadowRoot){var n=e.shadowRoot.querySelector("span[slot=heading]");if(n){var i=n.innerHTML;n.innerHTML=Je.Z.staticPolicy.createHTML(t.assets.getCouponImg()),n.setAttribute("style","position: relative;left:-6px;font-size: 16px;line-height: 22px;font-weight: 600;"),n.append(i)}}var r=document.querySelector("#checkoutAutofillSection");if(r&&r.shadowRoot){var o=r.shadowRoot.querySelector("span[slot=heading]");if(o){var a=o.innerHTML;o.innerHTML=Je.Z.staticPolicy.createHTML(t.assets.getEcImg()),o.setAttribute("style","position: relative;left:-6px;font-size: 16px;line-height: 22px;font-weight: 600;"),o.append(a)}}})),this.pageHandlerModule.RecordAsContentViewed(dr.r.EXPRESS_CHECKOUT);var M=this.CreateModule(e,xe.H7.CHECKOUTAUTOFILL,xe.GX.CHECKOUTAUTOFILL);return Promise.resolve(M)}},{key:"GetSrcByCardType",value:function(t){return"".concat(this.flyoutData.common.resourcesEndpoing,"M"===t?"expressCheckout/smallIcons/mastercard.png":"V"===t?"expressCheckout/smallIcons/visa.png":"A"===t?"expressCheckout/smallIcons/amex.png":"D"===t?"expressCheckout/smallIcons/discover.png":"expressCheckout/smallIcons/default.png")}},{key:"PostProcessing",value:function(t,e,n){var i;(null===(i=this.flyoutData.dataStoreModule.CheckoutUserData)||void 0===i?void 0:i.shouldRenderCheckoutAutofill)&&this.createExpressCheckoutButton()}},{key:"createExpressCheckoutButton",value:function(){var t=this.utilities.createElement("fluent-button");t.appearance="accent",t.style.fontSize="16px",t.style.borderRadius="4px",t.style.marginBottom="2px",t.className+=" actionsButton checkoutButton";var e=this.utilities.createElement("DIV");e.slot="footer",e.appendChild(t),this.stateManagement.getState(Qn.IY.isAutoApplyVisible)?(t.textContent="Try all coupons and autofill details",t.addEventListener("click",this.autoApplyAndFillClickHandler)):(t.textContent="Fill details",t.addEventListener("click",this.autoFillHandler.bind(this))),this.flyoutData.common.shopping.prepend(e)}},{key:"populateMainHeader",value:function(){var t=this.utilities.createElement("H2");t.className="txtLarge",t.style.textAlign="center",t.style.fontWeight="500",t.style.margin="23px 10px 0",this.stateManagement.getState(Qn.IY.isAutoApplyVisible)?t.textContent=this.flyoutData.strings.checkoutSaveAndCheckout:t.textContent=this.flyoutData.strings.checkoutFillOnly,t.slot="header-content",this.flyoutData.common.shopping.appendChild(t)}},{key:"getUserChoiceConfiguration",value:function(t){var e=new ur;if(e.SkipAutoApply=t,this.flyoutData.dataLoader.IsServerData()){var n=nr(ar.DefaultPayment);n&&(e.paymentGuid=n);var i=nr(ar.DefaultProfile);return i&&(e.profileGuid=i),e}var r=nr(ar.DefaultPayment);if(r){var o=this.getPaymentInfoByGuid(r);if(o){var a=new lr(o);e.Payment=a}}var s=nr(ar.DefaultProfile);if(s){var l=this.getAddressInfoByGuid(s);if(l){var c=new cr(l);e.Profile=c}}return e}},{key:"PopulateCardNumberhtml",value:function(t,e){var n=document.createElement("span");n.style.fontWeight="600",n.textContent=e.cardNumber;var i=document.createElement("span");i.textContent=" valid till ";var r=document.createElement("span");r.style.fontWeight="600",r.textContent=e.expDate,t.innerHTML=window.trustedTypes.emptyHTML,t.appendChild(n).appendChild(i).appendChild(r)}},{key:"formAddress",value:function(t){var e=t.AddressLines,n=t.City+", "+t.State+", "+t.Country,i="ZIP "+t.Zip;return t.FullName+", "+e+", "+n+", "+i}},{key:"formCardInfo",value:function(t){return"•••• •••• •••• "+t.MaskedCardNumber+" valid till "+t.ExpMonth+"/"+t.ExpYear.substr(2)}},{key:"getPaymentInfoByGuid",value:function(t){var e=this.flyoutData.dataStoreModule.CheckoutUserData;if(e&&e.Payments){var n,i=hr(e.Payments);try{for(i.s();!(n=i.n()).done;){var r=n.value;if(r&&r.Guid===t)return r}}catch(t){i.e(t)}finally{i.f()}}}},{key:"getAddressInfoByGuid",value:function(t){var e=this.flyoutData.dataStoreModule.CheckoutUserData;if(e&&e.Profiles){var n,i=hr(e.Profiles);try{for(i.s();!(n=i.n()).done;){var r=n.value;if(r&&r.Guid===t)return r}}catch(t){i.e(t)}finally{i.f()}}}},{key:"autoApplyHandler",value:function(){this.pageHandlerModule.RecordAsUserAction(ni.b.TRY_ALL_COUPONS);var t=new Jn.Z(ve.$S.AAWithoutEC);this.LogInfoEvent(ve.R.ButtonClick,"",t),this.pageHandlerModule.ApplyAllCoupons()}},{key:"autoApplyAndFillHandler",value:function(){this.pageHandlerModule.RecordAsUserAction(ni.b.TRY_ALL_COUPON_WITH_EXPRESS_CHECKOUT);var t=new Jn.Z(ve.$S.AAWithEC);this.LogInfoEvent(ve.R.ButtonClick,"",t),this.pageHandlerModule.ApplyAllCouponsWithExpressCheckout(this.getUserChoiceConfiguration(!1))}},{key:"autoFillHandler",value:function(){this.pageHandlerModule.RecordAsUserAction(ni.b.EXPRESS_CHECKOUT);var t=new Jn.Z(ve.$S.ExpressCheckout);this.LogInfoEvent(ve.R.ButtonClick,"",t),this.pageHandlerModule.ApplyAllCouponsWithExpressCheckout(this.getUserChoiceConfiguration(!0))}},{key:"LogInfoEvent",value:function(t,e,n){this.logModule.LogInfoEvent(t,e,n,ei.g.CouponImpressionId)}}]),n}(fi);function vr(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return mr(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return mr(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function mr(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function yr(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=(0,De.Z)(t);if(e){var r=(0,De.Z)(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return(0,ke.Z)(this,n)}}var Cr=function(e){(0,Ie.Z)(h,e);var n,r,o,a,s,l,c,u,d=yr(h);function h(t,e){var n;return(0,ye.Z)(this,h),n=d.call(this),(0,Se.Z)((0,Ae.Z)(n),"flyoutData",void 0),(0,Se.Z)((0,Ae.Z)(n),"utilities",void 0),(0,Se.Z)((0,Ae.Z)(n),"pageHandlerModule",void 0),(0,Se.Z)((0,Ae.Z)(n),"logModule",void 0),(0,Se.Z)((0,Ae.Z)(n),"shouldRenderClipping",void 0),n.flyoutData=t,n.utilities=e.viewModulesUtilities,n.pageHandlerModule=e.pageHandlerModule,n.logModule=e.logModule,n.setShouldRenderClipping(),n}return(0,Ce.Z)(h,[{key:"GetModuleName",value:function(){return xe.GX.COUPONCLIPPING}},{key:"ShouldRenderModule",value:(u=(0,t.Z)(i().mark((function t(){var e;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(void 0===this.shouldRenderClipping){t.next=2;break}return t.abrupt("return",this.shouldRenderClipping);case 2:return t.next=4,this.setShouldRenderClipping();case 4:return e=!!this.shouldRenderClipping,this.flyoutData.common.popupOrigination!==hi.s.AUTO_SHOW_COUPONS_CLIPPING||e||this.pageHandlerModule.DismissPopup(),t.abrupt("return",e);case 7:case"end":return t.stop()}}),t,this)}))),function(){return u.apply(this,arguments)})},{key:"PostProcessing",value:function(t,e,n){var i=this;if(this.shouldRenderClipping&&0===e){this.pageHandlerModule.RecordAsContentViewed(dr.r.COUPONS_CLIPPING);var r=this.utilities.createElement("DIV");r.slot="actions",r.style.width="100%";var o=this.utilities.createBaseActionButton();r&&o&&(o.textContent="Clip coupon",o.setAttribute("aria-labelledby","clippingTitle"),o.setAttribute("aria-describedby","clippingTitle"),o.addEventListener("click",(function(){var t=new Jn.Z(ve.$S.AutoApply);i.pageHandlerModule.RecordAsUserAction(ni.b.CLIP_COUPON),i.logModule.LogInfoEvent(ve.R.ButtonClick,"Coupon clipped",t,ei.g.CouponImpressionId),i.pageHandlerModule.ApplyAllCoupons(),i.pageHandlerModule.DismissPopup()})),r.appendChild(o),this.flyoutData.common.shopping.prepend(r))}}},{key:"renderModule",value:(c=(0,t.Z)(i().mark((function t(){var e,n,r,o,a,s,l,c,u,d,h;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(n=document.createElement("msft-edge-shopping-section")).id="clippingSection",r=null===(e=this.flyoutData.dataStoreModule.ApiData)||void 0===e?void 0:e.retailerData,o=null==r?void 0:r.GetCurrentCheckoutPageByPathName(this.flyoutData.common.lastCommittedURL),a=null==o?void 0:o.orderTotalDataElementSelector,s=null==o?void 0:o.inputBoxSelector,t.next=8,this.getInitialPrice(a);case 8:return l=t.sent,t.next=11,this.getAmazonClippingDiscount(l,s);case 11:return c=t.sent,u=this.createMainTitle(c),n.appendChild(u),d=this.createSubtitle(l,c),n.appendChild(d),h=this.CreateModule(n,xe.H7.COUPONCLIPPING,xe.GX.COUPONCLIPPING),t.abrupt("return",Promise.resolve(h));case 18:case"end":return t.stop()}}),t,this)}))),function(){return c.apply(this,arguments)})},{key:"populateMainHeader",value:function(){var t=this.flyoutData.common.shopping.querySelector("#clippingSection");t&&(t.style.marginTop="0px",t.slot="header-content")}},{key:"createMainTitle",value:function(t){var e=this.utilities.createElement("H2");if(e.id="clippingTitle",e.className="txtLarge",e.style.textAlign="center",e.style.fontSize="24px",e.style.fontWeight="600",e.style.lineHeight="32px",e.style.marginBottom="6px",e.textContent=this.flyoutData.strings.defaultClippingTitle,t){var n=t.toFixed(2);e.textContent=this.utilities.replaceValueInKey(this.flyoutData.strings.clippingMainTitle,"".concat(xe.iM.currency).concat(n)),e.textContent=this.utilities.replaceStringsPlaceholders(e.textContent)}return e}},{key:"createSubtitle",value:function(t,e){var n=this.utilities.createElement("H2");if(n.id="clippingSubtitle",n.className="txtLarge",n.style.textAlign="center",n.style.fontSize="12px",n.style.fontWeight="400",n.style.lineHeight="16px",n.style.marginBottom="4px",n.textContent=this.flyoutData.strings.defaultClippingSubTitle,this.flyoutData.common.currentTheme===xe.Q2.Light&&(n.style.color="gray"),t&&e){var i=(e/t*100).toFixed(0),r=this.utilities.replaceValueInKey(this.flyoutData.strings.clippingSubTitle,i).split("|");if(3!==r.length)return n;var o=this.utilities.createElement("B");o.textContent=r[1];var a=document.createTextNode(r[2]);n.textContent=r[0],n.appendChild(o),n.appendChild(a)}return n}},{key:"getInitialPrice",value:(l=(0,t.Z)(i().mark((function t(e){var n;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e){t.next=2;break}return t.abrupt("return",void 0);case 2:return t.next=4,this.getVisibleElement(e);case 4:if(null==(n=t.sent)||!n.innerText){t.next=7;break}return t.abrupt("return",Le.GetPriceStringAsNumber(n.innerText));case 7:return t.abrupt("return",void 0);case 8:case"end":return t.stop()}}),t,this)}))),function(t){return l.apply(this,arguments)})},{key:"getAmazonClippingDiscount",value:(s=(0,t.Z)(i().mark((function t(e,n){var r,o,a,s,l,c;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n&&e){t.next=2;break}return t.abrupt("return",void 0);case 2:return t.next=4,this.getVisibleElement(n);case 4:if(null!=(o=t.sent)&&o.innerText)try{a=o.innerText,s=a.substring(a.search(/\d+/g)),l=s.substring(0,s.search(/\s|%/)),r=Le.GetPriceStringAsNumber(l),a.search(/%/)>0&&(r=e*r/100)}catch(t){c=new ge.Z(ve.xu.OnErrorInvoked),this.logModule.LogErrorEvent(ve.R.EdgeFlyoutStatus,"Clipping flyout getDiscount error, with Type: ".concat(t.name,", with message: ").concat(t.message),c)}return t.abrupt("return",r);case 7:case"end":return t.stop()}}),t,this)}))),function(t,e){return s.apply(this,arguments)})},{key:"setShouldRenderClipping",value:(a=(0,t.Z)(i().mark((function t(){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return"amazon.com"===this.flyoutData.common.domain||(this.shouldRenderClipping=!1),t.next=4,this.isClippingAvailable();case 4:this.shouldRenderClipping=t.sent;case 5:case"end":return t.stop()}}),t,this)}))),function(){return a.apply(this,arguments)})},{key:"isClippingAvailable",value:(o=(0,t.Z)(i().mark((function t(){var e,n,r,o,a,s,l,c,u;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=null===(e=this.flyoutData.dataStoreModule.ApiData)||void 0===e?void 0:e.retailerData,r=null==n?void 0:n.GetCurrentCheckoutPageByPathName(this.flyoutData.common.lastCommittedURL),o=null==r?void 0:r.inputBoxSelector,a=null==r?void 0:r.removeCouponButtonSelector,s=null==r?void 0:r.applyButtonSelector,t.next=7,this.isElementVisible(o);case 7:return l=t.sent,t.next=10,this.isElementVisible(a);case 10:return c=t.sent,t.next=13,this.isElementVisible(s);case 13:if(u=t.sent,!l&&!u||!c){t.next=19;break}return t.abrupt("return",!0);case 19:return t.abrupt("return",!1);case 20:case"end":return t.stop()}}),t,this)}))),function(){return o.apply(this,arguments)})},{key:"isElementVisible",value:(r=(0,t.Z)(i().mark((function t(e){var n;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e){t.next=2;break}return t.abrupt("return",!1);case 2:return t.next=4,this.getVisibleElement(e);case 4:return n=t.sent,t.abrupt("return",!!n);case 6:case"end":return t.stop()}}),t,this)}))),function(t){return r.apply(this,arguments)})},{key:"getVisibleElement",value:(n=(0,t.Z)(i().mark((function t(e){var n,r,o,a,s,l;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=e.split(";"),r=vr(n),t.prev=2,r.s();case 4:if((o=r.n()).done){t.next=20;break}return a=o.value,t.prev=6,t.next=9,this.pageHandlerModule.RunQuerySelectorOnBodyWithReponse(a);case 9:if(s=t.sent,l=JSON.parse(s.extractedValues),!(s.found&&l.offsetHeight>0&&l.offsetWidth>0)){t.next=13;break}return t.abrupt("return",s);case 13:t.next=18;break;case 15:t.prev=15,t.t0=t.catch(6);case 18:t.next=4;break;case 20:t.next=25;break;case 22:t.prev=22,t.t1=t.catch(2),r.e(t.t1);case 25:return t.prev=25,r.f(),t.finish(25);case 28:return t.abrupt("return",Promise.resolve(void 0));case 29:case"end":return t.stop()}}),t,this,[[2,22,25,28],[6,15]])}))),function(t){return n.apply(this,arguments)})}]),h}(fi),br=function(){function t(){(0,ye.Z)(this,t)}return(0,Ce.Z)(t,[{key:"getStyles",value:function(){return"\n        .divSuccessRate {\n            display: flex;\n            flex-direction: row;\n            border-radius: 0px 3px;\n        }\n        .txtSuccessRate {\n            color: #107C10;\n        }\n        @media (prefers-color-scheme: dark) {\n            .txtSuccessRate {\n                color: #62C90C;\n            }\n            .divSuccessRateIcon svg path:first-child {\n                fill: #62C90C;\n            }\n        }\n        @media (forced-colors: active) {\n            .divSuccessRateIcon svg path:first-child {\n                fill: highlight;\n            }\n            .divSuccessRateIcon svg path:last-child {\n                fill: highlighttext;\n            }\n        }"}},{key:"getTipGift",value:function(){return'<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">\n        <path d="M7.48731 8.75V15.5H4.48731C3.14111 15.5 2.0498 14.4087 2.0498 13.0625V8.75H7.48731ZM14.0498 8.75V13.0625C14.0498 14.4087 12.9585 15.5 11.6123 15.5H8.61231V8.75H14.0498ZM9.92481 0.5C11.271 0.5 12.3623 1.5913 12.3623 2.9375C12.3623 3.42124 12.2214 3.87205 11.9784 4.25116L13.8623 4.25C14.3801 4.25 14.7998 4.59978 14.7998 5.03125V7.21872C14.7998 7.6502 14.3801 8 13.8623 8L8.61231 7.99925V4.25H7.48731V7.99925L2.2373 8C1.71953 8 1.2998 7.6502 1.2998 7.21872V5.03125C1.2998 4.59978 1.71953 4.25 2.2373 4.25L4.12123 4.25116C3.87822 3.87205 3.73731 3.42124 3.73731 2.9375C3.73731 1.5913 4.82861 0.5 6.17481 0.5C6.92893 0.5 7.60311 0.842495 8.05026 1.38043C8.49651 0.842495 9.17068 0.5 9.92481 0.5ZM6.17481 1.625C5.44993 1.625 4.86231 2.21263 4.86231 2.9375C4.86231 3.62613 5.39264 4.19089 6.06716 4.24565L6.17481 4.25H7.48731V2.9375L7.48296 2.82985C7.42821 2.15533 6.86346 1.625 6.17481 1.625ZM9.92481 1.625C9.19993 1.625 8.61231 2.21263 8.61231 2.9375V4.25H9.92481C10.6497 4.25 11.2373 3.66237 11.2373 2.9375C11.2373 2.21263 10.6497 1.625 9.92481 1.625Z" fill="#FFD335"/>\n        </svg>'}},{key:"getTipLight",value:function(){return'<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">\n        <path d="M10.5916 13.2494L10.3735 14.1933C10.2061 14.9159 9.58897 15.4391 8.85932 15.4951L8.72948 15.5H7.1456C6.40347 15.5 5.7541 15.0163 5.5353 14.3176L5.50122 14.1921L5.28344 13.2494H10.5916ZM7.93788 0.5C10.9412 0.5 13.3758 2.93462 13.3758 5.93788C13.3758 7.54038 12.674 9.00808 11.3016 10.3187C11.2751 10.344 11.2566 10.3765 11.2484 10.4121L10.8526 12.1243H5.02318L4.62866 10.4122C4.62041 10.3765 4.6019 10.3441 4.5754 10.3187C3.20217 9.00808 2.5 7.54038 2.5 5.93788C2.5 2.93462 4.93462 0.5 7.93788 0.5Z" fill="#FFD335"/>\n        </svg>'}},{key:"getTipMoney",value:function(){return'<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">\n        <path d="M0 3.40002C0 2.62681 0.626809 2 1.40002 2H12.2002C12.9734 2 13.6002 2.62681 13.6002 3.40002V10.2001C13.6002 10.9733 12.9734 11.6001 12.2002 11.6001H1.40002C0.626809 11.6001 0 10.9733 0 10.2001V3.40002ZM2.40004 3.00001V3.80003C2.40004 4.1314 2.1314 4.40004 1.80003 4.40004H1.00001V5.60005H1.80003C2.79415 5.60005 3.60005 4.79415 3.60005 3.80003V3.00001H2.40004ZM6.8001 8.8001C7.7942 8.8001 8.60013 7.99417 8.60013 7.00007C8.60013 6.00598 7.7942 5.20005 6.8001 5.20005C5.80597 5.20005 5.00007 6.00598 5.00007 7.00007C5.00007 7.99417 5.80597 8.8001 6.8001 8.8001ZM1.00001 9.20011H1.80003C2.1314 9.20011 2.40004 9.46875 2.40004 9.80012V10.6001H3.60005V9.80012C3.60005 8.80602 2.79415 8.00009 1.80003 8.00009H1.00001V9.20011ZM11.2002 9.80012C11.2002 9.46875 11.4688 9.20011 11.8002 9.20011H12.6002V8.00009H11.8002C10.8061 8.00009 10.0001 8.80602 10.0001 9.80012V10.6001H11.2002V9.80012ZM11.2002 3.80003V3.00001H10.0001V3.80003C10.0001 4.79415 10.8061 5.60005 11.8002 5.60005H12.6002V4.40004H11.8002C11.4688 4.40004 11.2002 4.1314 11.2002 3.80003Z" fill="#FFD335"/>\n        <path d="M1.9209 12.8C2.33587 13.5173 3.1115 14 3.99985 14H12.2C14.2987 14 16 12.2987 16 10.1999V5.99985C16 5.1115 15.5174 4.33587 14.8 3.9209V10.1999C14.8 11.6359 13.6359 12.8 12.2 12.8H1.9209Z" fill="#FFD335"/>\n        </svg>'}},{key:"getSuccessRate",value:function(){return'<svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 12 12" fill="none">\n        <path d="M6 12C9.31371 12 12 9.31371 12 6C12 2.68629 9.31371 0 6 0C2.68629 0 0 2.68629 0 6C0 9.31371 2.68629 12 6 12Z" fill="#57A300"/>\n        <path d="M2.66483 6.21811C2.60933 6.15886 2.58083 6.08086 2.58383 5.99986C2.58683 5.91811 2.62133 5.84311 2.68133 5.78686L3.30758 5.20786C3.36458 5.15611 3.43733 5.12761 3.51308 5.12761C3.59708 5.12761 3.67808 5.16286 3.73508 5.22436L5.33708 6.94336L8.19233 3.28711C8.25008 3.21286 8.33708 3.16936 8.43158 3.16936C8.49908 3.16936 8.56283 3.19111 8.61683 3.23236L9.29633 3.75661C9.42608 3.85261 9.45383 4.03936 9.35633 4.17211L5.70533 8.84686C5.56358 9.02836 5.29283 9.04036 5.13533 8.87161L2.66483 6.21811Z" fill="white"/>\n        </svg>'}}]),t}();function Sr(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return xr(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return xr(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function xr(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function Er(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=(0,De.Z)(t);if(e){var r=(0,De.Z)(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return(0,ke.Z)(this,n)}}var wr=function(e){(0,Ie.Z)(l,e);var n,r,o,a,s=Er(l);function l(t,e,n,i){var r;return(0,ye.Z)(this,l),r=s.call(this),(0,Se.Z)((0,Ae.Z)(r),"pageHandlerModule",void 0),(0,Se.Z)((0,Ae.Z)(r),"logModule",void 0),(0,Se.Z)((0,Ae.Z)(r),"stateManagement",void 0),(0,Se.Z)((0,Ae.Z)(r),"flyoutData",void 0),(0,Se.Z)((0,Ae.Z)(r),"utilities",void 0),(0,Se.Z)((0,Ae.Z)(r),"assets",void 0),(0,Se.Z)((0,Ae.Z)(r),"commonAssets",void 0),r.logModule=n.logModule,r.pageHandlerModule=n.pageHandlerModule,r.stateManagement=t,r.flyoutData=e,r.stateManagement.setState(Qn.IY.isAutoApplyVisible,r.isAutoApplyVisible()),r.utilities=n.viewModulesUtilities,r.commonAssets=i,r.assets=new br,r}return(0,Ce.Z)(l,[{key:"GetModuleName",value:function(){return xe.GX.COUPON}},{key:"ShouldRenderModule",value:function(){var t="amazon.com"!==this.flyoutData.common.domain||0===this.stateManagement.getState(Qn.IY.renderedViewModuleCount);return Promise.resolve(t)}},{key:"renderModule",value:function(){this.utilities.applyStyles(this.flyoutData.common.shopping,this.assets.getStyles());var t=this.flyoutData.dataStoreModule.CouponData;if(t&&t.Coupons&&t.Coupons.length>0){var e,n=this.stateManagement.getState(Qn.IY.isAutoApplyVisible);if(null!==(e=this.flyoutData.dataStoreModule.CheckoutUserData)&&void 0!==e&&e.shouldRenderCheckoutAutofill&&n){var i,r=document.createElement("msft-edge-shopping-section");r.id="ECcouponSection",r.accordion=!1,i=1===t.Coupons.length?this.flyoutData.strings.couponSectionTextSingle:this.utilities.replaceValueInKey(this.flyoutData.strings.couponSectionText,t.Coupons.length.toString());var o=this.utilities.createElement("DIV",{style:"\n                        width: 328px;\n                        height: 60px;\n                        background: #E8F5FF;\n                        border-radius: 4px;\n                        padding-top: 12px;\n                        margin-top: 12px;"}),a=this.utilities.createElement("P",{style:"font-size: 14px;\n                            line-height: 20px;\n                            color: rgba(0, 0, 0, 0.83);\n                            margin: 0 12px 8px"});a.innerText=i;var s=this.utilities.createElement("P",{style:"font-size: 12px;\n                            line-height: 16px;\n                            color: rgba(0, 0, 0, 0.55);\n                            margin: 0 12px 16px;"});s.innerText="We will find and apply the best coupon for your purchase",s.className="txtExtraSmall",o.appendChild(a),o.appendChild(s),r.title=this.flyoutData.strings.couponSectionTitleWithExpressCheckout,r.className="txtMedium",r.appendChild(o);var l=this.CreateModule(r,xe.H7.COUPON,xe.GX.COUPON);return Promise.resolve(l)}var c,u,d=document.createElement("msft-edge-shopping-section");d.id="couponSection",this.populateCouponList(d,!1,!1,this.flyoutData.common.bannerContext),u=1===t.Coupons.length?this.flyoutData.strings.couponSectionTitle:this.utilities.replaceValueInKey(this.flyoutData.strings.couponSectionPluralTitle,t.Coupons.length.toString());var h=this.flyoutData;if(this.utilities.createCommonListStructure(d,u,null===(c=this.flyoutData.dataStoreModule.CouponData)||void 0===c?void 0:c.Coupons,(function(t){var e=xe.CS.COUPON;return t&&"viewAll"===h.common.bannerContext&&(e=t.length),e}),this.populateEmptyBannerCouponList.bind(this)),this.flyoutData.common.openedWith&&this.flyoutData.common.openedWith===xe.Te.Auto){var p=new ge.Z(ve.xu.AutoTrigger);this.LogInfoEvent(ve.R.EdgeFlyoutStatus,"Coupons available - auto trigger",p)}else{var f=new ge.Z(ve.xu.UserTrigger);this.LogInfoEvent(ve.R.EdgeFlyoutStatus,"Coupons available - manual trigger",f)}var g=this.CreateModule(d,xe.H7.COUPON,xe.GX.COUPON);return Promise.resolve(g)}var v=document.createElement("msft-edge-shopping-section");v.id="emptyCouponSection",v.accordion=!0,v.title=this.flyoutData.strings.couponEmptyCouponTitle;var m=this.utilities.createElement("DIV",{id:"emptyCouponDiv",style:"display: flex; flex-direction: column; justify-content: center; align-items: center; margin-bottom: 12px;"}),y=this.utilities.createElement("DIV",{style:"margin: 20px;"});y.innerHTML=Je.Z.staticPolicy.createHTML(this.commonAssets.getErrorImage()),y.setAttribute("aria-hidden","true");var C=this.utilities.createElement("P",{style:"font-weight: 600; margin-top: 5px; color: #666666;"});C.className=xe.aM.EmptyCoupon,C.textContent=this.flyoutData.strings.couponEmptyCouponTitle;var b=this.utilities.createElement("P",{style:"margin-top: 5px;  color: #666666;"});b.className=xe.aM.Small,b.textContent=this.flyoutData.strings.couponEmptyCouponSubTitle,m.appendChild(y),m.appendChild(C),m.appendChild(b),v.appendChild(m);var S=this.CreateModule(v,xe.H7.MAX,xe.GX.EMPTYCOUPON);return Promise.resolve(S)}},{key:"populateMainHeader",value:function(){var t,e,n,i,r,o=this.flyoutData.common.shopping,a=this.flyoutData.dataStoreModule.CashBackData,s=this.flyoutData.dataStoreModule.CouponData,l=null!==(t=null===(e=this.flyoutData.dataStoreModule.CouponData)||void 0===e?void 0:e.isCheckoutPageWithAutoApply)&&void 0!==t&&t;if(this.stateManagement.getState(Qn.IY.canRenderCashback)&&a&&!a.isCashBackActivated&&s&&s.Coupons&&(null===(n=this.flyoutData.dataStoreModule.CashBackData)||void 0===n||!n.isPersonalizedCashback)){var c=this.createMergedTitle(l);c.style.textAlign="center",c.slot="header-content",o.appendChild(c)}else if(null!==(i=this.flyoutData.dataStoreModule.CheckoutUserData)&&void 0!==i&&i.shouldRenderCheckoutAutofill){var u=new CustomEvent(Qn.e1.CheckoutPopulateMainHeader);this.stateManagement.dispatchEvent(u)}else{var d=this.utilities.createElement("H2");d.className="txtLarge",d.style.textAlign="center",d.style.fontWeight="500",d.textContent=this.flyoutData.strings.couponTitle,d.slot="header-content",o.appendChild(d)}if(this.shouldShowTrivia()&&s){var h=this.utilities.createElement("P",{style:"display: inline-block; vertical-align: middle;margin-bottom: 10px; text-align: center;margin-left: 18px; margin-right: 18px; line-height: 21px;"});h.className="txtSmall";var p=this.utilities.createElement("DIV"),f=this.utilities.createElement("IMG",{style:"display: inline-block; vertical-align: middle; margin-right: 3px;"});f.src=this.utilities.getFavIconSrc(s.Trivia.Domain),f.setAttribute("aria-hidden","true"),p.appendChild(f);var g=document.createTextNode(s.Trivia.SellerName);p.appendChild(g);var v=this.utilities.replaceValueInKey(this.flyoutData.strings.triviaTitle,"".concat(xe.iM.currency).concat(s.Trivia.AverageSavings));this.utilities.populateSingleChildHtml(h,v,p),h.slot="header-content",h.style.marginTop="10px",this.flyoutData.common.currentTheme===xe.Q2.Dark?h.style.color="var(--neutral-foreground-rest)":h.style.color="#666666";var m=h.querySelector("IMG");m.addEventListener("error",(function(){m.remove()})),this.flyoutData.common.shopping.appendChild(h)}var y=null!==(r=null==s?void 0:s.IsAutoApplyAvailable)&&void 0!==r&&r;if(this.flyoutData.common.openedWith===xe.Te.Banner&&y&&!l){var C=this.utilities.createElement("P");C.className="txtSmall",C.textContent=this.flyoutData.strings.bannerSubTitleFlyout,C.slot="header-content",C.style.marginTop="10px",this.flyoutData.common.currentTheme===xe.Q2.Light?C.style.color="#666666":C.style.color="#FFFFFF",this.flyoutData.common.shopping.appendChild(C)}}},{key:"PostProcessing",value:function(t,e,n){if(t===xe.GX.EMPTYCOUPON){var i=n.shadowRoot;if(i){var r=i.querySelector("fluent-accordion-item"),o=this.stateManagement.getState(Qn.IY.topModulePriority)!==xe.H7.MAX;this.HandleEmptyModule(r,n,o)}}else{var a,s=this.stateManagement.getState(Qn.IY.isAutoApplyVisible),l=null===(a=this.flyoutData.dataStoreModule.CheckoutUserData)||void 0===a?void 0:a.shouldRenderCheckoutAutofill;if(s&&!l)this.createAutoApplyButton();else if(this.flyoutData.experimentData.isExperimentActive(Qe.H.expressCheckout)&&0===e&&this.flyoutData.common.openedWith&&this.flyoutData.common.openedWith===xe.Te.Auto&&this.flyoutData.common.pageStatus.ExpressCheckoutStatus&&!l){var c=new ge.Z(ve.xu.CheckoutUserDataInvalid);this.LogInfoEvent(ve.R.EdgeFlyoutStatus,"",c),this.pageHandlerModule.DismissPopup()}}}},{key:"populateEmptyBannerCouponList",value:function(t,e,n){this.populateCouponList(t,e,n,"")}},{key:"populateCouponList",value:function(t,e,n,i){var r,o,a=this,s=null===(r=this.flyoutData.dataStoreModule.CouponData)||void 0===r?void 0:r.Coupons;if(s){s.length>0&&(o=s.length);var l=0;if(e){var c=new Jn.Z(ve.$S.SeeMoreCoupons);this.pageHandlerModule.RecordAsUserAction(ni.b.VIEW_MORE_COUPONS),this.LogInfoEvent(ve.R.ButtonClick,"",c),l=xe.CS.COUPON}else o>xe.CS.COUPON&&"viewAll"!==i&&(o=xe.CS.COUPON);for(var u=function(r){var o,c=document.createElement("msft-shopping-coupon");c.name=s[r].couponCode,c.subTitle=s[r].attribution,c.description=s[r].title,c.indicatorMessage=a.flyoutData.strings.couponCopyLabel,c.selectedIndicatorMessage=a.flyoutData.strings.couponCopied,s[r].successRate&&s[r].successRate>=75&&a.createSuccessRateUX(s[r].successRate,c),s[r].couponCode===i&&(c.style.boxSizing="border-box",c.style.boxShadow="0px 0px 4px 1px rgba(114, 155, 238, 0.4), 0px 0px 8px 2px rgba(114, 155, 238, 0.2)",c.style.borderRadius="4px");var u=a.stateManagement.getState(Qn.IY.canRenderCashback);c.label="".concat(a.flyoutData.strings.couponCopyLabel," ").concat(s[r].couponCode),!s[r].isStackable&&u&&null!==(o=a.flyoutData.dataStoreModule.CashBackData)&&void 0!==o&&o.isCashBackActivated&&(c.cashbackNonstackableMessage=a.flyoutData.strings.cbNonStackableCoupon),s[r].isStackable&&(c.className+=" isStackable");var d=a.flyoutData.common.currentDevice;c.addEventListener("click",(function(){if(d===xe.AS.Desktop){var t=new Jn.Z(ve.$S.CouponCopied),e="Coupon copied";a.pageHandlerModule.RecordAsUserAction(ni.b.COUPONS_COPIED),!s[r].isStackable&&u?(t=new Jn.Z(ve.$S.CouponCopiedNonStackableWithCashBack),e="Coupon copied, nonStackable"):s[r].isStackable&&u&&(t=new Jn.Z(ve.$S.CouponCopiedStackableWithCashBack),e="Coupon copied, stackable"),a.LogInfoEvent(ve.R.ButtonClick,e,t)}else{c.setAttribute("marker","1");var n=c.parentNode;if(n){var i,o=Sr(n.children);try{for(o.s();!(i=o.n()).done;){var l=i.value,h=l.shadowRoot;if(h){var p=h.querySelector(".indicator");null==l.getAttribute("marker")?p&&(p.style.display="none"):p.style.display="flex"}l.removeAttribute("marker")}}catch(t){o.e(t)}finally{o.f()}}}a.pageHandlerModule.CopyCoupon(c.name)})),t.appendChild(c),r===l&&e&&n&&d===xe.AS.Desktop?c.focus():e&&d===xe.AS.Mobile&&G.SO.queueUpdate((function(){c.setAttribute("marker","1");var t=c.parentNode;if(t){var e,n=Sr(t.children);try{for(n.s();!(e=n.n()).done;){var i=e.value,r=i.shadowRoot;if(r){var o=r.querySelector(".indicator");null==i.getAttribute("marker")?o&&(o.style.display="none"):o.style.display="flex"}i.removeAttribute("marker")}}catch(t){n.e(t)}finally{n.f()}}}))},d=l;d<o;d++)u(d);var h=this.flyoutData;this.stateManagement.addEventListener(Qn.e1.onCashBackActivated,(function(){var t=h.common.shopping.querySelectorAll("msft-shopping-coupon");t&&t.length>0&&t.forEach((function(t){t.className.includes("isStackable")||(t.cashbackNonstackableMessage=h.strings.cbNonStackableCoupon)}))}))}}},{key:"createAutoApplyButton",value:(a=(0,t.Z)(i().mark((function e(){var n,r,o,a,s,l,c,u,d,h,p=this;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.flyoutData.common.shopping){e.next=19;break}if(n=this.flyoutData.dataStoreModule.CashBackData,r=this.stateManagement.getState(Qn.IY.canRenderCashback),o=null==n?void 0:n.isCashBackActivated,(a=this.utilities.createElement("DIV")).slot="actions",a.style.width="100%",s=this.utilities.createBaseActionButton(),r&&!o?(s.textContent="Try all coupons and activate cash back",s.style.marginBottom="12px",a.appendChild(s),l=new ge.Z(ve.xu.CashBackButtonShown),this.LogInfoEvent(ve.R.EdgeFlyoutStatus,s.textContent+" button shown at actions slot  auto apply visible: true",l),(c=this.utilities.createElement("fluent-button")).appearance="lightweight",c.textContent=this.flyoutData.strings.couponAutoApplyWithoutCB,c.addEventListener("click",(function(){var t=new Jn.Z(ve.$S.AutoApply);p.pageHandlerModule.RecordAsUserAction(ni.b.TRY_ALL_COUPONS),p.LogInfoEvent(ve.R.ButtonClick,"",t),p.pageHandlerModule.ApplyAllCoupons()})),a.appendChild(c)):(s.textContent=this.flyoutData.strings.couponAutoApplyButton,a.appendChild(s)),u=this.flyoutData.common.currentDevice,s.addEventListener("click",(0,t.Z)(i().mark((function t(){var e,n,a;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(u!==xe.AS.Desktop){t.next=15;break}if(e=new Jn.Z(ve.$S.AutoApply),p.pageHandlerModule.RecordAsUserAction(ni.b.TRY_ALL_COUPONS),p.LogInfoEvent(ve.R.ButtonClick,"",e),p.pageHandlerModule.TriggerExperiment(Qe.H.showNudgeTipsOverlay),p.pageHandlerModule.TriggerExperiment(Qe.H.animationAutoApply),o||!r){t.next=15;break}return n=new Jn.Z(ve.$S.ActivateCashBack),p.pageHandlerModule.RecordAsUserAction(ni.b.ACTIVATE_CASHBACK),p.LogInfoEvent(ve.R.ButtonClick,"Cash back activated",n),s.disabled=!0,a=new CustomEvent(Qn.e1.StyleProcessingState,{detail:{target:s}}),p.flyoutData.common.shopping.dispatchEvent(a),t.next=15,p.pageHandlerModule.ActivateRebates(!0);case 15:p.pageHandlerModule.ApplyAllCoupons();case 16:case"end":return t.stop()}}),t)})))),this.flyoutData.common.shouldShowCookieConsent&&(d=this.createCookieConsent())&&a.appendChild(d),this.pageHandlerModule.TriggerExperiment(Qe.H.showNudgeTips),!this.shouldShowNudge()){e.next=18;break}if(!(h=this.flyoutData.dataStoreModule.NudgeTipsData)){e.next=18;break}return e.next=18,this.CreateNudgeTips(h,a);case 18:this.flyoutData.common.shopping.prepend(a);case 19:case"end":return e.stop()}}),e,this)}))),function(){return a.apply(this,arguments)})},{key:"isAutoApplyVisible",value:function(){var t,e,n=this.flyoutData.dataStoreModule.CashBackData;return null!==(t=(null===(e=this.flyoutData.dataStoreModule.CouponData)||void 0===e?void 0:e.isCheckoutPageWithAutoApply)&&!(null!=n&&n.isTurnedOff)&&!(null!=n&&n.isConfirmationPage))&&void 0!==t&&t}},{key:"createCookieConsent",value:function(){var t=this,e=this.utilities.createElement("DIV",{class:"divCookies",style:"margin: 10px; text-align: left;line-height: 16px; font-size: 12px;"}),n=this.utilities.createElement("P",{class:"txtSmall"});n.style.display="inline",n.style.fontSize="12px",n.textContent=this.utilities.replaceValueInKey(this.flyoutData.strings.privacyConsent,"");var i=document.createElement("fluent-anchor");i.id="aPrivacy",i.setAttribute("href","#"),i.className+=" txtSmall",i.style.fontSize="12px",i.textContent=this.flyoutData.strings.commonMicrosoftPolicy,i.setAttribute("appearance","hypertext"),i.style.display="inline";var r=this.utilities.createElement("P");return r.style.display="inline",r.style.fontSize="12px",r.textContent=".",n.appendChild(i),n.appendChild(r),e.appendChild(n),i&&i.addEventListener("click",(function(){t.pageHandlerModule.NavigateToPrivacyStatement()})),e}},{key:"CreateNudgeTips",value:(o=(0,t.Z)(i().mark((function t(e,n){var r,o,a,s,l,c;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!((r=e.Tips).length>0)){t.next=30;break}(o=this.utilities.createElement("DIV")).id="divNudgeTips",o.slot="actions",o.style.width="90%",o.style.margin="auto",o.style.marginTop="6px",o.style.marginBottom="7px",a=3,s=Sr(r),t.prev=11,s.s();case 13:if((l=s.n()).done){t.next=21;break}return c=l.value,t.next=17,this.CreateTip(c,o);case 17:if(!(o.childNodes&&o.childNodes.length>=a)){t.next=19;break}return t.abrupt("break",21);case 19:t.next=13;break;case 21:t.next=26;break;case 23:t.prev=23,t.t0=t.catch(11),s.e(t.t0);case 26:return t.prev=26,s.f(),t.finish(26);case 29:o.childNodes.length>0&&n.appendChild(o);case 30:case"end":return t.stop()}}),t,this,[[11,23,26,29]])}))),function(t,e){return o.apply(this,arguments)})},{key:"GetAmountForFreeShipping",value:(r=(0,t.Z)(i().mark((function t(e){var n,r,o,a,s,l,c;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e){t.next=21;break}if(!(n=e.RetailerData.GetCurrentCheckoutPageByPathName(this.flyoutData.common.lastCommittedURL))){t.next=21;break}if(r=n.orderSubTotalElementSelector,o=n.orderTotalDataElementSelector,!r){t.next=14;break}return t.next=8,this.pageHandlerModule.RunQuerySelectorOnBodyWithReponse(r);case 8:if(a=t.sent,!(s=a.innerText)||!e.MinimumPurchase){t.next=12;break}return t.abrupt("return",e.MinimumPurchase-Le.GetPriceStringAsNumber(s));case 12:t.next=21;break;case 14:if(!o){t.next=21;break}return t.next=17,this.pageHandlerModule.RunQuerySelectorOnBodyWithReponse(o);case 17:if(l=t.sent,!(c=l.innerText)||!e.MinimumPurchase){t.next=21;break}return t.abrupt("return",e.MinimumPurchase-Le.GetPriceStringAsNumber(c));case 21:return t.abrupt("return",0);case 22:case"end":return t.stop()}}),t,this)}))),function(t){return r.apply(this,arguments)})},{key:"CreateTip",value:(n=(0,t.Z)(i().mark((function t(e,n){var r,o,a,s,l,c,u,d;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if((r=this.utilities.createElement("DIV")).style.background="rgba(255, 219, 33, 0.1)",r.style.border="1px solid rgba(250, 181, 39, 0.12)",r.style.borderRadius="4px",r.style.width="fit-content",r.style.padding="4px 9px 4px 0",r.style.margin="auto",r.style.marginTop="10px",r.style.display="flex","Shipping"===e.IconType?((o=this.utilities.createElement("DIV")).setAttribute("aria-hidden","true"),o.style.margin="3px",o.style.alignSelf="center",o.innerHTML=Je.Z.staticPolicy.createHTML(this.assets.getTipLight()),r.appendChild(o)):"Gift"===e.IconType?((a=this.utilities.createElement("DIV")).setAttribute("aria-hidden","true"),a.style.margin="3px",a.style.alignSelf="center",a.innerHTML=Je.Z.staticPolicy.createHTML(this.assets.getTipGift()),r.appendChild(a)):"Discount"===e.IconType?((s=this.utilities.createElement("DIV")).setAttribute("aria-hidden","true"),s.style.margin="3px",s.style.alignSelf="center",s.innerHTML=Je.Z.staticPolicy.createHTML(this.assets.getTipMoney()),r.appendChild(s)):((l=this.utilities.createElement("DIV")).setAttribute("aria-hidden","true"),l.style.margin="3px",l.style.alignSelf="center",l.style.display="inline-block",l.innerHTML=Je.Z.staticPolicy.createHTML(this.assets.getTipLight()),r.appendChild(l)),(c=this.utilities.createElement("P")).className="tip",!e.MinimumPurchase){t.next=19;break}return t.next=15,this.GetAmountForFreeShipping(e);case 15:(u=t.sent)>0&&(c.className="tip",d=e.Text.replace("$x","$"+u.toFixed(2).toString()),c.innerText=d),t.next=20;break;case 19:c.innerText=e.Text;case 20:c.style.fontSize="12px",c.style.fontWeight="600",c.style.lineHeight="20px",c.style.margin="0",c.style.display="inline-block",c.style.position="relative",c.style.top="2px",c.style.left="4px",c.innerText&&(r.appendChild(c),n.appendChild(r));case 29:case"end":return t.stop()}}),t,this)}))),function(t,e){return n.apply(this,arguments)})},{key:"shouldShowTrivia",value:function(){var t,e,n=this.flyoutData.dataStoreModule.CouponData;return(null===(t=null===(e=this.flyoutData.dataStoreModule.CheckoutUserData)||void 0===e?void 0:e.shouldRenderCheckoutAutofill)||void 0===t||!t)&&(n&&n.Trivia&&!Number.isNaN(n.Trivia.AverageSavings)&&!Number.isNaN(n.Trivia.AverageUsers))}},{key:"shouldShowNudge",value:function(){return!1}},{key:"createSuccessRateUX",value:function(t,e){var n=this.utilities.createElement("DIV");n.className="divSuccessRate",n.slot="success-rate";var i=this.utilities.createElement("P");i.textContent=this.utilities.replaceValueInKey(this.flyoutData.strings.couponSuccessful,"".concat(t)),i.className="txtSmall txtSuccessRate",i.style.margin="3px",i.style.alignSelf="center",i.style.fontWeight="500",i.style.fontSize="10px",i.style.lineHeight="12px";var r=this.utilities.createElement("DIV");r.className="divSuccessRateIcon",r.setAttribute("aria-hidden","true"),r.style.margin="3px",r.style.alignSelf="center",r.innerHTML=Je.Z.staticPolicy.createHTML(this.assets.getSuccessRate()),n.appendChild(r),n.appendChild(i),e.appendChild(n)}},{key:"createMergedTitle",value:function(t){var e=this,n=this.utilities.createElement("DIV",{style:"margin-left: 10px; margin-right: 10px;"});n.setAttribute("role","heading"),n.setAttribute("aria-level","2"),n.id="divMergedCashBackTitle";var i=this.utilities.createElement("H2");i.className="h2RebatesTitle";var r=this.flyoutData,o=this.utilities,a=new CustomEvent(Qn.e1.CreateCommissionArrow,{detail:{callback:function(t){if(t){var n,a,s=null===(n=r.dataStoreModule.CouponData)||void 0===n||null===(a=n.Coupons)||void 0===a?void 0:a.length,l=void 0!==s?s.toString():"";if(s&&s>1){var c=o.replaceValueInKey(e.flyoutData.strings.cbMergedTitle,l);o.populateSingleChildHtml(i,c,t)}else o.populateSingleChildHtml(i,e.flyoutData.strings.cbMergedSingularTitle,t)}}}});return this.stateManagement.dispatchEvent(a),n.appendChild(i),n}},{key:"HandleEmptyModule",value:function(t,e,n){var i=e.querySelector("#emptyCouponDiv");if(i)if(n)i.style.display="none",e.accordion=!1;else if(t){e.accordion=!0,e.expanded=!0;var r=t.shadowRoot;if(r){var o=r.querySelector(".heading");o&&(o.style.display="none")}var a=new ge.Z(ve.xu.EmptyCoupons);this.LogInfoEvent(ve.R.EdgeFlyoutStatus,"Empty coupons image was shown",a)}}},{key:"LogInfoEvent",value:function(t,e,n){this.logModule.LogInfoEvent(t,e,n,ei.g.CouponImpressionId)}}]),l}(fi),Ar=function(){function t(){(0,ye.Z)(this,t)}return(0,Ce.Z)(t,[{key:"getStyles",value:function(){return"\n            .divDealsLink:hover {\n                box-shadow: 0 0 calc((var(--elevation) * 0.225px) + 2px) rgba(0, 0, 0, calc(0.11 * (2 - var(--background-luminance, 1)))), 0 calc(var(--elevation) * 0.4px) calc((var(--elevation) * 0.9px)) rgba(0, 0, 0, calc(0.13 * (4 - var(--background-luminance, 1))));\n            }\n            .divDealsLink {\n                box-shadow: 0 0 calc((var(--elevation) * 0.225px) + 2px) rgba(0, 0, 0, calc(0.11 * (2 - var(--background-luminance, 1)))), 0 calc(var(--elevation) * 0.4px) calc((var(--elevation) * 0.9px)) rgba(0, 0, 0, calc(0.13 * (2 - var(--background-luminance, 1))));\n            }"}}]),t}();function Ir(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=(0,De.Z)(t);if(e){var r=(0,De.Z)(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return(0,ke.Z)(this,n)}}var kr=function(t){(0,Ie.Z)(n,t);var e=Ir(n);function n(t,i){var r;return(0,ye.Z)(this,n),r=e.call(this),(0,Se.Z)((0,Ae.Z)(r),"logModule",void 0),(0,Se.Z)((0,Ae.Z)(r),"pageHandlerModule",void 0),(0,Se.Z)((0,Ae.Z)(r),"flyoutData",void 0),(0,Se.Z)((0,Ae.Z)(r),"utilities",void 0),(0,Se.Z)((0,Ae.Z)(r),"assets",void 0),r.logModule=i.logModule,r.pageHandlerModule=i.pageHandlerModule,r.flyoutData=t,r.utilities=i.viewModulesUtilities,r.assets=new Ar,r}return(0,Ce.Z)(n,[{key:"GetModuleName",value:function(){return xe.GX.DEALS}},{key:"ShouldRenderModule",value:function(){var t,e=this.flyoutData.dataStoreModule.CouponData,n=null!==(t=e&&e.Deals&&e.Deals.length>0)&&void 0!==t&&t;this.pageHandlerModule.TriggerExperiment(Qe.H.dealsBranding);var i=this.flyoutData.experimentData.isExperimentActive(Qe.H.dealsBranding);return Promise.resolve(n&&i)}},{key:"renderModule",value:function(){var t;this.utilities.applyStyles(this.flyoutData.common.shopping,this.assets.getStyles());var e=this.createElement("msft-edge-shopping-section"),n=null===(t=this.flyoutData.dataStoreModule.CouponData)||void 0===t?void 0:t.Deals;if(n){var i,r=n.length.toString()+" deal"+(n.length>1?"s":"");this.populateDealsList(e,!1,!1);var o=this.flyoutData;this.utilities.createCommonListStructure(e,r,null===(i=this.flyoutData.dataStoreModule.CouponData)||void 0===i?void 0:i.Deals,(function(t){var e=xe.CS.DEAL;return t&&"viewAll"===o.common.bannerContext&&(e=t.length),e}),this.populateDealsList.bind(this))}e.addEventListener("click",(function t(){if(e){var n=e.shadowRoot;if(n){var i=n.querySelector("fluent-accordion-item");if(i&&!i.classList.contains("expanded")){var r=new Jn.Z(ve.$S.ExpandedDeals);a.RecordAsContentViewed(dr.r.DEALS),s.LogInfoEvent(ve.R.ButtonClick,"Deals section was expanded",r,ei.g.CouponImpressionId),e&&e.removeEventListener("click",t)}}}}));var a=this.pageHandlerModule,s=this.logModule;return Promise.resolve(this.CreateModule(e,xe.H7.DEALS,xe.GX.DEALS))}},{key:"populateDealsList",value:function(t,e,n){var i,r=null===(i=this.flyoutData.dataStoreModule.CouponData)||void 0===i?void 0:i.Deals;if(r){var o=0;r.length>0&&(o=r.length);var a=0;e?a=xe.CS.DEAL:o>xe.CS.DEAL&&(o=xe.CS.DEAL);for(var s=a;s<o;s++){var l=r[s],c=this.createDealsTile(l.headerText,l.id,l.offerUrl);t.appendChild(c),s===a&&e&&n&&this.flyoutData.common.currentDevice===xe.AS.Desktop&&c.focus()}}}},{key:"populateMainHeader",value:function(){if(this.flyoutData.common.shopping&&this.flyoutData.dataStoreModule.CouponData&&this.flyoutData.dataStoreModule.CouponData.Deals.length>0){var t=this.utilities.createElement("DIV",{style:"width: 100%; overflow: hidden; position: relative; display: flex; flex-direction: row; justify-content: flex-start;"});t.slot="header-content";var e=this.utilities.createElement("DIV",{style:"display: flex;\n                    justify-content: center;\n                    text-align:left;\n                    vertical-align: middle;"}),i=this.utilities.createElement("P",{style:"font-weight: 600;\n                        color: var(--neutral-foreground-rest);\n                        place-self: center;\n                        margin-left: 10px;"});i.className="txtLarge",i.style.fontSize="18px",i.style.lineHeight="21px";var r=this.utilities.replaceValueInKey(this.flyoutData.strings.dealsTitle,n.CapitalizeText(this.flyoutData.dataStoreModule.CouponData.FriendlyDomainName));i.textContent=r,e.appendChild(i);var o=this.utilities.createElement("IMG",{style:"width: 38px; height: 38px; float: left;\n                box-shadow: 0 0 calc((var(--elevation) * 0.225px) + 2px) rgba(0, 0, 0, calc(0.11 * (2 - var(--background-luminance, 1)))), 0 calc(var(--elevation) * 0.4px) calc((var(--elevation) * 0.9px)) rgba(0, 0, 0, calc(0.13 * (2 - var(--background-luminance, 1))));\n                border: 1px solid;\n                border-radius: calc(var(--corner-radius) * 4px);\n                border-color: #ECECEC;"});o.src="".concat(this.flyoutData.common.resourcesEndpoing,"retailerBranding/SquareIcons/").concat(this.flyoutData.dataStoreModule.CouponData.DomainName,".png"),o.setAttribute("aria-hidden","true"),o.addEventListener("error",(function(){t.style.gridTemplateColumns="auto",o.style.visibility="hidden"})),t.appendChild(o),t.appendChild(e),this.flyoutData.common.shopping.appendChild(t)}}},{key:"createElement",value:function(t,e,n){var i=document.createElement(t);return e&&i.setAttribute("style",e),n&&(i.innerText=n),i}},{key:"managePCLinkEvents",value:function(t,e,n){var i=this,r=this.flyoutData.common.currentDevice;t.addEventListener("click",(function(){r===xe.AS.Desktop&&i.navigateToRetailer(e,n,qn.NEW_FOREGROUND_TAB)})),t.addEventListener("mousedown",(function(t){switch(t.button){case 1:i.navigateToRetailer(e,n,qn.NEW_FOREGROUND_TAB)}}))}},{key:"navigateToRetailer",value:function(t,e,n){var i=new Jn.Z(ve.$S.NavigateToRetailerOffer);this.pageHandlerModule.RecordAsUserAction(ni.b.NAVIGATE_TO_DEAL_OFFER),this.logModule.LogInfoEvent(ve.R.ButtonClick,"",i),this.pageHandlerModule.NavigateToDealWithDisposition(t,e,n)}},{key:"createDealsTile",value:function(t,e,n){var i=this.utilities.createElement("BUTTON",{style:"background: transparent;\n            --elevation: 5;\n            overflow: hidden;\n            align-items: center;\n            padding: 12px 12px 10px;\n            margin-bottom: 10px;\n            cursor: pointer;\n            border: calc(var(--outline-width) * 1px) solid transparent;\n            border-radius: calc(var(--elevated-corner-radius) * 1px);\n            text-align: left;\n            display: table;\n            width: 100%;"});i.className="divDealsLink";var r=this.utilities.createElement("DIV",{style:"position: relative; height: 100%; display: grid; grid-template-columns: auto 60% auto; grid-gap: 20px;"});i.appendChild(r);var o=this.utilities.createElement("IMG",{style:"width: 32px; height: 32px; place-self: center"});o.src=this.flyoutData.common.resourcesEndpoing+"retailerBranding/SquareIcons/DollarIcon.png",o.addEventListener("error",(function(){r.style.gridTemplateColumns="auto",r.removeChild(o)})),o.setAttribute("aria-hidden","true"),r.appendChild(o);var a=this.utilities.createElement("DIV",{style:"justify-content: space-around;\n                flex-direction: column;\n                max-width: 192px;"});r.appendChild(a);var s=this.utilities.createElement("P",{style:"margin: 0px;\n                    margin-bottom: 5px;"});s.className="txtMedium",s.style.fontWeight="600",s.style.fontSize="14px",s.style.lineHeight="16px",s.style.color="var(--neutral-foreground-rest)",s.textContent=t,a.appendChild(s),i.setAttribute("aria-label","".concat(this.flyoutData.strings.getDeal,", ").concat(t)),i.setAttribute("role","button");var l=this.utilities.createElement("P");return l.className="txtSmall",l.style.fontWeight="500",l.style.fontSize="12px",l.style.lineHeight="14px",l.style.color="var(--accent-foreground-rest)",l.style.placeSelf="center",l.textContent=this.flyoutData.strings.getDeal,r.appendChild(l),this.managePCLinkEvents(i,e,n),i}}],[{key:"CapitalizeText",value:function(t){if(t){var e="";return t.split(" ").forEach((function(t){t.length>0&&(e+=t[0].toUpperCase()+t.substring(1)+" ")})),e.substring(0,e.length-1)}return t}}]),n}(fi),Dr=function(){function t(){(0,ye.Z)(this,t)}return(0,Ce.Z)(t,[{key:"getStyles",value:function(){return"#txtPCProductTitle {\n            margin-top: 5px;\n            overflow: hidden;\n            overflow-wrap: break-word;\n            display: -webkit-box;\n            -webkit-line-clamp: 2;\n            -webkit-box-orient: vertical;\n        }\n        #imgPCProductImage {\n            max-width: calc(100% - 20px);\n            height: auto;\n            max-height: 100px;\n            box-sizing: border-box;\n            place-self: center;\n            object-fit: cover;\n        }\n"}},{key:"getAnnotationPriceDrop",value:function(){return'<svg xmlns="http://www.w3.org/2000/svg" width="15" height="10" viewBox="0 0 15 10" fill="none">\n        <path d="M10.0622 9.99907V8.79624H12.9506L8.19844 4.07342L5.68313 6.57319L0 0.832945L0.838125 0L5.68313 4.81319L8.19844 2.31436L13.7887 7.87012V5.09271H15V10L10.0622 9.99907Z" fill="#666666"/>\n        </svg>'}},{key:"getAnnotationShipping",value:function(){return'<svg xmlns="http://www.w3.org/2000/svg" width="14" height="11" viewBox="0 0 14 11" fill="none">\n        <path d="M7 0.333252H1.16667C0.857247 0.333252 0.560501 0.456168 0.341709 0.674961C0.122916 0.893753 0 1.1905 0 1.49992V7.33325C0.000484078 7.5743 0.0758474 7.80925 0.21567 8.00561C0.355492 8.20197 0.552865 8.35003 0.7805 8.42934C0.998632 8.0463 1.31575 7.72896 1.69863 7.51056C2.08152 7.29216 2.51609 7.18074 2.95682 7.18795C3.39756 7.19517 3.82824 7.32076 4.20377 7.55158C4.5793 7.7824 4.88586 8.10995 5.09133 8.49992H7C7.30942 8.49992 7.60616 8.377 7.82496 8.15821C8.04375 7.93942 8.16667 7.64267 8.16667 7.33325V1.49992C8.16667 1.1905 8.04375 0.893753 7.82496 0.674961C7.60616 0.456168 7.30942 0.333252 7 0.333252ZM13.8565 4.83542L12.1432 2.86667C12.0884 2.80376 12.0207 2.75334 11.9448 2.71882C11.8688 2.68431 11.7863 2.66649 11.7028 2.66659H10.5C10.3453 2.66659 10.1969 2.72804 10.0875 2.83744C9.97812 2.94684 9.91667 3.09521 9.91667 3.24992V7.18742C10.3641 7.1886 10.8027 7.31134 11.1858 7.54252C11.5688 7.7737 11.8818 8.10462 12.0913 8.49992H13.4167C13.5714 8.49992 13.7197 8.43846 13.8291 8.32907C13.9385 8.21967 14 8.0713 14 7.91659V5.21867C14 5.07778 13.949 4.94165 13.8565 4.83542ZM9.91667 8.64575C9.71476 8.64575 9.5174 8.70562 9.34952 8.81779C9.18165 8.92996 9.0508 9.0894 8.97354 9.27593C8.89627 9.46246 8.87606 9.66772 8.91545 9.86574C8.95484 10.0638 9.05206 10.2457 9.19483 10.3884C9.33759 10.5312 9.51949 10.6284 9.71751 10.6678C9.91553 10.7072 10.1208 10.687 10.3073 10.6097C10.4939 10.5324 10.6533 10.4016 10.7655 10.2337C10.8776 10.0659 10.9375 9.86849 10.9375 9.66659C10.937 9.39599 10.8293 9.1366 10.638 8.94526C10.4467 8.75392 10.1873 8.64622 9.91667 8.64575ZM2.91667 8.64575C2.71476 8.64575 2.5174 8.70562 2.34952 8.81779C2.18165 8.92996 2.0508 9.0894 1.97354 9.27593C1.89628 9.46246 1.87606 9.66772 1.91545 9.86574C1.95484 10.0638 2.05206 10.2457 2.19483 10.3884C2.33759 10.5312 2.51949 10.6284 2.71751 10.6678C2.91553 10.7072 3.12079 10.687 3.30732 10.6097C3.49386 10.5324 3.65329 10.4016 3.76546 10.2337C3.87763 10.0659 3.9375 9.86849 3.9375 9.66659C3.93704 9.39599 3.82934 9.1366 3.63799 8.94526C3.44665 8.75392 3.18727 8.64622 2.91667 8.64575Z" fill="#919191"/>\n        </svg>'}},{key:"getDefaultProductImage",value:function(){return"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI2NiIgaG\n                VpZ2h0PSI2NiIgdmlld0JveD0iMCAwIDY2IDY2IiBmaWxsPSJub25lIj4KICAgICAgICA8cmVjdCB3aWR0aD0iNjYiIGhlaW\n                dodD0iNjYiIHJ4PSI0IiBmaWxsPSIjRjdGN0Y3Ii8+CiAgICAgICAgPHBhdGggZD0iTTMyLjI5OTUgMzUuMjkwNkwzMi40MT\n                EgMzUuMTk1OUMzMi43NTY2IDM0Ljk0MzQgMzMuMjI3MyAzNC45NDAzIDMzLjU3NiAzNS4xODY2TDMzLjcwMDUgMzUuMjkwNk\n                w0Mi45Mzc0IDQ0LjM1ODFDNDIuMjc3MSA0NC43NjUyIDQxLjQ5OTMgNDUgNDAuNjY2NyA0NUgyNS4zMzMzQzI0LjUwMDcgND\n                UgMjMuNzIyOSA0NC43NjUyIDIzLjA2MjYgNDQuMzU4MUwzMi4yOTk1IDM1LjI5MDZMMzIuNDExIDM1LjE5NTlMMzIuMjk5NS\n                AzNS4yOTA2Wk00MC42NjY3IDIxQzQzLjA1OTkgMjEgNDUgMjIuOTQwMSA0NSAyNS4zMzMzVjQwLjY2NjdDNDUgNDEuNTAyNy\n                A0NC43NjMyIDQyLjI4MzUgNDQuMzUzMSA0Mi45NDU2TDM1LjEwMTYgMzMuODYzM0wzNC45MzAzIDMzLjcwNzVDMzMuODE5OS\n                AzMi43NzI0IDMyLjE5MjIgMzIuNzY5OCAzMS4wNzkgMzMuNjk5N0wzMC44OTg0IDMzLjg2MzNMMjEuNjQ2OSA0Mi45NDU2Qz\n                IxLjIzNjggNDIuMjgzNSAyMSA0MS41MDI3IDIxIDQwLjY2NjdWMjUuMzMzM0MyMSAyMi45NDAxIDIyLjk0MDEgMjEgMjUuMz\n                MzMyAyMUg0MC42NjY3Wk0zOC4wMDI4IDI1QzM2LjM0NDQgMjUgMzUgMjYuMzQ0NCAzNSAyOC4wMDI4QzM1IDI5LjY2MTIgMz\n                YuMzQ0NCAzMS4wMDU2IDM4LjAwMjggMzEuMDA1NkMzOS42NjEyIDMxLjAwNTYgNDEuMDA1NiAyOS42NjEyIDQxLjAwNTYgMj\n                guMDAyOEM0MS4wMDU2IDI2LjM0NDQgMzkuNjYxMiAyNSAzOC4wMDI4IDI1Wk0zOC4wMDI4IDI3QzM4LjU1NjcgMjcgMzkuMD\n                A1NiAyNy40NDkgMzkuMDA1NiAyOC4wMDI4QzM5LjAwNTYgMjguNTU2NyAzOC41NTY3IDI5LjAwNTYgMzguMDAyOCAyOS4wMD\n                U2QzM3LjQ0OSAyOS4wMDU2IDM3IDI4LjU1NjcgMzcgMjguMDAyOEMzNyAyNy40NDkgMzcuNDQ5IDI3IDM4LjAwMjggMjdaIi\n                BmaWxsPSIjRDZENkQ2Ii8+CiAgICAgICAgPC9zdmc+"}}]),t}();function Tr(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return Mr(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Mr(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function Mr(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function Pr(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=(0,De.Z)(t);if(e){var r=(0,De.Z)(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return(0,ke.Z)(this,n)}}var Rr=function(t){(0,Ie.Z)(n,t);var e=Pr(n);function n(t,i,r){var o;return(0,ye.Z)(this,n),o=e.call(this),(0,Se.Z)((0,Ae.Z)(o),"logModule",void 0),(0,Se.Z)((0,Ae.Z)(o),"pageHandlerModule",void 0),(0,Se.Z)((0,Ae.Z)(o),"stateManagement",void 0),(0,Se.Z)((0,Ae.Z)(o),"flyoutData",void 0),(0,Se.Z)((0,Ae.Z)(o),"utilities",void 0),(0,Se.Z)((0,Ae.Z)(o),"assets",void 0),(0,Se.Z)((0,Ae.Z)(o),"visibilityRequest",[]),o.logModule=r.logModule,o.pageHandlerModule=r.pageHandlerModule,o.stateManagement=t,o.flyoutData=i,o.utilities=r.viewModulesUtilities,o.assets=new Dr,o}return(0,Ce.Z)(n,[{key:"GetModuleName",value:function(){return xe.GX.PRICECOMPARISON}},{key:"ShouldRenderModule",value:function(){var t,e=this.flyoutData.dataStoreModule.PriceComparisonData,n=null!==(t=e&&e.CompetingPrices&&e.CompetingPrices.length>0)&&void 0!==t&&t;return Promise.resolve(n)}},{key:"renderModule",value:function(){this.utilities.applyStyles(this.flyoutData.common.shopping,this.assets.getStyles());var t=this.flyoutData.dataStoreModule.PriceComparisonData;if(t&&t.CompetingPrices.length>0){if(this.pageHandlerModule.TriggerExperiment(Qe.H.showPriceComparisonNotification),!t.shoudlRenderPriceComparisonNotification||this.flyoutData.common.seeInfoFromPCNotification){var e,n=document.createElement("msft-edge-shopping-section");n.id="priceComparisonSection",this.populatePriceList(n,!1,!1);var i=this.flyoutData.strings.pcPriceSectionTitle;this.utilities.createCommonListStructure(n,i,null===(e=this.flyoutData.dataStoreModule.PriceComparisonData)||void 0===e?void 0:e.CompetingPrices,(function(t){return xe.CS.PRICECOMPARISON}),this.populatePriceList.bind(this));var r=this.CreateModule(n,xe.H7.PRICECOMPARISON,xe.GX.PRICECOMPARISON),o=t.lowestPrice,a=t.Price-o;if(o>0&&a>0){var s=new ge.Z(ve.xu.YouCanSave,t.CompetingPrices.length,parseFloat(a.toFixed(2)));this.logModule.LogInfoEvent(ve.R.EdgeFlyoutStatus,"Price comparison - user can save money",s)}else{var l=new ge.Z(ve.xu.BestPrice,t.CompetingPrices.length);this.logModule.LogInfoEvent(ve.R.EdgeFlyoutStatus,"Price comparison - user has the best price",l)}if(r)this.pageHandlerModule.TriggerExperiment(Qe.H.showMoreSellers),this.flyoutData.experimentData.isExperimentActive(Qe.H.showMoreSellers)&&this.renderShowMoreSellersModule(r.element);return Promise.resolve(r)}this.renderPriceComparisonNotification()}return Promise.resolve(null)}},{key:"renderShowMoreSellersModule",value:function(t){var e=this;if(t){var n=this.utilities.createElement("DIV",{style:"display: flex; flex-direction: column; justify-content: center; position: relative; margin-top: 15px; margin-bottom: 15px;"}),i=document.createElement("fluent-button");i.appearance="accent",i.textContent=this.flyoutData.strings.pcShowMoreSellers,i.style.height="36px",i.style.width="160px",i.style.alignSelf="center",i.addEventListener("click",(function(){var t=new Jn.Z(ve.$S.SeeMoreSellers);e.pageHandlerModule.RecordAsUserAction(ni.b.SHOW_MORE_SELLERS),e.logModule.LogInfoEvent(ve.R.ButtonClick,"",t),e.pageHandlerModule.NavigateToMoreSellers(qn.NEW_FOREGROUND_TAB)})),n.appendChild(i),t.appendChild(n)}}},{key:"renderPriceComparisonNotification",value:function(){var t=this.flyoutData.dataStoreModule.PriceComparisonData;if(t&&t.Price&&t.CompetingPrices&&t.CompetingPrices.length>0){var e,n,i=t.lowestPrice,r=Tr(t.CompetingPrices);try{for(r.s();!(n=r.n()).done;){var o=n.value;if(i===t.getIntendedPrice(o)){e=o;break}}}catch(t){r.e(t)}finally{r.f()}if(e&&i){var a=t.Price-i;if(a>0){var s=this.utilities.createElement("DIV",{style:"width: 100%;"}),l=this.utilities.createElement("DIV",{style:"display: grid; grid-template-columns: 60% 50%; margin-left: 10px; margin-right: 10px;"}),c=this.createNotificationTextContent(a,e,i,t.Price),u=this.utilities.createElement("DIV",{style:"display: flex; justify-content: center; width: calc(100% - 20px); height: 100%;"}),d=this.utilities.createElement("IMG",{style:"place-self: center; width: auto; max-width: 100%; height: auto; max-height: 170px;"}),h=e.ProductImageUrl.replace("w=66&h=66","");""===this.flyoutData.common.urlPrefix&&(h=h.replace("edge://image?","")),d.src=h,d.setAttribute("aria-label",this.flyoutData.strings.pcProductImage),u.appendChild(d),l.appendChild(c),l.appendChild(u);var p=this.createNotificationFooter(s,e);s.appendChild(l),s.slot="header-content",this.flyoutData.common.shopping.appendChild(p),this.flyoutData.common.shopping.appendChild(s);var f=new ge.Z(ve.xu.YouCanSave,t.CompetingPrices.length,parseFloat(a.toFixed(2)));this.logModule.LogInfoEvent(ve.R.EdgeFlyoutStatus,"Price comparison Notificatoin - user can save money",f)}}}}},{key:"populateMainHeader",value:function(){var t=this.flyoutData.dataStoreModule.PriceComparisonData,e=this.flyoutData.common.shopping;if(t&&t.CompetingPrices&&t.CompetingPrices.length>0){var n=t.lowestPrice,i=t.Price-n,r="$";t.CompetingPrices[0].CurrencySymbol&&(r=t.CompetingPrices[0].CurrencySymbol);var o=this.utilities.createElement("DIV",{style:"display: grid; grid-template-columns: 40% auto;"});o.slot="header-content";var a=this.utilities.createElement("DIV",{style:"display: flex; flex-direction: column; margin-top: 10px;"}),s=this.utilities.createElement("H2");if(s.className="txtLarge",s.style.fontWeight="500",n>0&&i>0?(s.textContent=this.utilities.replaceValueInKey(this.flyoutData.strings.savingsHeader,r+i.toFixed(2)),this.placeLowestPricesInHeader(e,t.CompetingPrices)):s.textContent=this.flyoutData.strings.pcBestPriceHeader,a.appendChild(s),t.currentImageUrl&&""!==t.currentImageUrl){var l=this.utilities.createElement("IMG");l.id="imgPCProductImage",l.src=this.flyoutData.common.urlPrefix+t.currentImageUrl,l.setAttribute("aria-label",this.flyoutData.strings.pcProductImage);var c=!0;a.style.textAlign="left",l.addEventListener("error",(function(){c=!1})),c?(o.appendChild(l),l.addEventListener("contextmenu",(function(t){return t.preventDefault(),!1}))):(o.style.gridTemplateColumns="auto",a.style.textAlign="center")}else o.style.gridTemplateColumns="auto",a.style.textAlign="center";if(t.currentProductTitle&&""!==t.currentProductTitle){var u,d=this.utilities.createElement("P");if(d.className="txtSmall",d.textContent=t.currentProductTitle,d.id="txtPCProductTitle",a.appendChild(d),null!==(u=this.flyoutData.dataStoreModule.RatingsAndReviewsData)&&void 0!==u&&u.canCreateInlineRating){var h=new CustomEvent(Qn.e1.CreateInlineRating,{detail:{callback:function(t){t&&a&&(a.appendChild(t),a.style.marginTop="1px",d.style.marginTop="8px",t.style.marginTop="4px")},moduleName:xe.GX.PRICECOMPARISON}});this.stateManagement.dispatchEvent(h)}}o.appendChild(a),e.appendChild(o)}}},{key:"PostProcessing",value:function(t,e,n){var i=this;0===e?this.visibilityRequest.length>0&&this.pageHandlerModule.SendBingVisibilityRequest(this.visibilityRequest):G.SO.queueUpdate((function(){var t,e=null===(t=n.shadowRoot)||void 0===t?void 0:t.querySelector("fluent-accordion-item");if(e&&e.classList.contains("expanded"))i.visibilityRequest.length>0&&i.pageHandlerModule.SendBingVisibilityRequest(i.visibilityRequest);else if(e){n.addEventListener("click",(function t(){n&&(e&&(e.classList.contains("expanded")||r.SendBingVisibilityRequest(o)),n.removeEventListener("click",t))}));var r=i.pageHandlerModule,o=i.visibilityRequest}}))}},{key:"populatePriceList",value:function(t,e,n){var i,r=this.flyoutData.dataStoreModule.PriceComparisonData,o=null==r?void 0:r.CompetingPrices;if(o){o.length>0&&(i=o.length);var a=0;if(e){var s=new Jn.Z(ve.$S.SeeMoreRetailers);this.pageHandlerModule.RecordAsUserAction(ni.b.VIEW_MORE_RETAILERS),this.logModule.LogInfoEvent(ve.R.ButtonClick,"",s),a=xe.CS.PRICECOMPARISON}else i>xe.CS.PRICECOMPARISON&&(i=xe.CS.PRICECOMPARISON);for(var l=null==r?void 0:r.lowestPrice,c=a;c<i;c++){var u,d=document.createElement("msft-shopping-link"),h=null===(u=this.flyoutData.dataStoreModule.PriceComparisonData)||void 0===u?void 0:u.getIntendedPrice(o[c]);h&&(d.price=o[c].CurrencySymbol+h.toFixed(2)),d.textContent=o[c].Description,d.href="#",d.retailer=o[c].SellerName,h===l&&(d.badge=this.flyoutData.strings.pcLowest),this.createPCLinkImages(d,o[c],!1),this.managePCLinkEvents(d,o[c]),t.appendChild(d),c===a&&e&&n&&this.flyoutData.common.currentDevice===xe.AS.Desktop&&d.focus()}this.visibilityRequest.length>0&&e&&this.pageHandlerModule.SendBingVisibilityRequest(this.visibilityRequest)}}},{key:"navigateToRetailer",value:function(t,e){var n=new Jn.Z(ve.$S.NavigatedToAnotherRetailer);this.pageHandlerModule.RecordAsUserAction(ni.b.NAVIGATE_TO_RETAILER),this.logModule.LogInfoEvent(ve.R.ButtonClick,"Navigation to another retailer from price comparison",n),this.flyoutData.dataLoader.IsServerData()||this.flyoutData.common.currentDevice===xe.AS.Mobile?this.pageHandlerModule.NavigateToAlternateRetailerWithDisposition(t.Url):""!==t.PriceId?this.pageHandlerModule.NavigateToAlternateRetailerWithDisposition(t.PriceId,e):this.pageHandlerModule.NavigateToAlternateRetailerWithDisposition(t.ImpressionToken,e)}},{key:"createNotificationFooter",value:function(t,e){var n=this,i=this.utilities.createElement("DIV",{style:"width: 100%; display: grid; grid-template-columns: 60% auto; grid-gap: 10px; margin-top: 22px;"});i.id="divNotificationActions",i.slot="actions";var r=this.utilities.createElement("fluent-button");r.appearance="accent",r.style.fontSize="16px",r.style.borderRadius="4px",r.style.height="41px",r.textContent=this.flyoutData.strings.pcNotificationVisitItem;var o=this.flyoutData.common.currentDevice;r.addEventListener("click",(function(){o===xe.AS.Desktop&&n.navigateToRetailer(e,qn.NEW_FOREGROUND_TAB)})),i.appendChild(r);var a=this.utilities.createElement("fluent-button");return a.appearance="lightweight",a.style.placeSelf="center",a.textContent=this.flyoutData.strings.pcNotificationSeeMoreInfo,a.addEventListener("click",(function(){n.handleSeeMoreInfoNotificationClick(t)})),i.appendChild(a),i}},{key:"handleSeeMoreInfoNotificationClick",value:function(t){var e=this;t.remove();var n=this.flyoutData.common.shopping.querySelector("#divMenuButton");n&&n.remove();var i=this.flyoutData.common.shopping.querySelector("#btnFlyoutClose");i&&i.remove();var r=this.flyoutData.common.shopping.querySelector("#divMenuContent");r&&r.remove();var o=this.flyoutData.common.shopping.querySelector("#divNotificationActions");o&&o.remove(),this.flyoutData.common.seeInfoFromPCNotification=!0,G.SO.queueUpdate((function(){e.utilities.trapFlyoutFocusMac();var t=new CustomEvent(Qn.e1.CreateModules);e.stateManagement.dispatchEvent(t)}))}},{key:"createNotificationTextContent",value:function(t,e,n,i){var r=this.utilities.createElement("DIV",{style:"display: flex; flex-direction: column; grid-gap: 14px;"}),o=this.utilities.createElement("H2",{style:"text-align: left; font-weight: 600;"});o.textContent=this.utilities.replaceValueInKey(this.flyoutData.strings.pcNotificationTitle,"$".concat(t.toFixed(2))),o.className="txtLarge";var a=this.utilities.createElement("P",{style:"text-align: left; overflow: hidden; overflow-wrap: break-word; display: -webkit-box; -webkit-line-clamp: 2; -webkit-box-orient: vertical;"});a.className="txtMedium",a.textContent=e.Description,r.appendChild(o),r.appendChild(a);var s=this.utilities.createElement("DIV",{style:"display: flex; flex-direction: column;"});if(e.SellerName){var l=this.utilities.createElement("DIV",{style:"display: flex; flex-direction: row;"}),c=this.utilities.createElement("P",{style:"margin-left: 6px;"});c.textContent=e.SellerName,c.className="txtSmall";var u=this.utilities.createElement("IMG");this.utilities.addFavIconSrc(u,l,e.Domain)&&l.appendChild(u),l.appendChild(c),s.appendChild(l)}var d=this.utilities.createElement("DIV",{style:"display: flex; flex-direction: row;"}),h=this.utilities.createElement("P");h.textContent="$".concat(n),h.className="txtLarge",h.style.fontWeight="500",h.setAttribute("aria-label",this.utilities.replaceValueInKey(this.flyoutData.strings.pcLowestPriceAria,"$".concat(n),e.SellerName));var p=this.utilities.createElement("P",{style:"align-self: flex-end; margin-left: 9px;"});return p.className="txtMedium",p.textContent="$".concat(i),p.setAttribute("aria-label",this.utilities.replaceValueInKey(this.flyoutData.strings.pcCurrentPriceAria,"$".concat(i))),p.style.textDecoration="line-through",d.appendChild(h),d.appendChild(p),s.appendChild(d),r.appendChild(s),r}},{key:"placeLowestPricesInHeader",value:function(t,e){var n=this,i=t.querySelectorAll("msft-edge-shopping-section");if(i&&i.length>0){var r=i[0].querySelectorAll("msft-shopping-link");r&&r.length>0&&r.forEach((function(o){if(o.badge&&""!==o.badge){var a=document.createElement("msft-shopping-link");a.price=o.price,a.textContent=o.textContent,a.style.textAlign="start",a.href="#",a.retailer=o.retailer,a.badge=n.flyoutData.strings.pcLowest,a.slot="actions",a.style.marginTop="16px",a.style.width="100%";var s,l=Tr(e);try{for(l.s();!(s=l.n()).done;){var c,u=s.value,d=null===(c=n.flyoutData.dataStoreModule.PriceComparisonData)||void 0===c?void 0:c.getIntendedPrice(u);if(u.SellerName===a.retailer&&d&&u.CurrencySymbol+d.toFixed(2)===a.price){n.createPCLinkImages(a,u,!0),n.managePCLinkEvents(a,u);break}}}catch(t){l.e(t)}finally{l.f()}t.prepend(a),1===r.length&&(i[0].style.display="none"),o.remove()}0===i[0].querySelectorAll("msft-shopping-link").length&&i[0].remove()}))}}},{key:"managePCLinkEvents",value:function(t,e){var n=this;t.addEventListener("click",(function(){n.navigateToRetailer(e,qn.NEW_FOREGROUND_TAB)})),t.addEventListener("mousedown",(function(t){switch(t.button){case 1:n.navigateToRetailer(e,qn.NEW_FOREGROUND_TAB)}}));var i=this.logModule;t.addEventListener("contextmenu",(function(t){t.preventDefault();var e=new Jn.Z(ve.$S.RightClickPriceComparison);return i.LogInfoEvent(ve.R.ButtonClick,"User right clicked price comparison link",e),!1}))}},{key:"createPCLinkImages",value:function(t,e,n){var i=this,r=document.createElement("IMG"),o=this.utilities.addFavIconSrc(r,t,e.Domain),a=this.utilities.createElement("IMG");e.ProductImageOriginalUrl&&""!==e.ProductImageOriginalUrl?(""===this.flyoutData.common.urlPrefix&&(a.src=e.ProductImageOriginalUrl.replace("edge://image?","")),a.style.maxWidth="66px",a.style.maxHeight="66px"):e.ProductImageUrl&&""!==e.ProductImageUrl?a.src=e.ProductImageUrl:a.src=this.assets.getDefaultProductImage(),a.setAttribute("aria-hidden","true"),a.slot="image",a.addEventListener("error",(function(){a.src=i.assets.getDefaultProductImage()})),o&&t.appendChild(r),t.appendChild(a),""!==e.ImpressionToken&&this.visibilityRequest&&!n&&this.visibilityRequest.push(e.ImpressionToken),this.addPCAnnotations(t,e.Extensions)}},{key:"addPCAnnotations",value:function(t,e){if(e&&e.length>0){var n,i,r=Tr(e);try{for(r.s();!(i=r.n()).done;){var o=i.value;if(o.ExtensionText===xe.vu.Used||o.ExtensionText===xe.vu.New||o.ExtensionText===xe.vu.Refurbished){var a=this.utilities.createElement("msft-attribution");a.textContent=o.ExtensionText,a.slot="start",t.appendChild(a)}else n||(n=o)}}catch(t){r.e(t)}finally{r.f()}if(n&&n.ExtensionText){var s=this.utilities.createElement("msft-attribution");s.textContent=n.ExtensionText;var l=this.utilities.createElement("DIV"),c=!1;n.ExtensionText.toLowerCase().includes(xe.vu.PriceDrop)?(l.innerHTML=Je.Z.staticPolicy.createHTML(this.assets.getAnnotationPriceDrop()),c=!0):n.ExtensionText.toLowerCase().includes(xe.vu.Shipping)&&(l.innerHTML=Je.Z.staticPolicy.createHTML(this.assets.getAnnotationShipping()),c=!0),c&&(l.slot="image",s.appendChild(l)),s.slot="end",t.appendChild(s)}}}}]),n}(fi);function Or(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function Lr(t){return function(t){if(Array.isArray(t))return Or(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return Or(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Or(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _r(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function Nr(t){let e=t,n=t;function i(t,e,i,r){for(null==i&&(i=0),null==r&&(r=t.length);i<r;){const o=i+r>>>1;n(t[o],e)<0?i=o+1:r=o}return i}return 1===t.length&&(e=(e,n)=>t(e)-n,n=function(t){return(e,n)=>_r(t(e),n)}(t)),{left:i,center:function(t,n,r,o){null==r&&(r=0),null==o&&(o=t.length);const a=i(t,n,r,o-1);return a>r&&e(t[a-1],n)>-e(t[a],n)?a-1:a},right:function(t,e,i,r){for(null==i&&(i=0),null==r&&(r=t.length);i<r;){const o=i+r>>>1;n(t[o],e)>0?r=o:i=o+1}return i}}}function Hr(t,e){let n;if(void 0===e)for(const e of t)null!=e&&(n<e||void 0===n&&e>=e)&&(n=e);else{let i=-1;for(let r of t)null!=(r=e(r,++i,t))&&(n<r||void 0===n&&r>=r)&&(n=r)}return n}function Fr(t,e){let n;if(void 0===e)for(const e of t)null!=e&&(n>e||void 0===n&&e>=e)&&(n=e);else{let i=-1;for(let r of t)null!=(r=e(r,++i,t))&&(n>r||void 0===n&&r>=r)&&(n=r)}return n}function Zr(){}function Br(t){return null==t?Zr:function(){return this.querySelector(t)}}function $r(t){return"object"==typeof t&&"length"in t?t:Array.from(t)}function Ur(){return[]}function Vr(t){return null==t?Ur:function(){return this.querySelectorAll(t)}}function Gr(t){return function(){return this.matches(t)}}function jr(t){return function(e){return e.matches(t)}}var zr=Array.prototype.find;function Wr(){return this.firstElementChild}var Yr=Array.prototype.filter;function qr(){return this.children}function Xr(t){return new Array(t.length)}function Kr(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}function Qr(t){return function(){return t}}function Jr(t,e,n,i,r,o){for(var a,s=0,l=e.length,c=o.length;s<c;++s)(a=e[s])?(a.__data__=o[s],i[s]=a):n[s]=new Kr(t,o[s]);for(;s<l;++s)(a=e[s])&&(r[s]=a)}function to(t,e,n,i,r,o,a){var s,l,c,u=new Map,d=e.length,h=o.length,p=new Array(d);for(s=0;s<d;++s)(l=e[s])&&(p[s]=c=a.call(l,l.__data__,s,e)+"",u.has(c)?r[s]=l:u.set(c,l));for(s=0;s<h;++s)c=a.call(t,o[s],s,o)+"",(l=u.get(c))?(i[s]=l,l.__data__=o[s],u.delete(c)):n[s]=new Kr(t,o[s]);for(s=0;s<d;++s)(l=e[s])&&u.get(p[s])===l&&(r[s]=l)}function eo(t){return t.__data__}function no(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}Kr.prototype={constructor:Kr,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};var io="http://www.w3.org/1999/xhtml",ro={svg:"http://www.w3.org/2000/svg",xhtml:io,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function oo(t){var e=t+="",n=e.indexOf(":");return n>=0&&"xmlns"!==(e=t.slice(0,n))&&(t=t.slice(n+1)),ro.hasOwnProperty(e)?{space:ro[e],local:t}:t}function ao(t){return function(){this.removeAttribute(t)}}function so(t){return function(){this.removeAttributeNS(t.space,t.local)}}function lo(t,e){return function(){this.setAttribute(t,e)}}function co(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function uo(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}}function ho(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function po(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function fo(t){return function(){this.style.removeProperty(t)}}function go(t,e,n){return function(){this.style.setProperty(t,e,n)}}function vo(t,e,n){return function(){var i=e.apply(this,arguments);null==i?this.style.removeProperty(t):this.style.setProperty(t,i,n)}}function mo(t,e){return t.style.getPropertyValue(e)||po(t).getComputedStyle(t,null).getPropertyValue(e)}function yo(t){return function(){delete this[t]}}function Co(t,e){return function(){this[t]=e}}function bo(t,e){return function(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}}function So(t){return t.trim().split(/^|\s+/)}function xo(t){return t.classList||new Eo(t)}function Eo(t){this._node=t,this._names=So(t.getAttribute("class")||"")}function wo(t,e){for(var n=xo(t),i=-1,r=e.length;++i<r;)n.add(e[i])}function Ao(t,e){for(var n=xo(t),i=-1,r=e.length;++i<r;)n.remove(e[i])}function Io(t){return function(){wo(this,t)}}function ko(t){return function(){Ao(this,t)}}function Do(t,e){return function(){(e.apply(this,arguments)?wo:Ao)(this,t)}}function To(){this.textContent=""}function Mo(t){return function(){this.textContent=t}}function Po(t){return function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}}function Ro(){this.innerHTML=""}function Oo(t){return function(){this.innerHTML=t}}function Lo(t){return function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}}function _o(){this.nextSibling&&this.parentNode.appendChild(this)}function No(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Ho(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===io&&e.documentElement.namespaceURI===io?e.createElement(t):e.createElementNS(n,t)}}function Fo(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function Zo(t){var e=oo(t);return(e.local?Fo:Ho)(e)}function Bo(){return null}function $o(){var t=this.parentNode;t&&t.removeChild(this)}function Uo(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Vo(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Go(t){return t.trim().split(/^|\s+/).map((function(t){var e="",n=t.indexOf(".");return n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),{type:t,name:e}}))}function jo(t){return function(){var e=this.__on;if(e){for(var n,i=0,r=-1,o=e.length;i<o;++i)n=e[i],t.type&&n.type!==t.type||n.name!==t.name?e[++r]=n:this.removeEventListener(n.type,n.listener,n.options);++r?e.length=r:delete this.__on}}}function zo(t,e,n){return function(){var i,r=this.__on,o=function(t){return function(e){t.call(this,e,this.__data__)}}(e);if(r)for(var a=0,s=r.length;a<s;++a)if((i=r[a]).type===t.type&&i.name===t.name)return this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=o,i.options=n),void(i.value=e);this.addEventListener(t.type,o,n),i={type:t.type,name:t.name,value:e,listener:o,options:n},r?r.push(i):this.__on=[i]}}function Wo(t,e,n){var i=po(t),r=i.CustomEvent;"function"==typeof r?r=new r(e,n):(r=i.document.createEvent("Event"),n?(r.initEvent(e,n.bubbles,n.cancelable),r.detail=n.detail):r.initEvent(e,!1,!1)),t.dispatchEvent(r)}function Yo(t,e){return function(){return Wo(this,t,e)}}function qo(t,e){return function(){return Wo(this,t,e.apply(this,arguments))}}Eo.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var Xo=[null];function Ko(t,e){this._groups=t,this._parents=e}function Qo(){return new Ko([[document.documentElement]],Xo)}Ko.prototype=Qo.prototype={constructor:Ko,select:function(t){"function"!=typeof t&&(t=Br(t));for(var e=this._groups,n=e.length,i=new Array(n),r=0;r<n;++r)for(var o,a,s=e[r],l=s.length,c=i[r]=new Array(l),u=0;u<l;++u)(o=s[u])&&(a=t.call(o,o.__data__,u,s))&&("__data__"in o&&(a.__data__=o.__data__),c[u]=a);return new Ko(i,this._parents)},selectAll:function(t){t="function"==typeof t?function(t){return function(){var e=t.apply(this,arguments);return null==e?[]:$r(e)}}(t):Vr(t);for(var e=this._groups,n=e.length,i=[],r=[],o=0;o<n;++o)for(var a,s=e[o],l=s.length,c=0;c<l;++c)(a=s[c])&&(i.push(t.call(a,a.__data__,c,s)),r.push(a));return new Ko(i,r)},selectChild:function(t){return this.select(null==t?Wr:function(t){return function(){return zr.call(this.children,t)}}("function"==typeof t?t:jr(t)))},selectChildren:function(t){return this.selectAll(null==t?qr:function(t){return function(){return Yr.call(this.children,t)}}("function"==typeof t?t:jr(t)))},filter:function(t){"function"!=typeof t&&(t=Gr(t));for(var e=this._groups,n=e.length,i=new Array(n),r=0;r<n;++r)for(var o,a=e[r],s=a.length,l=i[r]=[],c=0;c<s;++c)(o=a[c])&&t.call(o,o.__data__,c,a)&&l.push(o);return new Ko(i,this._parents)},data:function(t,e){if(!arguments.length)return Array.from(this,eo);var n=e?to:Jr,i=this._parents,r=this._groups;"function"!=typeof t&&(t=Qr(t));for(var o=r.length,a=new Array(o),s=new Array(o),l=new Array(o),c=0;c<o;++c){var u=i[c],d=r[c],h=d.length,p=$r(t.call(u,u&&u.__data__,c,i)),f=p.length,g=s[c]=new Array(f),v=a[c]=new Array(f),m=l[c]=new Array(h);n(u,d,g,v,m,p,e);for(var y,C,b=0,S=0;b<f;++b)if(y=g[b]){for(b>=S&&(S=b+1);!(C=v[S])&&++S<f;);y._next=C||null}}return(a=new Ko(a,i))._enter=s,a._exit=l,a},enter:function(){return new Ko(this._enter||this._groups.map(Xr),this._parents)},exit:function(){return new Ko(this._exit||this._groups.map(Xr),this._parents)},join:function(t,e,n){var i=this.enter(),r=this,o=this.exit();return i="function"==typeof t?t(i):i.append(t+""),null!=e&&(r=e(r)),null==n?o.remove():n(o),i&&r?i.merge(r).order():r},merge:function(t){if(!(t instanceof Ko))throw new Error("invalid merge");for(var e=this._groups,n=t._groups,i=e.length,r=n.length,o=Math.min(i,r),a=new Array(i),s=0;s<o;++s)for(var l,c=e[s],u=n[s],d=c.length,h=a[s]=new Array(d),p=0;p<d;++p)(l=c[p]||u[p])&&(h[p]=l);for(;s<i;++s)a[s]=e[s];return new Ko(a,this._parents)},selection:function(){return this},order:function(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var i,r=t[e],o=r.length-1,a=r[o];--o>=0;)(i=r[o])&&(a&&4^i.compareDocumentPosition(a)&&a.parentNode.insertBefore(i,a),a=i);return this},sort:function(t){function e(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}t||(t=no);for(var n=this._groups,i=n.length,r=new Array(i),o=0;o<i;++o){for(var a,s=n[o],l=s.length,c=r[o]=new Array(l),u=0;u<l;++u)(a=s[u])&&(c[u]=a);c.sort(e)}return new Ko(r,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){return Array.from(this)},node:function(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var i=t[e],r=0,o=i.length;r<o;++r){var a=i[r];if(a)return a}return null},size:function(){let t=0;for(const e of this)++t;return t},empty:function(){return!this.node()},each:function(t){for(var e=this._groups,n=0,i=e.length;n<i;++n)for(var r,o=e[n],a=0,s=o.length;a<s;++a)(r=o[a])&&t.call(r,r.__data__,a,o);return this},attr:function(t,e){var n=oo(t);if(arguments.length<2){var i=this.node();return n.local?i.getAttributeNS(n.space,n.local):i.getAttribute(n)}return this.each((null==e?n.local?so:ao:"function"==typeof e?n.local?ho:uo:n.local?co:lo)(n,e))},style:function(t,e,n){return arguments.length>1?this.each((null==e?fo:"function"==typeof e?vo:go)(t,e,null==n?"":n)):mo(this.node(),t)},property:function(t,e){return arguments.length>1?this.each((null==e?yo:"function"==typeof e?bo:Co)(t,e)):this.node()[t]},classed:function(t,e){var n=So(t+"");if(arguments.length<2){for(var i=xo(this.node()),r=-1,o=n.length;++r<o;)if(!i.contains(n[r]))return!1;return!0}return this.each(("function"==typeof e?Do:e?Io:ko)(n,e))},text:function(t){return arguments.length?this.each(null==t?To:("function"==typeof t?Po:Mo)(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?Ro:("function"==typeof t?Lo:Oo)(t)):this.node().innerHTML},raise:function(){return this.each(_o)},lower:function(){return this.each(No)},append:function(t){var e="function"==typeof t?t:Zo(t);return this.select((function(){return this.appendChild(e.apply(this,arguments))}))},insert:function(t,e){var n="function"==typeof t?t:Zo(t),i=null==e?Bo:"function"==typeof e?e:Br(e);return this.select((function(){return this.insertBefore(n.apply(this,arguments),i.apply(this,arguments)||null)}))},remove:function(){return this.each($o)},clone:function(t){return this.select(t?Vo:Uo)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,e,n){var i,r,o=Go(t+""),a=o.length;if(!(arguments.length<2)){for(s=e?zo:jo,i=0;i<a;++i)this.each(s(o[i],e,n));return this}var s=this.node().__on;if(s)for(var l,c=0,u=s.length;c<u;++c)for(i=0,l=s[c];i<a;++i)if((r=o[i]).type===l.type&&r.name===l.name)return l.value},dispatch:function(t,e){return this.each(("function"==typeof e?qo:Yo)(t,e))},[Symbol.iterator]:function*(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var i,r=t[e],o=0,a=r.length;o<a;++o)(i=r[o])&&(yield i)}};var Jo=Qo,ta={value:()=>{}};function ea(){for(var t,e=0,n=arguments.length,i={};e<n;++e){if(!(t=arguments[e]+"")||t in i||/[\s.]/.test(t))throw new Error("illegal type: "+t);i[t]=[]}return new na(i)}function na(t){this._=t}function ia(t,e){return t.trim().split(/^|\s+/).map((function(t){var n="",i=t.indexOf(".");if(i>=0&&(n=t.slice(i+1),t=t.slice(0,i)),t&&!e.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:n}}))}function ra(t,e){for(var n,i=0,r=t.length;i<r;++i)if((n=t[i]).name===e)return n.value}function oa(t,e,n){for(var i=0,r=t.length;i<r;++i)if(t[i].name===e){t[i]=ta,t=t.slice(0,i).concat(t.slice(i+1));break}return null!=n&&t.push({name:e,value:n}),t}na.prototype=ea.prototype={constructor:na,on:function(t,e){var n,i=this._,r=ia(t+"",i),o=-1,a=r.length;if(!(arguments.length<2)){if(null!=e&&"function"!=typeof e)throw new Error("invalid callback: "+e);for(;++o<a;)if(n=(t=r[o]).type)i[n]=oa(i[n],t.name,e);else if(null==e)for(n in i)i[n]=oa(i[n],t.name,null);return this}for(;++o<a;)if((n=(t=r[o]).type)&&(n=ra(i[n],t.name)))return n},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new na(t)},call:function(t,e){if((n=arguments.length-2)>0)for(var n,i,r=new Array(n),o=0;o<n;++o)r[o]=arguments[o+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=0,n=(i=this._[t]).length;o<n;++o)i[o].value.apply(e,r)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var i=this._[t],r=0,o=i.length;r<o;++r)i[r].value.apply(e,n)}};var aa,sa,la=ea,ca=0,ua=0,da=0,ha=0,pa=0,fa=0,ga="object"==typeof performance&&performance.now?performance:Date,va="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function ma(){return pa||(va(ya),pa=ga.now()+fa)}function ya(){pa=0}function Ca(){this._call=this._time=this._next=null}function ba(t,e,n){var i=new Ca;return i.restart(t,e,n),i}function Sa(){pa=(ha=ga.now())+fa,ca=ua=0;try{!function(){ma(),++ca;for(var t,e=aa;e;)(t=pa-e._time)>=0&&e._call.call(null,t),e=e._next;--ca}()}finally{ca=0,function(){var t,e,n=aa,i=1/0;for(;n;)n._call?(i>n._time&&(i=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:aa=e);sa=t,Ea(i)}(),pa=0}}function xa(){var t=ga.now(),e=t-ha;e>1e3&&(fa-=e,ha=t)}function Ea(t){ca||(ua&&(ua=clearTimeout(ua)),t-pa>24?(t<1/0&&(ua=setTimeout(Sa,t-ga.now()-fa)),da&&(da=clearInterval(da))):(da||(ha=ga.now(),da=setInterval(xa,1e3)),ca=1,va(Sa)))}function wa(t,e,n){var i=new Ca;return e=null==e?0:+e,i.restart((n=>{i.stop(),t(n+e)}),e,n),i}Ca.prototype=ba.prototype={constructor:Ca,restart:function(t,e,n){if("function"!=typeof t)throw new TypeError("callback is not a function");n=(null==n?ma():+n)+(null==e?0:+e),this._next||sa===this||(sa?sa._next=this:aa=this,sa=this),this._call=t,this._time=n,Ea()},stop:function(){this._call&&(this._call=null,this._time=1/0,Ea())}};var Aa=la("start","end","cancel","interrupt"),Ia=[];function ka(t,e,n,i,r,o){var a=t.__transition;if(a){if(n in a)return}else t.__transition={};!function(t,e,n){var i,r=t.__transition;function o(t){n.state=1,n.timer.restart(a,n.delay,n.time),n.delay<=t&&a(t-n.delay)}function a(o){var c,u,d,h;if(1!==n.state)return l();for(c in r)if((h=r[c]).name===n.name){if(3===h.state)return wa(a);4===h.state?(h.state=6,h.timer.stop(),h.on.call("interrupt",t,t.__data__,h.index,h.group),delete r[c]):+c<e&&(h.state=6,h.timer.stop(),h.on.call("cancel",t,t.__data__,h.index,h.group),delete r[c])}if(wa((function(){3===n.state&&(n.state=4,n.timer.restart(s,n.delay,n.time),s(o))})),n.state=2,n.on.call("start",t,t.__data__,n.index,n.group),2===n.state){for(n.state=3,i=new Array(d=n.tween.length),c=0,u=-1;c<d;++c)(h=n.tween[c].value.call(t,t.__data__,n.index,n.group))&&(i[++u]=h);i.length=u+1}}function s(e){for(var r=e<n.duration?n.ease.call(null,e/n.duration):(n.timer.restart(l),n.state=5,1),o=-1,a=i.length;++o<a;)i[o].call(t,r);5===n.state&&(n.on.call("end",t,t.__data__,n.index,n.group),l())}function l(){for(var i in n.state=6,n.timer.stop(),delete r[e],r)return;delete t.__transition}r[e]=n,n.timer=ba(o,0,n.time)}(t,n,{name:e,index:i,group:r,on:Aa,tween:Ia,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:0})}function Da(t,e){var n=Ma(t,e);if(n.state>0)throw new Error("too late; already scheduled");return n}function Ta(t,e){var n=Ma(t,e);if(n.state>3)throw new Error("too late; already running");return n}function Ma(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function Pa(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}var Ra,Oa=180/Math.PI,La={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function _a(t,e,n,i,r,o){var a,s,l;return(a=Math.sqrt(t*t+e*e))&&(t/=a,e/=a),(l=t*n+e*i)&&(n-=t*l,i-=e*l),(s=Math.sqrt(n*n+i*i))&&(n/=s,i/=s,l/=s),t*i<e*n&&(t=-t,e=-e,l=-l,a=-a),{translateX:r,translateY:o,rotate:Math.atan2(e,t)*Oa,skewX:Math.atan(l)*Oa,scaleX:a,scaleY:s}}function Na(t,e,n,i){function r(t){return t.length?t.pop()+" ":""}return function(o,a){var s=[],l=[];return o=t(o),a=t(a),function(t,i,r,o,a,s){if(t!==r||i!==o){var l=a.push("translate(",null,e,null,n);s.push({i:l-4,x:Pa(t,r)},{i:l-2,x:Pa(i,o)})}else(r||o)&&a.push("translate("+r+e+o+n)}(o.translateX,o.translateY,a.translateX,a.translateY,s,l),function(t,e,n,o){t!==e?(t-e>180?e+=360:e-t>180&&(t+=360),o.push({i:n.push(r(n)+"rotate(",null,i)-2,x:Pa(t,e)})):e&&n.push(r(n)+"rotate("+e+i)}(o.rotate,a.rotate,s,l),function(t,e,n,o){t!==e?o.push({i:n.push(r(n)+"skewX(",null,i)-2,x:Pa(t,e)}):e&&n.push(r(n)+"skewX("+e+i)}(o.skewX,a.skewX,s,l),function(t,e,n,i,o,a){if(t!==n||e!==i){var s=o.push(r(o)+"scale(",null,",",null,")");a.push({i:s-4,x:Pa(t,n)},{i:s-2,x:Pa(e,i)})}else 1===n&&1===i||o.push(r(o)+"scale("+n+","+i+")")}(o.scaleX,o.scaleY,a.scaleX,a.scaleY,s,l),o=a=null,function(t){for(var e,n=-1,i=l.length;++n<i;)s[(e=l[n]).i]=e.x(t);return s.join("")}}}var Ha=Na((function(t){const e=new("function"==typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?La:_a(e.a,e.b,e.c,e.d,e.e,e.f)}),"px, ","px)","deg)"),Fa=Na((function(t){return null==t?La:(Ra||(Ra=document.createElementNS("http://www.w3.org/2000/svg","g")),Ra.setAttribute("transform",t),(t=Ra.transform.baseVal.consolidate())?_a((t=t.matrix).a,t.b,t.c,t.d,t.e,t.f):La)}),", ",")",")");function Za(t,e){var n,i;return function(){var r=Ta(this,t),o=r.tween;if(o!==n)for(var a=0,s=(i=n=o).length;a<s;++a)if(i[a].name===e){(i=i.slice()).splice(a,1);break}r.tween=i}}function Ba(t,e,n){var i,r;if("function"!=typeof n)throw new Error;return function(){var o=Ta(this,t),a=o.tween;if(a!==i){r=(i=a).slice();for(var s={name:e,value:n},l=0,c=r.length;l<c;++l)if(r[l].name===e){r[l]=s;break}l===c&&r.push(s)}o.tween=r}}function $a(t,e,n){var i=t._id;return t.each((function(){var t=Ta(this,i);(t.value||(t.value={}))[e]=n.apply(this,arguments)})),function(t){return Ma(t,i).value[e]}}function Ua(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function Va(t,e){var n=Object.create(t.prototype);for(var i in e)n[i]=e[i];return n}function Ga(){}var ja=.7,za=1/ja,Wa="\\s*([+-]?\\d+)\\s*",Ya="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",qa="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Xa=/^#([0-9a-f]{3,8})$/,Ka=new RegExp("^rgb\\("+[Wa,Wa,Wa]+"\\)$"),Qa=new RegExp("^rgb\\("+[qa,qa,qa]+"\\)$"),Ja=new RegExp("^rgba\\("+[Wa,Wa,Wa,Ya]+"\\)$"),ts=new RegExp("^rgba\\("+[qa,qa,qa,Ya]+"\\)$"),es=new RegExp("^hsl\\("+[Ya,qa,qa]+"\\)$"),ns=new RegExp("^hsla\\("+[Ya,qa,qa,Ya]+"\\)$"),is={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function rs(){return this.rgb().formatHex()}function os(){return this.rgb().formatRgb()}function as(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=Xa.exec(t))?(n=e[1].length,e=parseInt(e[1],16),6===n?ss(e):3===n?new ds(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):8===n?ls(e>>24&255,e>>16&255,e>>8&255,(255&e)/255):4===n?ls(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|240&e,((15&e)<<4|15&e)/255):null):(e=Ka.exec(t))?new ds(e[1],e[2],e[3],1):(e=Qa.exec(t))?new ds(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=Ja.exec(t))?ls(e[1],e[2],e[3],e[4]):(e=ts.exec(t))?ls(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=es.exec(t))?gs(e[1],e[2]/100,e[3]/100,1):(e=ns.exec(t))?gs(e[1],e[2]/100,e[3]/100,e[4]):is.hasOwnProperty(t)?ss(is[t]):"transparent"===t?new ds(NaN,NaN,NaN,0):null}function ss(t){return new ds(t>>16&255,t>>8&255,255&t,1)}function ls(t,e,n,i){return i<=0&&(t=e=n=NaN),new ds(t,e,n,i)}function cs(t){return t instanceof Ga||(t=as(t)),t?new ds((t=t.rgb()).r,t.g,t.b,t.opacity):new ds}function us(t,e,n,i){return 1===arguments.length?cs(t):new ds(t,e,n,null==i?1:i)}function ds(t,e,n,i){this.r=+t,this.g=+e,this.b=+n,this.opacity=+i}function hs(){return"#"+fs(this.r)+fs(this.g)+fs(this.b)}function ps(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}function fs(t){return((t=Math.max(0,Math.min(255,Math.round(t)||0)))<16?"0":"")+t.toString(16)}function gs(t,e,n,i){return i<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new ms(t,e,n,i)}function vs(t){if(t instanceof ms)return new ms(t.h,t.s,t.l,t.opacity);if(t instanceof Ga||(t=as(t)),!t)return new ms;if(t instanceof ms)return t;var e=(t=t.rgb()).r/255,n=t.g/255,i=t.b/255,r=Math.min(e,n,i),o=Math.max(e,n,i),a=NaN,s=o-r,l=(o+r)/2;return s?(a=e===o?(n-i)/s+6*(n<i):n===o?(i-e)/s+2:(e-n)/s+4,s/=l<.5?o+r:2-o-r,a*=60):s=l>0&&l<1?0:a,new ms(a,s,l,t.opacity)}function ms(t,e,n,i){this.h=+t,this.s=+e,this.l=+n,this.opacity=+i}function ys(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}function Cs(t,e,n,i,r){var o=t*t,a=o*t;return((1-3*t+3*o-a)*e+(4-6*o+3*a)*n+(1+3*t+3*o-3*a)*i+a*r)/6}Ua(Ga,as,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:rs,formatHex:rs,formatHsl:function(){return vs(this).formatHsl()},formatRgb:os,toString:os}),Ua(ds,us,Va(Ga,{brighter:function(t){return t=null==t?za:Math.pow(za,t),new ds(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?ja:Math.pow(ja,t),new ds(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:hs,formatHex:hs,formatRgb:ps,toString:ps})),Ua(ms,(function(t,e,n,i){return 1===arguments.length?vs(t):new ms(t,e,n,null==i?1:i)}),Va(Ga,{brighter:function(t){return t=null==t?za:Math.pow(za,t),new ms(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?ja:Math.pow(ja,t),new ms(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,i=n+(n<.5?n:1-n)*e,r=2*n-i;return new ds(ys(t>=240?t-240:t+120,r,i),ys(t,r,i),ys(t<120?t+240:t-120,r,i),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===t?")":", "+t+")")}}));var bs=t=>()=>t;function Ss(t,e){return function(n){return t+n*e}}function xs(t){return 1==(t=+t)?Es:function(e,n){return n-e?function(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(i){return Math.pow(t+i*e,n)}}(e,n,t):bs(isNaN(e)?n:e)}}function Es(t,e){var n=e-t;return n?Ss(t,n):bs(isNaN(t)?e:t)}var ws=function t(e){var n=xs(e);function i(t,e){var i=n((t=us(t)).r,(e=us(e)).r),r=n(t.g,e.g),o=n(t.b,e.b),a=Es(t.opacity,e.opacity);return function(e){return t.r=i(e),t.g=r(e),t.b=o(e),t.opacity=a(e),t+""}}return i.gamma=t,i}(1);function As(t){return function(e){var n,i,r=e.length,o=new Array(r),a=new Array(r),s=new Array(r);for(n=0;n<r;++n)i=us(e[n]),o[n]=i.r||0,a[n]=i.g||0,s[n]=i.b||0;return o=t(o),a=t(a),s=t(s),i.opacity=1,function(t){return i.r=o(t),i.g=a(t),i.b=s(t),i+""}}}As((function(t){var e=t.length-1;return function(n){var i=n<=0?n=0:n>=1?(n=1,e-1):Math.floor(n*e),r=t[i],o=t[i+1],a=i>0?t[i-1]:2*r-o,s=i<e-1?t[i+2]:2*o-r;return Cs((n-i/e)*e,a,r,o,s)}})),As((function(t){var e=t.length;return function(n){var i=Math.floor(((n%=1)<0?++n:n)*e),r=t[(i+e-1)%e],o=t[i%e],a=t[(i+1)%e],s=t[(i+2)%e];return Cs((n-i/e)*e,r,o,a,s)}}));var Is=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,ks=new RegExp(Is.source,"g");function Ds(t,e){var n,i,r,o=Is.lastIndex=ks.lastIndex=0,a=-1,s=[],l=[];for(t+="",e+="";(n=Is.exec(t))&&(i=ks.exec(e));)(r=i.index)>o&&(r=e.slice(o,r),s[a]?s[a]+=r:s[++a]=r),(n=n[0])===(i=i[0])?s[a]?s[a]+=i:s[++a]=i:(s[++a]=null,l.push({i:a,x:Pa(n,i)})),o=ks.lastIndex;return o<e.length&&(r=e.slice(o),s[a]?s[a]+=r:s[++a]=r),s.length<2?l[0]?function(t){return function(e){return t(e)+""}}(l[0].x):function(t){return function(){return t}}(e):(e=l.length,function(t){for(var n,i=0;i<e;++i)s[(n=l[i]).i]=n.x(t);return s.join("")})}function Ts(t,e){var n;return("number"==typeof e?Pa:e instanceof as?ws:(n=as(e))?(e=n,ws):Ds)(t,e)}function Ms(t){return function(){this.removeAttribute(t)}}function Ps(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Rs(t,e,n){var i,r,o=n+"";return function(){var a=this.getAttribute(t);return a===o?null:a===i?r:r=e(i=a,n)}}function Os(t,e,n){var i,r,o=n+"";return function(){var a=this.getAttributeNS(t.space,t.local);return a===o?null:a===i?r:r=e(i=a,n)}}function Ls(t,e,n){var i,r,o;return function(){var a,s,l=n(this);if(null!=l)return(a=this.getAttribute(t))===(s=l+"")?null:a===i&&s===r?o:(r=s,o=e(i=a,l));this.removeAttribute(t)}}function _s(t,e,n){var i,r,o;return function(){var a,s,l=n(this);if(null!=l)return(a=this.getAttributeNS(t.space,t.local))===(s=l+"")?null:a===i&&s===r?o:(r=s,o=e(i=a,l));this.removeAttributeNS(t.space,t.local)}}function Ns(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function Hs(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function Fs(t,e){var n,i;function r(){var r=e.apply(this,arguments);return r!==i&&(n=(i=r)&&Hs(t,r)),n}return r._value=e,r}function Zs(t,e){var n,i;function r(){var r=e.apply(this,arguments);return r!==i&&(n=(i=r)&&Ns(t,r)),n}return r._value=e,r}function Bs(t,e){return function(){Da(this,t).delay=+e.apply(this,arguments)}}function $s(t,e){return e=+e,function(){Da(this,t).delay=e}}function Us(t,e){return function(){Ta(this,t).duration=+e.apply(this,arguments)}}function Vs(t,e){return e=+e,function(){Ta(this,t).duration=e}}function Gs(t,e){if("function"!=typeof e)throw new Error;return function(){Ta(this,t).ease=e}}function js(t,e,n){var i,r,o=function(t){return(t+"").trim().split(/^|\s+/).every((function(t){var e=t.indexOf(".");return e>=0&&(t=t.slice(0,e)),!t||"start"===t}))}(e)?Da:Ta;return function(){var a=o(this,t),s=a.on;s!==i&&(r=(i=s).copy()).on(e,n),a.on=r}}var zs=Jo.prototype.constructor;function Ws(t){return function(){this.style.removeProperty(t)}}function Ys(t,e,n){return function(i){this.style.setProperty(t,e.call(this,i),n)}}function qs(t,e,n){var i,r;function o(){var o=e.apply(this,arguments);return o!==r&&(i=(r=o)&&Ys(t,o,n)),i}return o._value=e,o}function Xs(t){return function(e){this.textContent=t.call(this,e)}}function Ks(t){var e,n;function i(){var i=t.apply(this,arguments);return i!==n&&(e=(n=i)&&Xs(i)),e}return i._value=t,i}var Qs=0;function Js(t,e,n,i){this._groups=t,this._parents=e,this._name=n,this._id=i}function tl(){return++Qs}var el=Jo.prototype;Js.prototype=function(t){return Jo().transition(t)}.prototype={constructor:Js,select:function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=Br(t));for(var i=this._groups,r=i.length,o=new Array(r),a=0;a<r;++a)for(var s,l,c=i[a],u=c.length,d=o[a]=new Array(u),h=0;h<u;++h)(s=c[h])&&(l=t.call(s,s.__data__,h,c))&&("__data__"in s&&(l.__data__=s.__data__),d[h]=l,ka(d[h],e,n,h,d,Ma(s,n)));return new Js(o,this._parents,e,n)},selectAll:function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=Vr(t));for(var i=this._groups,r=i.length,o=[],a=[],s=0;s<r;++s)for(var l,c=i[s],u=c.length,d=0;d<u;++d)if(l=c[d]){for(var h,p=t.call(l,l.__data__,d,c),f=Ma(l,n),g=0,v=p.length;g<v;++g)(h=p[g])&&ka(h,e,n,g,p,f);o.push(p),a.push(l)}return new Js(o,a,e,n)},filter:function(t){"function"!=typeof t&&(t=Gr(t));for(var e=this._groups,n=e.length,i=new Array(n),r=0;r<n;++r)for(var o,a=e[r],s=a.length,l=i[r]=[],c=0;c<s;++c)(o=a[c])&&t.call(o,o.__data__,c,a)&&l.push(o);return new Js(i,this._parents,this._name,this._id)},merge:function(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,i=e.length,r=n.length,o=Math.min(i,r),a=new Array(i),s=0;s<o;++s)for(var l,c=e[s],u=n[s],d=c.length,h=a[s]=new Array(d),p=0;p<d;++p)(l=c[p]||u[p])&&(h[p]=l);for(;s<i;++s)a[s]=e[s];return new Js(a,this._parents,this._name,this._id)},selection:function(){return new zs(this._groups,this._parents)},transition:function(){for(var t=this._name,e=this._id,n=tl(),i=this._groups,r=i.length,o=0;o<r;++o)for(var a,s=i[o],l=s.length,c=0;c<l;++c)if(a=s[c]){var u=Ma(a,e);ka(a,t,n,c,s,{time:u.time+u.delay+u.duration,delay:0,duration:u.duration,ease:u.ease})}return new Js(i,this._parents,t,n)},call:el.call,nodes:el.nodes,node:el.node,size:el.size,empty:el.empty,each:el.each,on:function(t,e){var n=this._id;return arguments.length<2?Ma(this.node(),n).on.on(t):this.each(js(n,t,e))},attr:function(t,e){var n=oo(t),i="transform"===n?Fa:Ts;return this.attrTween(t,"function"==typeof e?(n.local?_s:Ls)(n,i,$a(this,"attr."+t,e)):null==e?(n.local?Ps:Ms)(n):(n.local?Os:Rs)(n,i,e))},attrTween:function(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==e)return this.tween(n,null);if("function"!=typeof e)throw new Error;var i=oo(t);return this.tween(n,(i.local?Fs:Zs)(i,e))},style:function(t,e,n){var i="transform"==(t+="")?Ha:Ts;return null==e?this.styleTween(t,function(t,e){var n,i,r;return function(){var o=mo(this,t),a=(this.style.removeProperty(t),mo(this,t));return o===a?null:o===n&&a===i?r:r=e(n=o,i=a)}}(t,i)).on("end.style."+t,Ws(t)):"function"==typeof e?this.styleTween(t,function(t,e,n){var i,r,o;return function(){var a=mo(this,t),s=n(this),l=s+"";return null==s&&(this.style.removeProperty(t),l=s=mo(this,t)),a===l?null:a===i&&l===r?o:(r=l,o=e(i=a,s))}}(t,i,$a(this,"style."+t,e))).each(function(t,e){var n,i,r,o,a="style."+e,s="end."+a;return function(){var l=Ta(this,t),c=l.on,u=null==l.value[a]?o||(o=Ws(e)):void 0;c===n&&r===u||(i=(n=c).copy()).on(s,r=u),l.on=i}}(this._id,t)):this.styleTween(t,function(t,e,n){var i,r,o=n+"";return function(){var a=mo(this,t);return a===o?null:a===i?r:r=e(i=a,n)}}(t,i,e),n).on("end.style."+t,null)},styleTween:function(t,e,n){var i="style."+(t+="");if(arguments.length<2)return(i=this.tween(i))&&i._value;if(null==e)return this.tween(i,null);if("function"!=typeof e)throw new Error;return this.tween(i,qs(t,e,null==n?"":n))},text:function(t){return this.tween("text","function"==typeof t?function(t){return function(){var e=t(this);this.textContent=null==e?"":e}}($a(this,"text",t)):function(t){return function(){this.textContent=t}}(null==t?"":t+""))},textTween:function(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(null==t)return this.tween(e,null);if("function"!=typeof t)throw new Error;return this.tween(e,Ks(t))},remove:function(){return this.on("end.remove",function(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}(this._id))},tween:function(t,e){var n=this._id;if(t+="",arguments.length<2){for(var i,r=Ma(this.node(),n).tween,o=0,a=r.length;o<a;++o)if((i=r[o]).name===t)return i.value;return null}return this.each((null==e?Za:Ba)(n,t,e))},delay:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?Bs:$s)(e,t)):Ma(this.node(),e).delay},duration:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?Us:Vs)(e,t)):Ma(this.node(),e).duration},ease:function(t){var e=this._id;return arguments.length?this.each(Gs(e,t)):Ma(this.node(),e).ease},easeVarying:function(t){if("function"!=typeof t)throw new Error;return this.each(function(t,e){return function(){var n=e.apply(this,arguments);if("function"!=typeof n)throw new Error;Ta(this,t).ease=n}}(this._id,t))},end:function(){var t,e,n=this,i=n._id,r=n.size();return new Promise((function(o,a){var s={value:a},l={value:function(){0==--r&&o()}};n.each((function(){var n=Ta(this,i),r=n.on;r!==t&&((e=(t=r).copy())._.cancel.push(s),e._.interrupt.push(s),e._.end.push(l)),n.on=e})),0===r&&o()}))},[Symbol.iterator]:el[Symbol.iterator]};var nl={time:null,delay:0,duration:250,ease:function(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}};function il(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}Jo.prototype.interrupt=function(t){return this.each((function(){!function(t,e){var n,i,r,o=t.__transition,a=!0;if(o){for(r in e=null==e?null:e+"",o)(n=o[r]).name===e?(i=n.state>2&&n.state<5,n.state=6,n.timer.stop(),n.on.call(i?"interrupt":"cancel",t,t.__data__,n.index,n.group),delete o[r]):a=!1;a&&delete t.__transition}}(this,t)}))},Jo.prototype.transition=function(t){var e,n;t instanceof Js?(e=t._id,t=t._name):(e=tl(),(n=nl).time=ma(),t=null==t?null:t+"");for(var i=this._groups,r=i.length,o=0;o<r;++o)for(var a,s=i[o],l=s.length,c=0;c<l;++c)(a=s[c])&&ka(a,t,e,c,s,n||il(a,e));return new Js(i,this._parents,t,e)};const{abs:rl,max:ol,min:al}=Math;function sl(t){return[+t[0],+t[1]]}function ll(t){return[sl(t[0]),sl(t[1])]}["w","e"].map(cl),["n","s"].map(cl),["n","w","e","s","nw","ne","sw","se"].map(cl);function cl(t){return{type:t}}var ul=Math.sqrt(50),dl=Math.sqrt(10),hl=Math.sqrt(2);function pl(t,e,n){var i=(e-t)/Math.max(0,n),r=Math.floor(Math.log(i)/Math.LN10),o=i/Math.pow(10,r);return r>=0?(o>=ul?10:o>=dl?5:o>=hl?2:1)*Math.pow(10,r):-Math.pow(10,-r)/(o>=ul?10:o>=dl?5:o>=hl?2:1)}function fl(t,e,n){var i=Math.abs(e-t)/Math.max(0,n),r=Math.pow(10,Math.floor(Math.log(i)/Math.LN10)),o=i/r;return o>=ul?r*=10:o>=dl?r*=5:o>=hl&&(r*=2),e<t?-r:r}const gl=Nr(_r),vl=gl.right;gl.left,Nr((function(t){return null===t?NaN:+t})).center;var ml=vl;function yl(t,e){var n,i=e?e.length:0,r=t?Math.min(i,t.length):0,o=new Array(r),a=new Array(i);for(n=0;n<r;++n)o[n]=xl(t[n],e[n]);for(;n<i;++n)a[n]=e[n];return function(t){for(n=0;n<r;++n)a[n]=o[n](t);return a}}function Cl(t,e){var n=new Date;return t=+t,e=+e,function(i){return n.setTime(t*(1-i)+e*i),n}}function bl(t,e){var n,i={},r={};for(n in null!==t&&"object"==typeof t||(t={}),null!==e&&"object"==typeof e||(e={}),e)n in t?i[n]=xl(t[n],e[n]):r[n]=e[n];return function(t){for(n in i)r[n]=i[n](t);return r}}function Sl(t,e){e||(e=[]);var n,i=t?Math.min(e.length,t.length):0,r=e.slice();return function(o){for(n=0;n<i;++n)r[n]=t[n]*(1-o)+e[n]*o;return r}}function xl(t,e){var n,i,r=typeof e;return null==e||"boolean"===r?bs(e):("number"===r?Pa:"string"===r?(n=as(e))?(e=n,ws):Ds:e instanceof as?ws:e instanceof Date?Cl:(i=e,!ArrayBuffer.isView(i)||i instanceof DataView?Array.isArray(e)?yl:"function"!=typeof e.valueOf&&"function"!=typeof e.toString||isNaN(e)?bl:Pa:Sl))(t,e)}function El(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function wl(t){return+t}var Al=[0,1];function Il(t){return t}function kl(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:(n=isNaN(e)?NaN:.5,function(){return n});var n}function Dl(t,e,n){var i=t[0],r=t[1],o=e[0],a=e[1];return r<i?(i=kl(r,i),o=n(a,o)):(i=kl(i,r),o=n(o,a)),function(t){return o(i(t))}}function Tl(t,e,n){var i=Math.min(t.length,e.length)-1,r=new Array(i),o=new Array(i),a=-1;for(t[i]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<i;)r[a]=kl(t[a],t[a+1]),o[a]=n(e[a],e[a+1]);return function(e){var n=ml(t,e,1,i)-1;return o[n](r[n](e))}}function Ml(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Pl(){var t,e,n,i,r,o,a=Al,s=Al,l=xl,c=Il;function u(){var t,e,n,l=Math.min(a.length,s.length);return c!==Il&&(t=a[0],e=a[l-1],t>e&&(n=t,t=e,e=n),c=function(n){return Math.max(t,Math.min(e,n))}),i=l>2?Tl:Dl,r=o=null,d}function d(e){return null==e||isNaN(e=+e)?n:(r||(r=i(a.map(t),s,l)))(t(c(e)))}return d.invert=function(n){return c(e((o||(o=i(s,a.map(t),Pa)))(n)))},d.domain=function(t){return arguments.length?(a=Array.from(t,wl),u()):a.slice()},d.range=function(t){return arguments.length?(s=Array.from(t),u()):s.slice()},d.rangeRound=function(t){return s=Array.from(t),l=El,u()},d.clamp=function(t){return arguments.length?(c=!!t||Il,u()):c!==Il},d.interpolate=function(t){return arguments.length?(l=t,u()):l},d.unknown=function(t){return arguments.length?(n=t,d):n},function(n,i){return t=n,e=i,u()}}function Rl(){return Pl()(Il,Il)}function Ol(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t)}return this}var Ll,_l=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Nl(t){if(!(e=_l.exec(t)))throw new Error("invalid format: "+t);var e;return new Hl({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}function Hl(t){this.fill=void 0===t.fill?" ":t.fill+"",this.align=void 0===t.align?">":t.align+"",this.sign=void 0===t.sign?"-":t.sign+"",this.symbol=void 0===t.symbol?"":t.symbol+"",this.zero=!!t.zero,this.width=void 0===t.width?void 0:+t.width,this.comma=!!t.comma,this.precision=void 0===t.precision?void 0:+t.precision,this.trim=!!t.trim,this.type=void 0===t.type?"":t.type+""}function Fl(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,i=t.slice(0,n);return[i.length>1?i[0]+i.slice(2):i,+t.slice(n+1)]}function Zl(t){return(t=Fl(Math.abs(t)))?t[1]:NaN}function Bl(t,e){var n=Fl(t,e);if(!n)return t+"";var i=n[0],r=n[1];return r<0?"0."+new Array(-r).join("0")+i:i.length>r+1?i.slice(0,r+1)+"."+i.slice(r+1):i+new Array(r-i.length+2).join("0")}Nl.prototype=Hl.prototype,Hl.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var $l={"%":(t,e)=>(100*t).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:function(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)},e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>Bl(100*t,e),r:Bl,s:function(t,e){var n=Fl(t,e);if(!n)return t+"";var i=n[0],r=n[1],o=r-(Ll=3*Math.max(-8,Math.min(8,Math.floor(r/3))))+1,a=i.length;return o===a?i:o>a?i+new Array(o-a+1).join("0"):o>0?i.slice(0,o)+"."+i.slice(o):"0."+new Array(1-o).join("0")+Fl(t,Math.max(0,e+o-1))[0]},X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function Ul(t){return t}var Vl,Gl,jl,zl=Array.prototype.map,Wl=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function Yl(t){var e,n,i=void 0===t.grouping||void 0===t.thousands?Ul:(e=zl.call(t.grouping,Number),n=t.thousands+"",function(t,i){for(var r=t.length,o=[],a=0,s=e[0],l=0;r>0&&s>0&&(l+s+1>i&&(s=Math.max(1,i-l)),o.push(t.substring(r-=s,r+s)),!((l+=s+1)>i));)s=e[a=(a+1)%e.length];return o.reverse().join(n)}),r=void 0===t.currency?"":t.currency[0]+"",o=void 0===t.currency?"":t.currency[1]+"",a=void 0===t.decimal?".":t.decimal+"",s=void 0===t.numerals?Ul:function(t){return function(e){return e.replace(/[0-9]/g,(function(e){return t[+e]}))}}(zl.call(t.numerals,String)),l=void 0===t.percent?"%":t.percent+"",c=void 0===t.minus?"−":t.minus+"",u=void 0===t.nan?"NaN":t.nan+"";function d(t){var e=(t=Nl(t)).fill,n=t.align,d=t.sign,h=t.symbol,p=t.zero,f=t.width,g=t.comma,v=t.precision,m=t.trim,y=t.type;"n"===y?(g=!0,y="g"):$l[y]||(void 0===v&&(v=12),m=!0,y="g"),(p||"0"===e&&"="===n)&&(p=!0,e="0",n="=");var C="$"===h?r:"#"===h&&/[boxX]/.test(y)?"0"+y.toLowerCase():"",b="$"===h?o:/[%p]/.test(y)?l:"",S=$l[y],x=/[defgprs%]/.test(y);function E(t){var r,o,l,h=C,E=b;if("c"===y)E=S(t)+E,t="";else{var w=(t=+t)<0||1/t<0;if(t=isNaN(t)?u:S(Math.abs(t),v),m&&(t=function(t){t:for(var e,n=t.length,i=1,r=-1;i<n;++i)switch(t[i]){case".":r=e=i;break;case"0":0===r&&(r=i),e=i;break;default:if(!+t[i])break t;r>0&&(r=0)}return r>0?t.slice(0,r)+t.slice(e+1):t}(t)),w&&0==+t&&"+"!==d&&(w=!1),h=(w?"("===d?d:c:"-"===d||"("===d?"":d)+h,E=("s"===y?Wl[8+Ll/3]:"")+E+(w&&"("===d?")":""),x)for(r=-1,o=t.length;++r<o;)if(48>(l=t.charCodeAt(r))||l>57){E=(46===l?a+t.slice(r+1):t.slice(r))+E,t=t.slice(0,r);break}}g&&!p&&(t=i(t,1/0));var A=h.length+t.length+E.length,I=A<f?new Array(f-A+1).join(e):"";switch(g&&p&&(t=i(I+t,I.length?f-E.length:1/0),I=""),n){case"<":t=h+t+E+I;break;case"=":t=h+I+t+E;break;case"^":t=I.slice(0,A=I.length>>1)+h+t+E+I.slice(A);break;default:t=I+h+t+E}return s(t)}return v=void 0===v?6:/[gprs]/.test(y)?Math.max(1,Math.min(21,v)):Math.max(0,Math.min(20,v)),E.toString=function(){return t+""},E}return{format:d,formatPrefix:function(t,e){var n=d(((t=Nl(t)).type="f",t)),i=3*Math.max(-8,Math.min(8,Math.floor(Zl(e)/3))),r=Math.pow(10,-i),o=Wl[8+i/3];return function(t){return n(r*t)+o}}}}function ql(t,e,n,i){var r,o=fl(t,e,n);switch((i=Nl(null==i?",f":i)).type){case"s":var a=Math.max(Math.abs(t),Math.abs(e));return null!=i.precision||isNaN(r=function(t,e){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(Zl(e)/3)))-Zl(Math.abs(t)))}(o,a))||(i.precision=r),jl(i,a);case"":case"e":case"g":case"p":case"r":null!=i.precision||isNaN(r=function(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Zl(e)-Zl(t))+1}(o,Math.max(Math.abs(t),Math.abs(e))))||(i.precision=r-("e"===i.type));break;case"f":case"%":null!=i.precision||isNaN(r=function(t){return Math.max(0,-Zl(Math.abs(t)))}(o))||(i.precision=r-2*("%"===i.type))}return Gl(i)}function Xl(t){var e=t.domain;return t.ticks=function(t){var n=e();return function(t,e,n){var i,r,o,a,s=-1;if(n=+n,(t=+t)==(e=+e)&&n>0)return[t];if((i=e<t)&&(r=t,t=e,e=r),0===(a=pl(t,e,n))||!isFinite(a))return[];if(a>0){let n=Math.round(t/a),i=Math.round(e/a);for(n*a<t&&++n,i*a>e&&--i,o=new Array(r=i-n+1);++s<r;)o[s]=(n+s)*a}else{a=-a;let n=Math.round(t*a),i=Math.round(e*a);for(n/a<t&&++n,i/a>e&&--i,o=new Array(r=i-n+1);++s<r;)o[s]=(n+s)/a}return i&&o.reverse(),o}(n[0],n[n.length-1],null==t?10:t)},t.tickFormat=function(t,n){var i=e();return ql(i[0],i[i.length-1],null==t?10:t,n)},t.nice=function(n){null==n&&(n=10);var i,r,o=e(),a=0,s=o.length-1,l=o[a],c=o[s],u=10;for(c<l&&(r=l,l=c,c=r,r=a,a=s,s=r);u-- >0;){if((r=pl(l,c,n))===i)return o[a]=l,o[s]=c,e(o);if(r>0)l=Math.floor(l/r)*r,c=Math.ceil(c/r)*r;else{if(!(r<0))break;l=Math.ceil(l*r)/r,c=Math.floor(c*r)/r}i=r}return t},t}function Kl(){var t=Rl();return t.copy=function(){return Ml(t,Kl())},Ol.apply(t,arguments),Xl(t)}Vl=Yl({thousands:",",grouping:[3],currency:["$",""]}),Gl=Vl.format,jl=Vl.formatPrefix;const Ql=1e3,Jl=6e4,tc=36e5,ec=864e5,nc=6048e5,ic=2592e6,rc=31536e6;var oc=new Date,ac=new Date;function sc(t,e,n,i){function r(e){return t(e=0===arguments.length?new Date:new Date(+e)),e}return r.floor=function(e){return t(e=new Date(+e)),e},r.ceil=function(n){return t(n=new Date(n-1)),e(n,1),t(n),n},r.round=function(t){var e=r(t),n=r.ceil(t);return t-e<n-t?e:n},r.offset=function(t,n){return e(t=new Date(+t),null==n?1:Math.floor(n)),t},r.range=function(n,i,o){var a,s=[];if(n=r.ceil(n),o=null==o?1:Math.floor(o),!(n<i&&o>0))return s;do{s.push(a=new Date(+n)),e(n,o),t(n)}while(a<n&&n<i);return s},r.filter=function(n){return sc((function(e){if(e>=e)for(;t(e),!n(e);)e.setTime(e-1)}),(function(t,i){if(t>=t)if(i<0)for(;++i<=0;)for(;e(t,-1),!n(t););else for(;--i>=0;)for(;e(t,1),!n(t););}))},n&&(r.count=function(e,i){return oc.setTime(+e),ac.setTime(+i),t(oc),t(ac),Math.floor(n(oc,ac))},r.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?r.filter(i?function(e){return i(e)%t==0}:function(e){return r.count(0,e)%t==0}):r:null}),r}var lc=sc((function(){}),(function(t,e){t.setTime(+t+e)}),(function(t,e){return e-t}));lc.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?sc((function(e){e.setTime(Math.floor(e/t)*t)}),(function(e,n){e.setTime(+e+n*t)}),(function(e,n){return(n-e)/t})):lc:null};var cc=lc,uc=(lc.range,sc((function(t){t.setTime(t-t.getMilliseconds())}),(function(t,e){t.setTime(+t+e*Ql)}),(function(t,e){return(e-t)/Ql}),(function(t){return t.getUTCSeconds()}))),dc=uc,hc=(uc.range,sc((function(t){t.setTime(t-t.getMilliseconds()-t.getSeconds()*Ql)}),(function(t,e){t.setTime(+t+e*Jl)}),(function(t,e){return(e-t)/Jl}),(function(t){return t.getMinutes()}))),pc=hc,fc=(hc.range,sc((function(t){t.setTime(t-t.getMilliseconds()-t.getSeconds()*Ql-t.getMinutes()*Jl)}),(function(t,e){t.setTime(+t+e*tc)}),(function(t,e){return(e-t)/tc}),(function(t){return t.getHours()}))),gc=fc,vc=(fc.range,sc((t=>t.setHours(0,0,0,0)),((t,e)=>t.setDate(t.getDate()+e)),((t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Jl)/ec),(t=>t.getDate()-1))),mc=vc;vc.range;function yc(t){return sc((function(e){e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)}),(function(t,e){t.setDate(t.getDate()+7*e)}),(function(t,e){return(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Jl)/nc}))}var Cc=yc(0),bc=yc(1),Sc=yc(2),xc=yc(3),Ec=yc(4),wc=yc(5),Ac=yc(6),Ic=(Cc.range,bc.range,Sc.range,xc.range,Ec.range,wc.range,Ac.range,sc((function(t){t.setDate(1),t.setHours(0,0,0,0)}),(function(t,e){t.setMonth(t.getMonth()+e)}),(function(t,e){return e.getMonth()-t.getMonth()+12*(e.getFullYear()-t.getFullYear())}),(function(t){return t.getMonth()}))),kc=Ic,Dc=(Ic.range,sc((function(t){t.setMonth(0,1),t.setHours(0,0,0,0)}),(function(t,e){t.setFullYear(t.getFullYear()+e)}),(function(t,e){return e.getFullYear()-t.getFullYear()}),(function(t){return t.getFullYear()})));Dc.every=function(t){return isFinite(t=Math.floor(t))&&t>0?sc((function(e){e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)}),(function(e,n){e.setFullYear(e.getFullYear()+n*t)})):null};var Tc=Dc,Mc=(Dc.range,sc((function(t){t.setUTCSeconds(0,0)}),(function(t,e){t.setTime(+t+e*Jl)}),(function(t,e){return(e-t)/Jl}),(function(t){return t.getUTCMinutes()}))),Pc=Mc,Rc=(Mc.range,sc((function(t){t.setUTCMinutes(0,0,0)}),(function(t,e){t.setTime(+t+e*tc)}),(function(t,e){return(e-t)/tc}),(function(t){return t.getUTCHours()}))),Oc=Rc,Lc=(Rc.range,sc((function(t){t.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCDate(t.getUTCDate()+e)}),(function(t,e){return(e-t)/ec}),(function(t){return t.getUTCDate()-1}))),_c=Lc;Lc.range;function Nc(t){return sc((function(e){e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCDate(t.getUTCDate()+7*e)}),(function(t,e){return(e-t)/nc}))}var Hc=Nc(0),Fc=Nc(1),Zc=Nc(2),Bc=Nc(3),$c=Nc(4),Uc=Nc(5),Vc=Nc(6),Gc=(Hc.range,Fc.range,Zc.range,Bc.range,$c.range,Uc.range,Vc.range,sc((function(t){t.setUTCDate(1),t.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCMonth(t.getUTCMonth()+e)}),(function(t,e){return e.getUTCMonth()-t.getUTCMonth()+12*(e.getUTCFullYear()-t.getUTCFullYear())}),(function(t){return t.getUTCMonth()}))),jc=Gc,zc=(Gc.range,sc((function(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCFullYear(t.getUTCFullYear()+e)}),(function(t,e){return e.getUTCFullYear()-t.getUTCFullYear()}),(function(t){return t.getUTCFullYear()})));zc.every=function(t){return isFinite(t=Math.floor(t))&&t>0?sc((function(e){e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)}),(function(e,n){e.setUTCFullYear(e.getUTCFullYear()+n*t)})):null};var Wc=zc;zc.range;function Yc(t,e,n,i,r,o){const a=[[dc,1,Ql],[dc,5,5e3],[dc,15,15e3],[dc,30,3e4],[o,1,Jl],[o,5,3e5],[o,15,9e5],[o,30,18e5],[r,1,tc],[r,3,108e5],[r,6,216e5],[r,12,432e5],[i,1,ec],[i,2,1728e5],[n,1,nc],[e,1,ic],[e,3,7776e6],[t,1,rc]];function s(e,n,i){const r=Math.abs(n-e)/i,o=Nr((([,,t])=>t)).right(a,r);if(o===a.length)return t.every(fl(e/rc,n/rc,i));if(0===o)return cc.every(Math.max(fl(e,n,i),1));const[s,l]=a[r/a[o-1][2]<a[o][2]/r?o-1:o];return s.every(l)}return[function(t,e,n){const i=e<t;i&&([t,e]=[e,t]);const r=n&&"function"==typeof n.range?n:s(t,e,n),o=r?r.range(t,+e+1):[];return i?o.reverse():o},s]}const[qc,Xc]=Yc(Wc,jc,Hc,_c,Oc,Pc),[Kc,Qc]=Yc(Tc,kc,Cc,mc,gc,pc);function Jc(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function tu(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function eu(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}var nu,iu,ru={"-":"",_:" ",0:"0"},ou=/^\s*\d+/,au=/^%/,su=/[\\^$*+?|[\]().{}]/g;function lu(t,e,n){var i=t<0?"-":"",r=(i?-t:t)+"",o=r.length;return i+(o<n?new Array(n-o+1).join(e)+r:r)}function cu(t){return t.replace(su,"\\$&")}function uu(t){return new RegExp("^(?:"+t.map(cu).join("|")+")","i")}function du(t){return new Map(t.map(((t,e)=>[t.toLowerCase(),e])))}function hu(t,e,n){var i=ou.exec(e.slice(n,n+1));return i?(t.w=+i[0],n+i[0].length):-1}function pu(t,e,n){var i=ou.exec(e.slice(n,n+1));return i?(t.u=+i[0],n+i[0].length):-1}function fu(t,e,n){var i=ou.exec(e.slice(n,n+2));return i?(t.U=+i[0],n+i[0].length):-1}function gu(t,e,n){var i=ou.exec(e.slice(n,n+2));return i?(t.V=+i[0],n+i[0].length):-1}function vu(t,e,n){var i=ou.exec(e.slice(n,n+2));return i?(t.W=+i[0],n+i[0].length):-1}function mu(t,e,n){var i=ou.exec(e.slice(n,n+4));return i?(t.y=+i[0],n+i[0].length):-1}function yu(t,e,n){var i=ou.exec(e.slice(n,n+2));return i?(t.y=+i[0]+(+i[0]>68?1900:2e3),n+i[0].length):-1}function Cu(t,e,n){var i=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return i?(t.Z=i[1]?0:-(i[2]+(i[3]||"00")),n+i[0].length):-1}function bu(t,e,n){var i=ou.exec(e.slice(n,n+1));return i?(t.q=3*i[0]-3,n+i[0].length):-1}function Su(t,e,n){var i=ou.exec(e.slice(n,n+2));return i?(t.m=i[0]-1,n+i[0].length):-1}function xu(t,e,n){var i=ou.exec(e.slice(n,n+2));return i?(t.d=+i[0],n+i[0].length):-1}function Eu(t,e,n){var i=ou.exec(e.slice(n,n+3));return i?(t.m=0,t.d=+i[0],n+i[0].length):-1}function wu(t,e,n){var i=ou.exec(e.slice(n,n+2));return i?(t.H=+i[0],n+i[0].length):-1}function Au(t,e,n){var i=ou.exec(e.slice(n,n+2));return i?(t.M=+i[0],n+i[0].length):-1}function Iu(t,e,n){var i=ou.exec(e.slice(n,n+2));return i?(t.S=+i[0],n+i[0].length):-1}function ku(t,e,n){var i=ou.exec(e.slice(n,n+3));return i?(t.L=+i[0],n+i[0].length):-1}function Du(t,e,n){var i=ou.exec(e.slice(n,n+6));return i?(t.L=Math.floor(i[0]/1e3),n+i[0].length):-1}function Tu(t,e,n){var i=au.exec(e.slice(n,n+1));return i?n+i[0].length:-1}function Mu(t,e,n){var i=ou.exec(e.slice(n));return i?(t.Q=+i[0],n+i[0].length):-1}function Pu(t,e,n){var i=ou.exec(e.slice(n));return i?(t.s=+i[0],n+i[0].length):-1}function Ru(t,e){return lu(t.getDate(),e,2)}function Ou(t,e){return lu(t.getHours(),e,2)}function Lu(t,e){return lu(t.getHours()%12||12,e,2)}function _u(t,e){return lu(1+mc.count(Tc(t),t),e,3)}function Nu(t,e){return lu(t.getMilliseconds(),e,3)}function Hu(t,e){return Nu(t,e)+"000"}function Fu(t,e){return lu(t.getMonth()+1,e,2)}function Zu(t,e){return lu(t.getMinutes(),e,2)}function Bu(t,e){return lu(t.getSeconds(),e,2)}function $u(t){var e=t.getDay();return 0===e?7:e}function Uu(t,e){return lu(Cc.count(Tc(t)-1,t),e,2)}function Vu(t){var e=t.getDay();return e>=4||0===e?Ec(t):Ec.ceil(t)}function Gu(t,e){return t=Vu(t),lu(Ec.count(Tc(t),t)+(4===Tc(t).getDay()),e,2)}function ju(t){return t.getDay()}function zu(t,e){return lu(bc.count(Tc(t)-1,t),e,2)}function Wu(t,e){return lu(t.getFullYear()%100,e,2)}function Yu(t,e){return lu((t=Vu(t)).getFullYear()%100,e,2)}function qu(t,e){return lu(t.getFullYear()%1e4,e,4)}function Xu(t,e){var n=t.getDay();return lu((t=n>=4||0===n?Ec(t):Ec.ceil(t)).getFullYear()%1e4,e,4)}function Ku(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+lu(e/60|0,"0",2)+lu(e%60,"0",2)}function Qu(t,e){return lu(t.getUTCDate(),e,2)}function Ju(t,e){return lu(t.getUTCHours(),e,2)}function td(t,e){return lu(t.getUTCHours()%12||12,e,2)}function ed(t,e){return lu(1+_c.count(Wc(t),t),e,3)}function nd(t,e){return lu(t.getUTCMilliseconds(),e,3)}function id(t,e){return nd(t,e)+"000"}function rd(t,e){return lu(t.getUTCMonth()+1,e,2)}function od(t,e){return lu(t.getUTCMinutes(),e,2)}function ad(t,e){return lu(t.getUTCSeconds(),e,2)}function sd(t){var e=t.getUTCDay();return 0===e?7:e}function ld(t,e){return lu(Hc.count(Wc(t)-1,t),e,2)}function cd(t){var e=t.getUTCDay();return e>=4||0===e?$c(t):$c.ceil(t)}function ud(t,e){return t=cd(t),lu($c.count(Wc(t),t)+(4===Wc(t).getUTCDay()),e,2)}function dd(t){return t.getUTCDay()}function hd(t,e){return lu(Fc.count(Wc(t)-1,t),e,2)}function pd(t,e){return lu(t.getUTCFullYear()%100,e,2)}function fd(t,e){return lu((t=cd(t)).getUTCFullYear()%100,e,2)}function gd(t,e){return lu(t.getUTCFullYear()%1e4,e,4)}function vd(t,e){var n=t.getUTCDay();return lu((t=n>=4||0===n?$c(t):$c.ceil(t)).getUTCFullYear()%1e4,e,4)}function md(){return"+0000"}function yd(){return"%"}function Cd(t){return+t}function bd(t){return Math.floor(+t/1e3)}function Sd(t){return new Date(t)}function xd(t){return t instanceof Date?+t:+new Date(+t)}function Ed(t,e,n,i,r,o,a,s,l,c){var u=Rl(),d=u.invert,h=u.domain,p=c(".%L"),f=c(":%S"),g=c("%I:%M"),v=c("%I %p"),m=c("%a %d"),y=c("%b %d"),C=c("%B"),b=c("%Y");function S(t){return(l(t)<t?p:s(t)<t?f:a(t)<t?g:o(t)<t?v:i(t)<t?r(t)<t?m:y:n(t)<t?C:b)(t)}return u.invert=function(t){return new Date(d(t))},u.domain=function(t){return arguments.length?h(Array.from(t,xd)):h().map(Sd)},u.ticks=function(e){var n=h();return t(n[0],n[n.length-1],null==e?10:e)},u.tickFormat=function(t,e){return null==e?S:c(e)},u.nice=function(t){var n=h();return t&&"function"==typeof t.range||(t=e(n[0],n[n.length-1],null==t?10:t)),t?h(function(t,e){var n,i=0,r=(t=t.slice()).length-1,o=t[i],a=t[r];return a<o&&(n=i,i=r,r=n,n=o,o=a,a=n),t[i]=e.floor(o),t[r]=e.ceil(a),t}(n,t)):u},u.copy=function(){return Ml(u,Ed(t,e,n,i,r,o,a,s,l,c))},u}!function(t){nu=function(t){var e=t.dateTime,n=t.date,i=t.time,r=t.periods,o=t.days,a=t.shortDays,s=t.months,l=t.shortMonths,c=uu(r),u=du(r),d=uu(o),h=du(o),p=uu(a),f=du(a),g=uu(s),v=du(s),m=uu(l),y=du(l),C={a:function(t){return a[t.getDay()]},A:function(t){return o[t.getDay()]},b:function(t){return l[t.getMonth()]},B:function(t){return s[t.getMonth()]},c:null,d:Ru,e:Ru,f:Hu,g:Yu,G:Xu,H:Ou,I:Lu,j:_u,L:Nu,m:Fu,M:Zu,p:function(t){return r[+(t.getHours()>=12)]},q:function(t){return 1+~~(t.getMonth()/3)},Q:Cd,s:bd,S:Bu,u:$u,U:Uu,V:Gu,w:ju,W:zu,x:null,X:null,y:Wu,Y:qu,Z:Ku,"%":yd},b={a:function(t){return a[t.getUTCDay()]},A:function(t){return o[t.getUTCDay()]},b:function(t){return l[t.getUTCMonth()]},B:function(t){return s[t.getUTCMonth()]},c:null,d:Qu,e:Qu,f:id,g:fd,G:vd,H:Ju,I:td,j:ed,L:nd,m:rd,M:od,p:function(t){return r[+(t.getUTCHours()>=12)]},q:function(t){return 1+~~(t.getUTCMonth()/3)},Q:Cd,s:bd,S:ad,u:sd,U:ld,V:ud,w:dd,W:hd,x:null,X:null,y:pd,Y:gd,Z:md,"%":yd},S={a:function(t,e,n){var i=p.exec(e.slice(n));return i?(t.w=f.get(i[0].toLowerCase()),n+i[0].length):-1},A:function(t,e,n){var i=d.exec(e.slice(n));return i?(t.w=h.get(i[0].toLowerCase()),n+i[0].length):-1},b:function(t,e,n){var i=m.exec(e.slice(n));return i?(t.m=y.get(i[0].toLowerCase()),n+i[0].length):-1},B:function(t,e,n){var i=g.exec(e.slice(n));return i?(t.m=v.get(i[0].toLowerCase()),n+i[0].length):-1},c:function(t,n,i){return w(t,e,n,i)},d:xu,e:xu,f:Du,g:yu,G:mu,H:wu,I:wu,j:Eu,L:ku,m:Su,M:Au,p:function(t,e,n){var i=c.exec(e.slice(n));return i?(t.p=u.get(i[0].toLowerCase()),n+i[0].length):-1},q:bu,Q:Mu,s:Pu,S:Iu,u:pu,U:fu,V:gu,w:hu,W:vu,x:function(t,e,i){return w(t,n,e,i)},X:function(t,e,n){return w(t,i,e,n)},y:yu,Y:mu,Z:Cu,"%":Tu};function x(t,e){return function(n){var i,r,o,a=[],s=-1,l=0,c=t.length;for(n instanceof Date||(n=new Date(+n));++s<c;)37===t.charCodeAt(s)&&(a.push(t.slice(l,s)),null!=(r=ru[i=t.charAt(++s)])?i=t.charAt(++s):r="e"===i?" ":"0",(o=e[i])&&(i=o(n,r)),a.push(i),l=s+1);return a.push(t.slice(l,s)),a.join("")}}function E(t,e){return function(n){var i,r,o=eu(1900,void 0,1);if(w(o,t,n+="",0)!=n.length)return null;if("Q"in o)return new Date(o.Q);if("s"in o)return new Date(1e3*o.s+("L"in o?o.L:0));if(e&&!("Z"in o)&&(o.Z=0),"p"in o&&(o.H=o.H%12+12*o.p),void 0===o.m&&(o.m="q"in o?o.q:0),"V"in o){if(o.V<1||o.V>53)return null;"w"in o||(o.w=1),"Z"in o?(r=(i=tu(eu(o.y,0,1))).getUTCDay(),i=r>4||0===r?Fc.ceil(i):Fc(i),i=_c.offset(i,7*(o.V-1)),o.y=i.getUTCFullYear(),o.m=i.getUTCMonth(),o.d=i.getUTCDate()+(o.w+6)%7):(r=(i=Jc(eu(o.y,0,1))).getDay(),i=r>4||0===r?bc.ceil(i):bc(i),i=mc.offset(i,7*(o.V-1)),o.y=i.getFullYear(),o.m=i.getMonth(),o.d=i.getDate()+(o.w+6)%7)}else("W"in o||"U"in o)&&("w"in o||(o.w="u"in o?o.u%7:"W"in o?1:0),r="Z"in o?tu(eu(o.y,0,1)).getUTCDay():Jc(eu(o.y,0,1)).getDay(),o.m=0,o.d="W"in o?(o.w+6)%7+7*o.W-(r+5)%7:o.w+7*o.U-(r+6)%7);return"Z"in o?(o.H+=o.Z/100|0,o.M+=o.Z%100,tu(o)):Jc(o)}}function w(t,e,n,i){for(var r,o,a=0,s=e.length,l=n.length;a<s;){if(i>=l)return-1;if(37===(r=e.charCodeAt(a++))){if(r=e.charAt(a++),!(o=S[r in ru?e.charAt(a++):r])||(i=o(t,n,i))<0)return-1}else if(r!=n.charCodeAt(i++))return-1}return i}return C.x=x(n,C),C.X=x(i,C),C.c=x(e,C),b.x=x(n,b),b.X=x(i,b),b.c=x(e,b),{format:function(t){var e=x(t+="",C);return e.toString=function(){return t},e},parse:function(t){var e=E(t+="",!1);return e.toString=function(){return t},e},utcFormat:function(t){var e=x(t+="",b);return e.toString=function(){return t},e},utcParse:function(t){var e=E(t+="",!0);return e.toString=function(){return t},e}}}(t),iu=nu.format,nu.parse,nu.utcFormat,nu.utcParse}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});const wd=Math.PI,Ad=2*wd,Id=1e-6,kd=Ad-Id;function Dd(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function Td(){return new Dd}Dd.prototype=Td.prototype={constructor:Dd,moveTo:function(t,e){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,e){this._+="L"+(this._x1=+t)+","+(this._y1=+e)},quadraticCurveTo:function(t,e,n,i){this._+="Q"+ +t+","+ +e+","+(this._x1=+n)+","+(this._y1=+i)},bezierCurveTo:function(t,e,n,i,r,o){this._+="C"+ +t+","+ +e+","+ +n+","+ +i+","+(this._x1=+r)+","+(this._y1=+o)},arcTo:function(t,e,n,i,r){t=+t,e=+e,n=+n,i=+i,r=+r;var o=this._x1,a=this._y1,s=n-t,l=i-e,c=o-t,u=a-e,d=c*c+u*u;if(r<0)throw new Error("negative radius: "+r);if(null===this._x1)this._+="M"+(this._x1=t)+","+(this._y1=e);else if(d>Id)if(Math.abs(u*s-l*c)>Id&&r){var h=n-o,p=i-a,f=s*s+l*l,g=h*h+p*p,v=Math.sqrt(f),m=Math.sqrt(d),y=r*Math.tan((wd-Math.acos((f+d-g)/(2*v*m)))/2),C=y/m,b=y/v;Math.abs(C-1)>Id&&(this._+="L"+(t+C*c)+","+(e+C*u)),this._+="A"+r+","+r+",0,0,"+ +(u*h>c*p)+","+(this._x1=t+b*s)+","+(this._y1=e+b*l)}else this._+="L"+(this._x1=t)+","+(this._y1=e);else;},arc:function(t,e,n,i,r,o){t=+t,e=+e,o=!!o;var a=(n=+n)*Math.cos(i),s=n*Math.sin(i),l=t+a,c=e+s,u=1^o,d=o?i-r:r-i;if(n<0)throw new Error("negative radius: "+n);null===this._x1?this._+="M"+l+","+c:(Math.abs(this._x1-l)>Id||Math.abs(this._y1-c)>Id)&&(this._+="L"+l+","+c),n&&(d<0&&(d=d%Ad+Ad),d>kd?this._+="A"+n+","+n+",0,1,"+u+","+(t-a)+","+(e-s)+"A"+n+","+n+",0,1,"+u+","+(this._x1=l)+","+(this._y1=c):d>Id&&(this._+="A"+n+","+n+",0,"+ +(d>=wd)+","+u+","+(this._x1=t+n*Math.cos(r))+","+(this._y1=e+n*Math.sin(r))))},rect:function(t,e,n,i){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)+"h"+ +n+"v"+ +i+"h"+-n+"Z"},toString:function(){return this._}};var Md=Td;Array.prototype.slice;function Pd(t){return function(){return t}}function Rd(t){this._context=t}function Od(t){return new Rd(t)}function Ld(t){return t[0]}function _d(t){return t[1]}function Nd(t,e){var n=Pd(!0),i=null,r=Od,o=null;function a(a){var s,l,c,u=(a=function(t){return"object"==typeof t&&"length"in t?t:Array.from(t)}(a)).length,d=!1;for(null==i&&(o=r(c=Md())),s=0;s<=u;++s)!(s<u&&n(l=a[s],s,a))===d&&((d=!d)?o.lineStart():o.lineEnd()),d&&o.point(+t(l,s,a),+e(l,s,a));if(c)return o=null,c+""||null}return t="function"==typeof t?t:void 0===t?Ld:Pd(t),e="function"==typeof e?e:void 0===e?_d:Pd(e),a.x=function(e){return arguments.length?(t="function"==typeof e?e:Pd(+e),a):t},a.y=function(t){return arguments.length?(e="function"==typeof t?t:Pd(+t),a):e},a.defined=function(t){return arguments.length?(n="function"==typeof t?t:Pd(!!t),a):n},a.curve=function(t){return arguments.length?(r=t,null!=i&&(o=r(i)),a):r},a.context=function(t){return arguments.length?(null==t?i=o=null:o=r(i=t),a):i},a}function Hd(t){return t<0?-1:1}function Fd(t,e,n){var i=t._x1-t._x0,r=e-t._x1,o=(t._y1-t._y0)/(i||r<0&&-0),a=(n-t._y1)/(r||i<0&&-0),s=(o*r+a*i)/(i+r);return(Hd(o)+Hd(a))*Math.min(Math.abs(o),Math.abs(a),.5*Math.abs(s))||0}function Zd(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function Bd(t,e,n){var i=t._x0,r=t._y0,o=t._x1,a=t._y1,s=(o-i)/3;t._context.bezierCurveTo(i+s,r+s*e,o-s,a-s*n,o,a)}function $d(t){this._context=t}function Ud(t){this._context=new Vd(t)}function Vd(t){this._context=t}function Gd(t){return new $d(t)}function jd(t,e,n){this.k=t,this.x=e,this.y=n}Rd.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e)}}},$d.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Bd(this,this._t0,Zd(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(e=+e,(t=+t)!==this._x1||e!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,Bd(this,Zd(this,n=Fd(this,t,e)),n);break;default:Bd(this,this._t0,n=Fd(this,t,e))}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}},(Ud.prototype=Object.create($d.prototype)).point=function(t,e){$d.prototype.point.call(this,e,t)},Vd.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,i,r,o){this._context.bezierCurveTo(e,t,i,n,o,r)}},jd.prototype={constructor:jd,scale:function(t){return 1===t?this:new jd(this.k*t,this.x,this.y)},translate:function(t,e){return 0===t&0===e?this:new jd(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};new jd(1,0,0);jd.prototype;var zd,Wd,Yd=function(){function t(){(0,ye.Z)(this,t)}return(0,Ce.Z)(t,[{key:"getStyles",value:function(){return"#divPriceHistory .x.axis line {\n            stroke: none;\n        }\n        #divPriceHistory .x.axis path {\n            stroke: #EDEBE9;\n        }\n        #divPriceHistory .x.axis text {\n            fill: #767676;\n            font-size: 13px;\n            font-weight: 700;\n            margin-top: 5px;\n        }\n        #divPriceHistory text.x.axis {\n            fill: #767676;\n            font-size: 13px;\n            font-weight: 700;\n            margin-top: 5px;\n        }\n        #divPriceHistory tspan.currPriceDrop {\n            font-size: 1.3em;\n            line-height: 16px;\n            fill: #22865E;\n            font-weight: 700;\n        }\n        #divPriceHistory tspan.currPriceIncrease {\n            font-size: 1.3em;\n            line-height: 16px;\n            fill: #D54034;\n            font-weight: 700;\n        }\n        #divPriceHistory tspan.currFairPrice {\n            font-size: 1.3em;\n            line-height: 16px;\n            fill: #3470EB;\n            font-weight: 700;\n        }\n        #divPriceHistory tspan.price {\n            font-size: 1.2em;\n            line-height: 16px;\n            fill: #797775;\n            font-weight: 700;\n        }\n        #divPriceHistory tspan.label {\n            font-size: 1.1em;\n            line-height: 16px;\n            fill: #727575;\n            font-weight: 700;\n        }\n        #divPriceHistory tspan.desc {\n            font-size: 1.1em;\n            line-height: 16px;\n            fill: #727575;\n        }\n        #divPriceHistory tspan.median {\n            fill: #94b6c7;\n        }\n        @media (prefers-color-scheme: dark) {\n            #divPriceHistory tspan.currPriceDrop {\n                fill: #4BDBA2;\n            }\n            #divPriceHistory tspan.currPriceIncrease {\n                fill: #FFCBC7;\n            }\n            #divPriceHistory tspan.currFairPrice {\n                fill: #86E5F3;\n            }\n            #divPriceHistory tspan.price {\n                fill: #FFFFFF;\n            }\n            #divPriceHistory tspan.label {\n                fill: #FFFFFF;\n            }\n            #divPriceHistory tspan.desc {\n                fill: #FFFFFF;\n            }\n            #divPriceHistory tspan.median {\n                fill: #BFD4DE;\n            }\n        }\n        @media (forced-colors: active) {\n            #divPriceHistory .ph_head {\n                color: windowText;\n            }\n            #divPriceHistory tspan.currPriceDrop {\n                fill: windowText;\n            }\n            #divPriceHistory tspan.currPriceIncrease {\n                fill: windowText;\n            }\n            #divPriceHistory tspan.currFairPrice {\n                fill: windowText;\n            }\n            #divPriceHistory tspan.price {\n                fill: windowText;\n            }\n            #divPriceHistory tspan.label {\n                fill: windowText;\n            }\n            #divPriceHistory tspan.desc {\n                fill: windowText;\n            }\n            #divPriceHistory tspan.median {\n                fill: windowText;\n            }\n        }"}},{key:"getPriceHistoryDecreaseTrendIconDark",value:function(){return'<svg aria-hidden="true" width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">\n            <g opacity="0.9">\n            <title>Price drop trend icon</title>\n            <rect width="16" height="16" rx="8" fill="#4BDBA2"/>\n            <path d="M12.3899 10.3425L10.4665 11.0123L8.543 11.6822L11.2493 12.8926L12.3899 10.3425Z" fill="white"/>\n            <path d="M4.05859 3.55566L5.81993 7.78637L8.70512 6.78162L10.4665 11.0123M10.4665 11.0123L12.3899 10.3425L11.2493 12.8926L8.543 11.6822L10.4665 11.0123Z" stroke="#4a4a4a" stroke-width="1.48233" stroke-linecap="round" stroke-linejoin="round"/>\n            </g>\n            </svg>'}},{key:"getPriceHistoryDecreaseTrendIconLight",value:function(){return'<svg aria-hidden="true" width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">\n            <g opacity="0.9">\n            <title>Price drop trend icon</title>\n            <rect width="16" height="16" rx="8" fill="#107C10"/>\n            <path d="M12.3899 10.3425L10.4665 11.0123L8.543 11.6822L11.2493 12.8926L12.3899 10.3425Z" fill="white"/>\n            <path d="M4.05859 3.55566L5.81993 7.78637L8.70512 6.78162L10.4665 11.0123M10.4665 11.0123L12.3899 10.3425L11.2493 12.8926L8.543 11.6822L10.4665 11.0123Z" stroke="white" stroke-width="1.48233" stroke-linecap="round" stroke-linejoin="round"/>\n            </g>\n            </svg>'}},{key:"getPriceHistoryIncreaseTrendIconDark",value:function(){return'<svg aria-hidden="true" width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">\n            <g opacity="0.9">\n            <title>Price increase trend icon</title>\n            <rect width="16" height="16" rx="8" fill="#FFA39C"/>\n            <path d="M12.6284 6.74942L10.8101 5.83171L8.99181 4.914L11.8341 4.07109L12.6284 6.74942Z" fill="white"/>\n            <path d="M3.47461 12.3779L5.77864 8.41654L8.50607 9.7931L10.8101 5.83171M10.8101 5.83171L12.6284 6.74942L11.8341 4.07109L8.99181 4.914L10.8101 5.83171Z" stroke="#4a4a4a" stroke-width="1.48233" stroke-linecap="round" stroke-linejoin="round"/>\n            </g>\n            </svg>'}},{key:"getPriceHistoryIncreaseTrendIconLight",value:function(){return'<svg aria-hidden="true" width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">\n            <g opacity="0.9">\n            <title>Price increase trend icon</title>\n            <rect width="16" height="16" rx="8" fill="#D83B01"/>\n            <path d="M12.6284 6.74942L10.8101 5.83171L8.99181 4.914L11.8341 4.07109L12.6284 6.74942Z" fill="white"/>\n            <path d="M3.47461 12.3779L5.77864 8.41654L8.50607 9.7931L10.8101 5.83171M10.8101 5.83171L12.6284 6.74942L11.8341 4.07109L8.99181 4.914L10.8101 5.83171Z" stroke="white" stroke-width="1.48233" stroke-linecap="round" stroke-linejoin="round"/>\n            </g>\n            </svg>'}},{key:"getPriceHistoryStableTrendIconDark",value:function(){return'<svg aria-hidden="true" width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">\n            <g opacity="0.9">\n            <title>Stable price trend icon</title>\n            <rect width="16" height="16" rx="8" fill="#FAA14E"/>\n            <path d="M10.6412 5.96427L10.6412 8L10.6412 10.0571L12.6769 8L10.6412 5.96427Z" fill="white"/>\n            <path d="M3 8L10.6412 8M10.6412 8L10.6412 5.96427L12.6769 8L10.6412 10.0571L10.6412 8Z" stroke="#4a4a4a" stroke-width="1.48233" stroke-linecap="round" stroke-linejoin="round"/>\n            </g>\n            </svg>'}},{key:"getPriceHistoryStableTrendIconLight",value:function(){return'<svg aria-hidden="true" width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">\n            <g opacity="0.9">\n            <title>Stable price trend icon</title>\n            <rect width="16" height="16" rx="8" fill="#FAA14E"/>\n            <path d="M10.6412 5.96427L10.6412 8L10.6412 10.0571L12.6769 8L10.6412 5.96427Z" fill="white"/>\n            <path d="M3 8L10.6412 8M10.6412 8L10.6412 5.96427L12.6769 8L10.6412 10.0571L10.6412 8Z" stroke="white" stroke-width="1.48233" stroke-linecap="round" stroke-linejoin="round"/>\n            </g>\n            </svg>'}},{key:"getPriceHistoryInlineRating",value:function(){return"\n            .ph_info > div { margin-bottom: 8px !important;}\n            .ph_info > div > div { margin-bottom: 0 !important; }\n            .ph_title {\n                font-size: 16px;\n                font-weight: 600;\n                line-height: normal;\n                margin-top: 4px;\n                overflow: hidden;\n                text-overflow: ellipsis;\n                display: -webkit-box;\n                -webkit-line-clamp: 2;\n                -webkit-box-orient: vertical;\n            }\n            .ph_ill:first-child div { font-size:  16px !important; }"}},{key:"getPriceHistoryInfoIcon",value:function(){return'<svg xmlns="http://www.w3.org/2000/svg" height="16" width="16">\n            <g>\n            <circle stroke="#ABABAB" fill="none" cx="8" cy="8" r="7">\n            </circle>\n            <text x="50%" y="50%" text-anchor="middle" style="fill: #ABABAB; font: italic bold 13px serif" dy="4px">i</text>\n            </g>\n            </svg>'}}]),t}();function qd(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return Xd(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Xd(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function Xd(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function Kd(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=(0,De.Z)(t);if(e){var r=(0,De.Z)(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return(0,ke.Z)(this,n)}}!function(t){t.COUPONS_COPIED="COUPONS_COPIED",t.NAVIGATE_TO_RETAILER="NAVIGATE_TO_RETAILER",t.TRY_ALL_COUPONS="TRY_ALL_COUPONS",t.SHOW_MORE_SELLERS="SHOW_MORE_SELLERS",t.REBATES_LEARN_MORE="REBATES_LEARN_MORE",t.REBATES_ACCOUNT="REBATES_ACCOUNT",t.REBATES_HISTORY="REBATES_HISTORY",t.ACTIVATE_CASHBACK="ACTIVATE_CASHBACK",t.EXPAND_GRAPH="EXPAND_GRAPH",t.VIEW_PRICE_HISTORY="VIEW_PRICE_HISTORY",t.COUPONS_COPIED_AUTOFILL="COUPONS_COPIED_AUTOFILL",t.TRY_ALL_COUPONS_AUTOFILL="TRY_ALL_COUPONS_AUTOFILL",t.NAVIGATE_TO_DEAL_OFFER="NAVIGATE_TO_DEAL_OFFER",t.NAVIGATE_TO_PROFESSIONAL_REVIEW="NAVIGATE_TO_PROFESSIONAL_REVIEW",t.NAVIGATE_TO_VIDEO_REVIEW="NAVIGATE_TO_VIDEO_REVIEW",t.EXPRESS_CHECKOUT="EXPRESS_CHECKOUT",t.OPEN_FLYOUT="OPEN_FLYOUT",t.NAVIGATE_TO_RECOMMENDED_OFFER="NAVIGATE_TO_RECOMMENDED_OFFER",t.CLIP_COUPON="CLIP_COUPON",t.ACTIVATE_CASHBACK_NEW="ACTIVATE_CASHBACK_NEW",t.PRODUCT_HISTORY_NAVIGATION="PRODUCT_HISTORY_NAVIGATION"}(zd||(zd={})),function(t){t[t.COUPONS_COPIED=0]="COUPONS_COPIED",t[t.NAVIGATE_TO_RETAILER=1]="NAVIGATE_TO_RETAILER",t[t.TRY_ALL_COUPONS=2]="TRY_ALL_COUPONS",t[t.SHOW_MORE_SELLERS=3]="SHOW_MORE_SELLERS",t[t.REBATES_LEARN_MORE=4]="REBATES_LEARN_MORE",t[t.REBATES_ACCOUNT=5]="REBATES_ACCOUNT",t[t.REBATES_HISTORY=6]="REBATES_HISTORY",t[t.ACTIVATE_CASHBACK=7]="ACTIVATE_CASHBACK",t[t.EXPAND_GRAPH=8]="EXPAND_GRAPH",t[t.VIEW_PRICE_HISTORY=9]="VIEW_PRICE_HISTORY",t[t.COUPONS_COPIED_AUTOFILL=10]="COUPONS_COPIED_AUTOFILL",t[t.TRY_ALL_COUPONS_AUTOFILL=11]="TRY_ALL_COUPONS_AUTOFILL",t[t.NAVIGATE_TO_DEAL_OFFER=12]="NAVIGATE_TO_DEAL_OFFER",t[t.NAVIGATE_TO_PROFESSIONAL_REVIEW=13]="NAVIGATE_TO_PROFESSIONAL_REVIEW",t[t.NAVIGATE_TO_VIDEO_REVIEW=14]="NAVIGATE_TO_VIDEO_REVIEW",t[t.EXPRESS_CHECKOUT=15]="EXPRESS_CHECKOUT",t[t.OPEN_FLYOUT=16]="OPEN_FLYOUT",t[t.NAVIGATE_TO_RECOMMENDATION_OFFER=17]="NAVIGATE_TO_RECOMMENDATION_OFFER",t[t.CLIP_COUPON=18]="CLIP_COUPON",t[t.ACTIVATE_CASHBACK_NEW=19]="ACTIVATE_CASHBACK_NEW",t[t.PRODUCT_HISTORY_NAVIGATION=20]="PRODUCT_HISTORY_NAVIGATION"}(Wd||(Wd={}));var Qd="#4CA078",Jd="#23845D",th="#D54034",eh="#D54034",nh="#347ABB",ih="#347ABB",rh="#4BDBA2",oh="#4BDBA2",ah="#FFA39C",sh="#FFA39C",lh="#34D3EB",ch="#34D3EB",uh=function(t){(0,Ie.Z)(n,t);var e=Kd(n);function n(t,i,r){var o;return(0,ye.Z)(this,n),o=e.call(this),(0,Se.Z)((0,Ae.Z)(o),"logModule",void 0),(0,Se.Z)((0,Ae.Z)(o),"pageHandlerModule",void 0),(0,Se.Z)((0,Ae.Z)(o),"todayString",void 0),(0,Se.Z)((0,Ae.Z)(o),"lowString",void 0),(0,Se.Z)((0,Ae.Z)(o),"highString",void 0),(0,Se.Z)((0,Ae.Z)(o),"medianString",void 0),(0,Se.Z)((0,Ae.Z)(o),"stateManagement",void 0),(0,Se.Z)((0,Ae.Z)(o),"flyoutData",void 0),(0,Se.Z)((0,Ae.Z)(o),"utilities",void 0),(0,Se.Z)((0,Ae.Z)(o),"assets",void 0),(0,Se.Z)((0,Ae.Z)(o),"wasPriceHistorySectionExpanded",void 0),o.logModule=r.logModule,o.stateManagement=t,o.pageHandlerModule=r.pageHandlerModule,o.flyoutData=i,o.todayString=o.flyoutData.strings.phToday,o.lowString=o.flyoutData.strings.phLow,o.highString=o.flyoutData.strings.phHigh,o.medianString=o.flyoutData.strings.phMedian,o.utilities=r.viewModulesUtilities,o.wasPriceHistorySectionExpanded=!1,o.assets=new Yd,o}return(0,Ce.Z)(n,[{key:"GetModuleName",value:function(){return xe.GX.PRICEHISTORY}},{key:"ShouldRenderModule",value:function(){var t,e,n,i=this.flyoutData.dataStoreModule.PriceHistoryData,r=null!==(t=null===(e=this.flyoutData.dataStoreModule.CouponData)||void 0===e?void 0:e.isCheckoutPageWithAutoApply)&&void 0!==t&&t,o=null!==(n=i&&(!r||"amazon.com"===this.flyoutData.common.domain))&&void 0!==n&&n;return Promise.resolve(o)}},{key:"renderModule",value:function(){this.utilities.applyStyles(this.flyoutData.common.shopping,this.assets.getStyles());var t=this.flyoutData.dataStoreModule.PriceHistoryData;if(t){var e=document.createElement("msft-edge-shopping-section");if(e.id="divPriceHistory",e.accordion=!0,e.expanded=!1,e.title="Price history",this.populatePriceList(t,e),this.flyoutData.common.openedWith&&this.flyoutData.common.openedWith===xe.Te.Auto){var n=new ge.Z(ve.xu.AutoTrigger);this.logModule.LogInfoEvent(ve.R.EdgeFlyoutStatus,"Price history - auto trigger",n)}else{var i=new ge.Z(ve.xu.UserTrigger);this.logModule.LogInfoEvent(ve.R.EdgeFlyoutStatus,"Price history - manual trigger",i)}var r=this.logModule,o=this.pageHandlerModule,a=this.wasPriceHistorySectionExpanded;e.addEventListener("click",(function t(){if(a&&(o.RecordAsUserAction(ni.b.HIDE_PRICE_HISTORY),e&&e.removeEventListener("click",t)),a=!0,e){var n=e.shadowRoot;if(n){var i=n.querySelector("fluent-accordion-item");if(i&&!i.classList.contains("expanded")){var s=new ge.Z(ve.xu.PriceHistoryModuleExpanded);o.RecordAsUserAction(ni.b.VIEW_PRICE_HISTORY),r.LogInfoEvent(ve.R.EdgeFlyoutStatus,"",s),o.RecordAsContentViewed(dr.r.PRICE_HISTORY_DROP)}}}}));var s=this.CreateModule(e,xe.H7.PRICEHISTORY,xe.GX.PRICEHISTORY);return Promise.resolve(s)}return Promise.resolve(null)}},{key:"populateMainHeader",value:function(){var t,e=this,n=this.flyoutData.common.shopping.querySelector("#divPriceHistory");if(n&&(n.style.marginTop="0px",n.style.textAlign="start",n.style.marginLeft="auto",n.style.width="100%",n.slot="header-content",null!==(t=this.flyoutData.dataStoreModule.RatingsAndReviewsData)&&void 0!==t&&t.canCreateInlineRating)){var i=n.querySelector(".ph_info"),r=new CustomEvent(Qn.e1.CreateInlineRating,{detail:{callback:function(t){if(i&&t){var r;e.utilities.applyStyles(n,e.assets.getPriceHistoryInlineRating());var o=e.flyoutData.dataStoreModule.PriceHistoryData,a=i.querySelector(".ph_head"),s=i.querySelector(".ph_ill"),l=null==o||null===(r=o.ProductDetails)||void 0===r?void 0:r.title;if(a&&s&&l){a.remove();var c=e.utilities.createElement("div",{class:"ph_title"},l);s.insertAdjacentElement("afterend",t),s.insertAdjacentElement("afterend",c)}else i.appendChild(t)}},moduleName:xe.GX.PRICEHISTORY}});this.stateManagement.dispatchEvent(r)}}},{key:"PostProcessing",value:function(t,e,n){var i=0===e,r=!1,o=this.flyoutData.dataStoreModule.PriceHistoryData,a=!1;try{a="4"===new URL(this.flyoutData.common.lastCommittedURL).searchParams.get("auto_show_edge_shopping_flyout")}catch(t){var s=new ge.Z(ve.xu.OnErrorInvoked);this.logModule.LogErrorEvent(ve.R.EdgeFlyoutStatus,"Invalid lastCommittedURL",s)}if(this.flyoutData.common.openedWith&&this.flyoutData.common.openedWith===xe.Te.Auto&&!a&&o&&o.TriggerPriceHistoryAlert){if(!i){var l=new ge.Z(ve.xu.FlyoutDismissedPriceHistoryTrigger);return this.logModule.LogInfoEvent(ve.R.EdgeFlyoutStatus,"Price history - flyout dismissed since price history in non-pole position",l),r=!0,void this.pageHandlerModule.DismissPopup()}var c=o.getDaysDifference(new Date(window.localStorage.priceHistoryLastAutoOpenDate),new Date);if(!window||window.localStorage.priceHistoryLastAutoOpenDate&&!(c>=1)){var u=new ge.Z(ve.xu.FlyoutDismissedPriceHistoryTrigger);return this.logModule.LogInfoEvent(ve.R.EdgeFlyoutStatus,"Price history - flyout dismissed since price history had already triggered within 1 day",u),r=!0,void this.pageHandlerModule.DismissPopup()}window.localStorage.priceHistoryLastAutoOpenDate=new Date;var d=new ge.Z(ve.xu.FlyoutAutoPriceHistoryTrigger);this.logModule.LogInfoEvent(ve.R.EdgeFlyoutStatus,"",d)}if(!r)if(i){var h=new ge.Z(ve.xu.PriceHistoryPolePosition);this.logModule.LogInfoEvent(ve.R.EdgeFlyoutStatus,"",h),this.pageHandlerModule.RecordAsContentViewed(dr.r.PRICE_HISTORY_DROP)}else{var p=new ge.Z(ve.xu.PriceHistoryNonPolePosition);this.logModule.LogInfoEvent(ve.R.EdgeFlyoutStatus,"",p)}}},{key:"getPriceDifference",value:function(t,e){var n,i=null===(n=this.getStrikeoutPricePoint(t,e))||void 0===n?void 0:n.minPrice,r=t.CurrentPrice;return i?Math.abs(r-i):void 0}},{key:"createPriceHistoryTypeIllustration",value:function(t){var e,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=this.utilities.createElement("DIV",{class:"ph_ill",style:"\n                display: flex;\n                align-items: center;\n                ".concat(n?"":"margin-bottom: 10px;","\n            ")}),r=this.flyoutData.common.currentTheme===xe.Q2.Dark,o=this.utilities.createElement("DIV",{style:"margin-right: 5px;"});t===gn.PRICEDROP?o.innerHTML=r?Je.Z.staticPolicy.createHTML(this.assets.getPriceHistoryDecreaseTrendIconDark()):Je.Z.staticPolicy.createHTML(this.assets.getPriceHistoryDecreaseTrendIconLight()):t===gn.PRICEINCREASE?o.innerHTML=r?Je.Z.staticPolicy.createHTML(this.assets.getPriceHistoryIncreaseTrendIconDark()):Je.Z.staticPolicy.createHTML(this.assets.getPriceHistoryIncreaseTrendIconLight()):o.innerHTML=r?Je.Z.staticPolicy.createHTML(this.assets.getPriceHistoryStableTrendIconDark()):Je.Z.staticPolicy.createHTML(this.assets.getPriceHistoryStableTrendIconLight()),i.appendChild(o),e=t===gn.PRICEDROP?r?"#4BDBA2":"#23845D":t===gn.PRICEINCREASE?r?"#FFA39C":"#D54034":r?"#FFFFFF":"#444444";var a=this.utilities.createElement("DIV",{style:"\n                    color: ".concat(e,";\n                    font-size: 13px;\n                    line-height: 20px;\n                    font-weight: 600;\n                    ").concat(n?"":"width: 240px;","\n                ")});return t===gn.PRICEDROP?a.textContent="Price drop":t===gn.PRICEINCREASE?a.textContent="Price increase":a.textContent="Price stable",i.appendChild(a),i}},{key:"getGraphAriaLabel",value:function(t,e,n,i){if(!i)return"";if(!t||n===gn.FAIRPRICE)return"The price has not fluctuated much. Today price is ".concat(i).concat(e.minPrice);if(t&&i){var r="",o="";switch(n){case gn.PRICEDROP:r=this.highString,o="decreased";break;case gn.PRICEINCREASE:r=this.lowString,o="increased"}return"The ".concat(r," price was ").concat(i).concat(t.minPrice," on ").concat(iu("%B %d")(t.dtg),", and today it has ").concat(o," to ").concat(i).concat(e.minPrice)}return""}},{key:"drawPriceHistoryChart",value:function(t,e,n){var i=this,r=t.DailyPrices;if(r.length<2)return null;var o=50,a=50,s=340,l=140,c=function(){return Ol.apply(Ed(Kc,Qc,Tc,kc,Cc,mc,gc,pc,dc,iu).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}().range([0,s]),u=Kl().range([100,0]);c.domain(function(t,e){let n,i;if(void 0===e)for(const e of t)null!=e&&(void 0===n?e>=e&&(n=i=e):(n>e&&(n=e),i<e&&(i=e)));else{let r=-1;for(let o of t)null!=(o=e(o,++r,t))&&(void 0===n?o>=o&&(n=i=o):(n>o&&(n=o),i<o&&(i=o)))}return[n,i]}(r,(function(t){return t.dtg}))),u.domain([Fr(r,(function(t){return t.minPrice/1.2})),Hr(r,(function(t){return 1.2*t.minPrice}))]);var d=r[0],h=r[r.length-1],p=this.getCriticalPoints(r),f=p.length>0?this.getMinCriticalPoint(p,h):null,g=p.length>0?this.getMaxCriticalPoint(p,r[r.length-1],f&&f.minPrice?f.minPrice:Number.NEGATIVE_INFINITY,c):null,v=this.getLowPoint(d,h,f),m=this.getHighPoint(d,h,g),y=t.MedianPrice,C={x:h.dtg,y:h.minPrice,text:this.todayString},b=v?{text:this.lowString,x:v.dtg,y:v.minPrice}:null,S=m?{text:this.highString,x:m.dtg,y:m.minPrice}:null,x=[].concat(Lr(b?[b]:[]),Lr(S?[S]:[]),[C]),E=this.getStrikeoutPricePoint(t,e),w=this.getGraphAriaLabel(E,h,e,n),A=Nd().x((function(t){return c(t.dtg)})).y((function(t){return u(t.minPrice)})).curve(Gd),I=document.createElementNS("http://www.w3.org/2000/svg","svg"),k=0,D=a+15,T=function(t){return"string"==typeof t?new Ko([[document.querySelector(t)]],[document.documentElement]):new Ko([[t]],Xo)}(I).attr("aria-label",w).attr("width",s).attr("height",l).attr("viewBox","0 0 ".concat(s+a+o," ").concat(l)).on("mouseenter",(function(){return k=Date.now()})).on("mouseleave",(function(t){i.sendPriceHistoryDwellTimeTelemery(k,ve.xu.PriceHistoryDwellTimeHover,"hover time over graph")})).append("g").attr("transform","translate(".concat(D,", ",10,")")),M=T.append("defs").append("linearGradient").attr("x1","319.56").attr("y1","38.583").attr("x2","-4.00001").attr("y2","38.583").attr("gradientUnits","userSpaceOnUse").attr("id","linear-gradient");M.append("stop").attr("stop-color",this.flyoutData.common.currentTheme===xe.Q2.Dark?"#A8A8A8":"#767676"),M.append("stop").attr("offset","0.979167").attr("stop-color",this.flyoutData.common.currentTheme===xe.Q2.Dark?"#A8A8A8":"#767676").attr("stop-opacity","0.2"),T.append("path").data([r]).attr("d",A).style("fill","none").style("stroke","url(#linear-gradient)").style("stroke-width",2);var P=T.append("g").style("opacity",1).style("transition-duration","0.4s").style("transition-property","opacity");P.append("line").attr("x1",c(C.x)).attr("y1",u(C.y)).attr("x2",c(C.x)).attr("y2",-25).style("stroke-width",1).style("stroke",(function(){switch(e){case gn.PRICEDROP:return i.flyoutData.common.currentTheme===xe.Q2.Dark?rh:Qd;case gn.PRICEINCREASE:return i.flyoutData.common.currentTheme===xe.Q2.Dark?ah:th;case gn.FAIRPRICE:return i.flyoutData.common.currentTheme===xe.Q2.Dark?lh:nh}})).style("stroke-dasharray","2").style("fill","none"),b&&P.append("line").attr("x1",c(b.x)).attr("y1",u(b.y)).attr("x2",c(b.x)).attr("y2",l).style("stroke-width",1).style("stroke",(function(){return i.flyoutData.common.currentTheme===xe.Q2.Dark?"#A8A8A8":"#767676"})).style("stroke-dasharray","2").style("fill","none"),S&&P.append("line").attr("x1",c(S.x)).attr("y1",u(S.y)).attr("x2",c(S.x)).attr("y2",-25).style("stroke-width",1).style("stroke",(function(){return i.flyoutData.common.currentTheme===xe.Q2.Dark?"#A8A8A8":"#767676"})).style("stroke-dasharray","2").style("fill","none"),P.selectAll(".dot").data(x).enter().append("circle").style("fill",(function(t){if(t.text!==i.todayString)return i.flyoutData.common.currentTheme===xe.Q2.Dark?"#A8A8A8":"#767676";switch(e){case gn.PRICEDROP:return i.flyoutData.common.currentTheme===xe.Q2.Dark?rh:Qd;case gn.PRICEINCREASE:return i.flyoutData.common.currentTheme===xe.Q2.Dark?ah:th;case gn.FAIRPRICE:return i.flyoutData.common.currentTheme===xe.Q2.Dark?lh:nh}})).attr("cx",(function(t){return c(t.x)})).attr("cy",(function(t){return u(t.y)})).attr("r",6);var R=P.selectAll(".node").data(x).enter().append("g").attr("transform",(function(t){return t.text===i.lowString?"translate(-10,-40)":"translate(-10,-25)"})).append("text").attr("text-anchor","end").attr("x",(function(t){if(t.text!==i.todayString)return c(t.x);switch(e){case gn.PRICEDROP:case gn.PRICEINCREASE:return c(t.x)-13;case gn.FAIRPRICE:return c(t.x)}})).attr("y",(function(t){return t.text===i.lowString?l:0}));return P.selectAll(".text").data([C]).enter().append("svg").attr("width",9).attr("height",12).attr("viewBox",(function(){switch(e){case gn.PRICEDROP:return"0 0 9 12";case gn.PRICEINCREASE:return"0 -12 9 12";case gn.FAIRPRICE:return"0 0 0 0"}})).attr("x",(function(t){return c(t.x)-13})).attr("y",-24).attr("fill","none").append("g").attr("transform",(function(){switch(e){case gn.PRICEDROP:return"";case gn.PRICEINCREASE:return"scale(1,-1)";case gn.FAIRPRICE:return""}})).append("path").attr("d",(function(){switch(e){case gn.PRICEDROP:case gn.PRICEINCREASE:return"M8.12746 7.64828L4.93531 11.3152C4.82368 11.4432 4.68157 11.5302 4.52689 11.5655C4.37222 11.6007 4.21193 11.5825 4.06624 11.5132C3.9694 11.4672 3.88131 11.4 3.80688 11.3152L0.614726 7.64828C0.538505 7.56371 0.477708 7.46255 0.435884 7.35071C0.394059 7.23886 0.372044 7.11857 0.371124 6.99685C0.370203 6.87512 0.390395 6.75441 0.430521 6.64175C0.470648 6.52908 0.529904 6.42673 0.604834 6.34065C0.679764 6.25458 0.768866 6.18651 0.866942 6.14041C0.965018 6.09432 1.0701 6.07112 1.17607 6.07218C1.28203 6.07324 1.38675 6.09853 1.48411 6.14657C1.58148 6.19462 1.66954 6.26446 1.74315 6.35202L3.57306 8.45409L3.57306 1.49974C3.57306 1.25661 3.65713 1.02343 3.8068 0.851513C3.95646 0.679592 4.15944 0.583008 4.37109 0.583008C4.58275 0.583008 4.78573 0.679592 4.93539 0.851513C5.08505 1.02343 5.16913 1.25661 5.16913 1.49974L5.16913 8.45409L6.99904 6.35202C7.07265 6.26446 7.16071 6.19462 7.25807 6.14657C7.35544 6.09853 7.46016 6.07324 7.56612 6.07218C7.67208 6.07112 7.77717 6.09432 7.87524 6.14041C7.97332 6.18651 8.06242 6.25458 8.13735 6.34065C8.21228 6.42673 8.27154 6.52908 8.31167 6.64175C8.35179 6.75441 8.37198 6.87512 8.37106 6.99685C8.37014 7.11857 8.34813 7.23887 8.3063 7.35071C8.26448 7.46256 8.20368 7.56371 8.12746 7.64828Z";case gn.FAIRPRICE:return""}})).attr("fill",(function(){switch(e){case gn.PRICEDROP:return i.flyoutData.common.currentTheme===xe.Q2.Dark?oh:Jd;case gn.PRICEINCREASE:return i.flyoutData.common.currentTheme===xe.Q2.Dark?sh:eh;case gn.FAIRPRICE:return i.flyoutData.common.currentTheme===xe.Q2.Dark?ch:ih}})),R.append("tspan").text((function(t){return"".concat(n).concat(i.toFixedSafe(Number(t.y),2))})).attr("class",(function(t){if(t.text!==i.todayString)return"price";switch(e){case gn.PRICEDROP:return"currPriceDrop";case gn.PRICEINCREASE:return"currPriceIncrease";case gn.FAIRPRICE:return"currFairPrice"}})).attr("dx","0.4em").attr("dy","0.8em"),R.append("tspan").text((function(t){return t.text})).attr("x",(function(t){return c(t.x)})).attr("dx","0.4em").attr("dy","1.1em").attr("class","label"),R.append("tspan").text((function(t){return t.text===i.todayString?"":iu("%b %d")(t.x)})).attr("x",(function(t){return c(t.x)})).attr("dx","0.4em").attr("dy","1.1em").attr("class","desc"),this.setUpInteractiveHover(r,D,I,T,s,l,c,u,n,P),this.setUpMedianLine(y,P,c,u,s,n,S,S),I}},{key:"setUpMedianLine",value:function(t,e,n,i,r,o,a,s){if(t){e.append("line").attr("x1",n(0)).attr("y1",i(t)).attr("x2",r).attr("y2",i(t)).style("stroke-width",1).style("stroke","#94b6c7").style("stroke-dasharray","3 6").style("fill","none").attr("pointer-events","none");var l=e.append("g").append("text").attr("y",i(t)),c=l.append("tspan").text("".concat(o).concat(this.toFixedSafe(t,2))).attr("class","price median").attr("dx","0.4em").attr("dy","0.8em"),u=l.append("tspan").text(this.medianString).attr("class","label median").attr("dx","0.4em").attr("dy","1.1em"),d=0,h=-65,p=-30,f=!1;a&&n(a.x)<100&&(p=3,s&&n(s.x)<100&&(d=r,h=0,f=!0)),f&&l.attr("text-anchor","end"),l.attr("x",d).attr("transform","translate(".concat(h,", ").concat(p,")")),c.attr("x",d),u.attr("x",d)}}},{key:"setUpInteractiveHover",value:function(t,e,n,i,r,o,a,s,l,c){var u=this,d=i.append("g").style("opacity",0).style("transition-duration","0.4s").style("transition-property","opacity");d.selectAll(".dot").data(t).enter().append("circle").style("fill",this.flyoutData.common.currentTheme===xe.Q2.Dark?"#A8A8A8":"#767676").attr("cx",(function(t){return a(t.dtg)})).attr("cy",(function(t){return s(t.minPrice)})).attr("r",4);var h=d.append("g").attr("transform","translate(-10,-25)").append("text").attr("aria-hidden","true").attr("text-anchor","end").style("fill",this.flyoutData.common.currentTheme===xe.Q2.Dark?"#FFFFFF":"#444444"),p=h.append("tspan").attr("class","price").attr("dx","0.4em").attr("dy","0.8em"),f=h.append("tspan").attr("class","desc").attr("dx","0.4em").attr("dy","1.1em"),g=d.append("line").attr("y1",-25).attr("y2",o).style("stroke-width",1).style("stroke",(function(){return u.flyoutData.common.currentTheme===xe.Q2.Dark?"#A8A8A8":"#767676"})).style("stroke-dasharray","2").style("fill","none"),v=d.append("circle").attr("class","hover-price").style("fill",this.flyoutData.common.currentTheme===xe.Q2.Dark?"#FFFFFF":"#363636").style("stroke",this.flyoutData.common.currentTheme===xe.Q2.Dark?"#FFFFFF":"#363636").attr("r",4);i.append("rect").attr("width",r).attr("height",o).style("fill","none").style("pointer-events","all").on("mouseout",(function(){u.hideHoveredGroup(d,c)})).on("mousemove",(function(i){var r=n.createSVGPoint();r.x=i.clientX,r.y=i.clientY;var o=r.matrixTransform(n.getScreenCTM().inverse()).x-e,m=u.getClosestDataPointToTheHoverLine(t,a,o);null!==m?(u.showHoveredGroup(d,c),v.attr("transform","translate(".concat(a(m.dtg),", ").concat(s(m.minPrice),")")),p.attr("x",o),f.attr("x",o),h.attr("x",o).attr("y",0),p.text("".concat(l).concat(u.toFixedSafe(m.minPrice,2))),f.text("".concat(iu("%b %d")(m.dtg))),g.attr("x1",o).attr("x2",o)):u.hideHoveredGroup(d,c)}))}},{key:"getClosestDataPointToTheHoverLine",value:function(t,e,n){for(var i=e.invert(n),r=Nr((function(t){return t.dtg})).left(t,i),o=[t[r-1],t[r]],a=Number.MAX_VALUE,s=null,l=0,c=o;l<c.length;l++){var u=c[l];if(void 0!==u){var d=e(u.dtg),h=Math.abs(d-n);a>h&&(a=h,s=u)}}return s}},{key:"sendPriceHistoryDwellTimeTelemery",value:function(t,e,n){var i=Date.now()-t,r=new ge.Z(e);this.logModule.LogInfoEvent(ve.R.EdgeFlyoutStatus,"Price history - ".concat(n," - ").concat(i," ms"),r),i>=1e3&&zd&&this.pageHandlerModule.RecordAsUserEngagement(zd.VIEW_PRICE_HISTORY)}},{key:"hideHoveredGroup",value:function(t,e){t.style("opacity",0),e.style("opacity",1)}},{key:"showHoveredGroup",value:function(t,e){t.style("opacity",1),e.style("opacity",0)}},{key:"GetHeaderContent",value:function(t,e){return e&&""!==e?e:t===gn.PRICEDROP?this.flyoutData.strings.phTitlePriceDropped:t===gn.PRICEINCREASE?this.flyoutData.strings.phTitlePriceIncrease:this.flyoutData.strings.phTitleStable}},{key:"populatePriceList",value:function(t,e){this.renderPriceHistoryUX(e,t)}},{key:"renderPriceHistoryUX",value:function(t,e){var n,i=e.DailyPrices;if(0===i.length||!e||!e.ProductDetails)return null;var r=e.getPriceHistoryType();if(r===gn.PRICEDROP){var o=new ge.Z(ve.xu.PriceHistoryPriceDrop);this.logModule.LogInfoEvent(ve.R.EdgeFlyoutStatus,"",o)}else if(r===gn.PRICEINCREASE){var a=new ge.Z(ve.xu.PriceHistoryPriceIncrease);this.logModule.LogInfoEvent(ve.R.EdgeFlyoutStatus,"",a)}else{var s=new ge.Z(ve.xu.PriceHistoryPriceStable);this.logModule.LogInfoEvent(ve.R.EdgeFlyoutStatus,"",s)}var l,c=e.ProductDetails.currency||"$",u="".concat(c).concat(this.toFixedSafe(i[i.length-1].minPrice,2)),d=e.ProductDetails.title&&""!==e.ProductDetails.title?e.ProductDetails.title:"Product",h=this.utilities.createElement("DIV",{style:"display: flex; flex-direction: row; font-family: 'Segoe UI','Roboto', Helvetica, Verdana, sans-serif;"}),p=this.stateManagement.getState(Qn.IY.topModuleName),f=e.ProductDetails.base64ProductImage&&p!==xe.GX.PRICECOMPARISON?e.ProductDetails.base64ProductImage:void 0;if(!f){var g=new ge.Z(ve.xu.PriceHistoryNoImage);this.logModule.LogInfoEvent(ve.R.EdgeFlyoutStatus,"Price history - no image",g)}if(f){l=this.utilities.createElement("DIV",{style:"background-color: white;\n                    display: flex;\n                    margin-right: 12px;\n                    justify-content: space-around;\n                    align-items: center;\n                    flex-direction: column;"});var v=document.createElement("IMG");v.src="data:image/png;base64,".concat(f),v.alt=d,v.width=103,v.height=109,v.style.objectFit="contain",v.addEventListener("contextmenu",(function(t){return t.preventDefault(),!1})),l.appendChild(v)}var m=this.utilities.createElement("DIV",{class:"ph_info",style:"display: flex; flex: 1; flex-direction: column; width: 216px;"}),y=this.createPriceHistoryTypeIllustration(r),C=this.setUpMoreInfoButton(e,c);m.appendChild(C);var b=this.utilities.createElement("DIV",{class:"ph_head"});b.textContent=f?this.GetHeaderContent(r):this.GetHeaderContent(r,d),b.style.fontSize="14px",b.style.lineHeight="20px",b.style.fontWeight="500",b.style.overflow="hidden",b.style.textOverflow="ellipsis",b.style.display="-webkit-box",b.style.webkitLineClamp="2",b.style.webkitBoxOrient="vertical",b.style.marginBottom="10px",b.style.marginTop="10px",b.style.marginRight="5px",f?(m.appendChild(b),m.appendChild(y)):(m.appendChild(y),m.appendChild(b));var S=this.utilities.createElement("DIV",{style:"\n                    display: flex;\n                    align-items: baseline;\n                "}),x=null===(n=this.getStrikeoutPricePoint(e,r))||void 0===n?void 0:n.minPrice;if(x){var E=this.utilities.createElement("S",{style:"\n                    margin-right: 5px;\n                    color: ".concat(this.flyoutData.common.currentTheme===xe.Q2.Dark?"#FFFFFF":"#757575",";\n                    font-size: 14px;\n                ")},"".concat(c).concat(this.toFixedSafe(x,2))),w=this.utilities.createElement("SPAN",{style:"\n                    position: absolute;\n                    clip: rect(0 0 0 0);\n                "},"Old price");E.appendChild(w),S.appendChild(E)}var A=this.flyoutData.common.currentTheme===xe.Q2.Dark?"#FFFFFF":"#444444",I=this.utilities.createElement("DIV",{style:"color: ".concat(A,";\n                    font-size: 18px;\n                    line-height: 20px;\n                    font-weight: 600;\n                    margin-bottom: 6px;")},u),k=this.utilities.createElement("SPAN",{style:"\n                position: absolute;\n                clip: rect(0 0 0 0);\n            "},"New price");I.appendChild(k),S.appendChild(I),m.appendChild(S);var D=this.utilities.createElement("DIV",{style:"display: none;"});D.id="priceDropNotifChart";var T=this.utilities.createElement("DIV",{style:"margin-top: 12px;"});T.id="divPriceHistory";var M=this.drawPriceHistoryChart(e,r,c);M&&T.appendChild(M),D.appendChild(T);var P=document.getElementById("priceDropNotifChart")?document.getElementById("priceDropNotifChart"):D;P&&(P.style.display="block"),l&&h.appendChild(l),h.appendChild(m),t.appendChild(h),t.appendChild(D)}},{key:"setUpMoreInfoButton",value:function(t,e){var n=this,i=this.utilities.createElement("DIV",{style:"align-self: flex-end;\n                margin-right: 10px;\n                position: relative;"}),r=this.utilities.createElement("BUTTON",{style:"cursor: pointer;\n                background: none;\n                border: none;"});r.innerHTML=Je.Z.staticPolicy.createHTML(this.assets.getPriceHistoryInfoIcon());var o=!1,a=this.utilities.createElement("DIV",{style:"display: ".concat(o?"block":"none",";\n                position: absolute;\n                right: 0;\n                top: 18px;\n                width: 160px;\n                background: ").concat(this.flyoutData.common.currentTheme===xe.Q2.Dark?"#4a4a4a":"#ffffff",";\n                z-index: 10;\n                padding: 10px;\n                border: solid 1px ").concat(this.flyoutData.common.currentTheme===xe.Q2.Dark?"#6d6d6d":"#ececec",";")}),s=t.MedianPrice,l=s?"(".concat(e).concat(this.toFixedSafe(s,2),") "):"";a.textContent="Price drop/increase is determined by >= 2% change from the historical median price ".concat(l,"seen by users for this product.");var c=0,u=0,d=!0,h=function(){if(Date.now()-u<200)d=!1;else{c=Date.now(),o=!0,a.style.display="block";var t=new ge.Z(ve.xu.PriceHistoryShowMoreInfoTooltip);n.logModule.LogInfoEvent(ve.R.EdgeFlyoutStatus,"Price history - show more info tooltip",t)}},p=function(){u=Date.now(),setTimeout((function(){if(d){n.sendPriceHistoryDwellTimeTelemery(c,ve.xu.PriceHistoryInfoButtonDwellTimeHover,"hover time over info button"),o=!1,a.style.display="none";var t=new ge.Z(ve.xu.PriceHistoryHideMoreInfoTooltip);n.logModule.LogInfoEvent(ve.R.EdgeFlyoutStatus,"Price history - hide more info tooltip",t)}d=!0}),200)};return r.onmouseover=h,r.onmouseleave=p,a.onmouseover=h,a.onmouseleave=p,r.onclick=function(){o?p():h()},i.appendChild(r),i.appendChild(a),i}},{key:"getLowPoint",value:function(t,e,n){return!n&&t.minPrice>=e.minPrice||n&&n.dtg===e.dtg?null:n?t.minPrice!==e.minPrice&&t.minPrice<n.minPrice?t:n:t.minPrice<e.minPrice?t:null}},{key:"getHighPoint",value:function(t,e,n){return!n&&t.minPrice<=e.minPrice||n&&n.dtg===e.dtg?null:n?t.minPrice!==e.minPrice&&t.minPrice>n.minPrice?t:n:t.minPrice>e.minPrice?t:null}},{key:"getMinCriticalPoint",value:function(t,e){var n=t.reduce((function(t,e){return t.minPrice<e.minPrice?t:e}));return 1===t.length&&t[0].minPrice>e.minPrice?null:n}},{key:"getMaxCriticalPoint",value:function(t,e,n,i){var r,o,a=t.sort((function(t,e){return e.minPrice-t.minPrice})).filter((function(t){return t.minPrice>n})),s=13*this.toFixedSafe(e.minPrice,2).length+7,l=qd(a);try{for(l.s();!(o=l.n()).done;){var c=o.value;if(i(e.dtg)-i(c.dtg)>s){r=c;break}}}catch(t){l.e(t)}finally{l.f()}return r}},{key:"getCriticalPoints",value:function(t){if(t.length<3)return[];for(var e=[],n=t[1].minPrice-t[0].minPrice,i=2;i<t.length;i++){var r=t[i].minPrice,o=t[i-1].minPrice;((o-r)*n>0||o-r!=0&&0===n)&&e.push(t[i-1]),n=r-o}return e}},{key:"getStrikeoutPricePoint",value:function(t,e){var n=t.DailyPrices;if(n.length>1){if(e===gn.PRICEDROP){var i,r=n[0].minPrice,o=n[0].dtg,a=qd(n);try{for(a.s();!(i=a.n()).done;){var s=i.value;s.minPrice>r&&(r=s.minPrice,o=s.dtg)}}catch(t){a.e(t)}finally{a.f()}return{dtg:o,minPrice:r}}if(e===gn.PRICEINCREASE){var l,c=n[0].minPrice,u=n[0].dtg,d=qd(n);try{for(d.s();!(l=d.n()).done;){var h=l.value;h.minPrice<c&&(c=h.minPrice,u=h.dtg)}}catch(t){d.e(t)}finally{d.f()}return{dtg:u,minPrice:c}}}}},{key:"toFixedSafe",value:function(t,e){return t&&t.toFixed?t.toFixed(e):""}}]),n}(fi),dh=function(){function t(){(0,ye.Z)(this,t)}return(0,Ce.Z)(t,[{key:"getDefaultProductImage",value:function(){return"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI2NiIgaG\n                VpZ2h0PSI2NiIgdmlld0JveD0iMCAwIDY2IDY2IiBmaWxsPSJub25lIj4KICAgICAgICA8cmVjdCB3aWR0aD0iNjYiIGhlaW\n                dodD0iNjYiIHJ4PSI0IiBmaWxsPSIjRjdGN0Y3Ii8+CiAgICAgICAgPHBhdGggZD0iTTMyLjI5OTUgMzUuMjkwNkwzMi40MT\n                EgMzUuMTk1OUMzMi43NTY2IDM0Ljk0MzQgMzMuMjI3MyAzNC45NDAzIDMzLjU3NiAzNS4xODY2TDMzLjcwMDUgMzUuMjkwNk\n                w0Mi45Mzc0IDQ0LjM1ODFDNDIuMjc3MSA0NC43NjUyIDQxLjQ5OTMgNDUgNDAuNjY2NyA0NUgyNS4zMzMzQzI0LjUwMDcgND\n                UgMjMuNzIyOSA0NC43NjUyIDIzLjA2MjYgNDQuMzU4MUwzMi4yOTk1IDM1LjI5MDZMMzIuNDExIDM1LjE5NTlMMzIuMjk5NS\n                AzNS4yOTA2Wk00MC42NjY3IDIxQzQzLjA1OTkgMjEgNDUgMjIuOTQwMSA0NSAyNS4zMzMzVjQwLjY2NjdDNDUgNDEuNTAyNy\n                A0NC43NjMyIDQyLjI4MzUgNDQuMzUzMSA0Mi45NDU2TDM1LjEwMTYgMzMuODYzM0wzNC45MzAzIDMzLjcwNzVDMzMuODE5OS\n                AzMi43NzI0IDMyLjE5MjIgMzIuNzY5OCAzMS4wNzkgMzMuNjk5N0wzMC44OTg0IDMzLjg2MzNMMjEuNjQ2OSA0Mi45NDU2Qz\n                IxLjIzNjggNDIuMjgzNSAyMSA0MS41MDI3IDIxIDQwLjY2NjdWMjUuMzMzM0MyMSAyMi45NDAxIDIyLjk0MDEgMjEgMjUuMz\n                MzMyAyMUg0MC42NjY3Wk0zOC4wMDI4IDI1QzM2LjM0NDQgMjUgMzUgMjYuMzQ0NCAzNSAyOC4wMDI4QzM1IDI5LjY2MTIgMz\n                YuMzQ0NCAzMS4wMDU2IDM4LjAwMjggMzEuMDA1NkMzOS42NjEyIDMxLjAwNTYgNDEuMDA1NiAyOS42NjEyIDQxLjAwNTYgMj\n                guMDAyOEM0MS4wMDU2IDI2LjM0NDQgMzkuNjYxMiAyNSAzOC4wMDI4IDI1Wk0zOC4wMDI4IDI3QzM4LjU1NjcgMjcgMzkuMD\n                A1NiAyNy40NDkgMzkuMDA1NiAyOC4wMDI4QzM5LjAwNTYgMjguNTU2NyAzOC41NTY3IDI5LjAwNTYgMzguMDAyOCAyOS4wMD\n                U2QzM3LjQ0OSAyOS4wMDU2IDM3IDI4LjU1NjcgMzcgMjguMDAyOEMzNyAyNy40NDkgMzcuNDQ5IDI3IDM4LjAwMjggMjdaIi\n                BmaWxsPSIjRDZENkQ2Ii8+CiAgICAgICAgPC9zdmc+"}}]),t}();function hh(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=(0,De.Z)(t);if(e){var r=(0,De.Z)(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return(0,ke.Z)(this,n)}}var ph=function(t){(0,Ie.Z)(n,t);var e=hh(n);function n(t,i){var r;return(0,ye.Z)(this,n),r=e.call(this),(0,Se.Z)((0,Ae.Z)(r),"logModule",void 0),(0,Se.Z)((0,Ae.Z)(r),"pageHandlerModule",void 0),(0,Se.Z)((0,Ae.Z)(r),"flyoutData",void 0),(0,Se.Z)((0,Ae.Z)(r),"utilities",void 0),(0,Se.Z)((0,Ae.Z)(r),"assets",void 0),r.logModule=i.logModule,r.pageHandlerModule=i.pageHandlerModule,r.flyoutData=t,r.utilities=i.viewModulesUtilities,r.assets=new dh,r}return(0,Ce.Z)(n,[{key:"GetModuleName",value:function(){return xe.GX.PRODUCTHISTORY}},{key:"ShouldRenderModule",value:function(){var t,e=this.flyoutData.dataStoreModule.ProductHistoryData,n=null!==(t=e&&e.length>0&&this.flyoutData.dataLoader.IsServerData()&&this.flyoutData.experimentData.isExperimentActive(Qe.H.showProductHistory))&&void 0!==t&&t;return Promise.resolve(n)}},{key:"renderModule",value:function(){var t=this.utilities.createElement("msft-edge-shopping-section");t.id="productHistorySection",this.populateProductHistoryList(t,!1,!1),this.utilities.createCommonListStructure(t,this.flyoutData.strings.prodHSectionTitle,this.flyoutData.dataStoreModule.ProductHistoryData,(function(t){return xe.CS.PRODUCTHISTORY}),this.populateProductHistoryList.bind(this));var e=this.CreateModule(t,xe.H7.PRODUCTHISTORY,xe.GX.PRODUCTHISTORY);t.addEventListener("click",(function e(){if(t){var o=t.shadowRoot;if(o){var a=o.querySelector("fluent-accordion-item");a&&(a.classList.contains("expanded")||i?r||(n.RecordAsUserAction(ni.b.PRODUCT_HISTORY_COLLAPSE_SECTION),r=!0):(n.RecordAsContentViewed(dr.r.PRODUCT_HISTORY),n.RecordAsUserAction(ni.b.PRODUCT_HISTORY_EXPAND_SECTION),i=!0))}}i&&r&&t&&t.removeEventListener("click",e)}));var n=this.pageHandlerModule,i=!1,r=!1;return Promise.resolve(e)}},{key:"populateMainHeader",value:function(){this.pageHandlerModule.RecordAsContentViewed(dr.r.PRODUCT_HISTORY)}},{key:"populateProductHistoryList",value:function(t,e,n){var i,r=this.flyoutData.dataStoreModule.ProductHistoryData;if(r){r.length>0&&(i=r.length);var o=0;if(e){var a=new Jn.Z(ve.$S.SeeMoreRetailers);this.logModule.LogInfoEvent(ve.R.ButtonClick,"See more product history",a),o=xe.CS.PRODUCTHISTORY}else i>xe.CS.PRODUCTHISTORY&&(i=xe.CS.PRODUCTHISTORY);for(var s=o;s<i;s++){var l=document.createElement("msft-shopping-link");l.price=r[s].entity.price,l.textContent=r[s].title,l.href="#",r[s].domain&&(l.retailer=r[s].domain,this.createProductImages(l,r[s])),this.manageProductLinkEvents(l,r[s]),t.appendChild(l),s===o&&e&&n&&this.flyoutData.common.currentDevice===xe.AS.Desktop&&l.focus()}}}},{key:"createProductImages",value:function(t,e){var n=this,i=document.createElement("IMG"),r=this.utilities.addFavIconSrc(i,t,e.domain),o=this.utilities.createElement("IMG");e.entity.image&&""!==e.entity.image?(o.src=e.entity.image,o.style.maxWidth="66px",o.style.maxHeight="66px"):o.src=this.assets.getDefaultProductImage(),o.setAttribute("aria-hidden","true"),o.slot="image",o.addEventListener("error",(function(){o.src=n.assets.getDefaultProductImage()})),r&&t.appendChild(i),t.appendChild(o)}},{key:"manageProductLinkEvents",value:function(t,e){var n=this;t.addEventListener("click",(function(){n.navigateToRetailer(e,qn.NEW_FOREGROUND_TAB)})),t.addEventListener("mousedown",(function(t){switch(t.button){case 1:n.navigateToRetailer(e,qn.NEW_FOREGROUND_TAB)}})),t.addEventListener("contextmenu",(function(t){return t.preventDefault(),!1}))}},{key:"navigateToRetailer",value:function(t,e){var n=new Jn.Z(ve.$S.NavigatedToAnotherRetailer);this.pageHandlerModule.RecordAsUserAction(ni.b.PRODUCT_HISTORY_NAVIGATION),this.pageHandlerModule.RecordAsUserEngagement(zd.PRODUCT_HISTORY_NAVIGATION),this.logModule.LogInfoEvent(ve.R.ButtonClick,"Navigation to another retailer from product history",n),this.pageHandlerModule.NavigateToAlternateRetailerWithDisposition(t.url)}}]),n}(fi),fh=function(){function t(){(0,ye.Z)(this,t)}return(0,Ce.Z)(t,[{key:"getAggregateRatingLineStyles",value:function(){return"\n        span[part=title] .csrc { padding-left: 5px; }\n        .csrc { padding-right: 2px; }\n        .csrc svg {\n            vertical-align: text-bottom;\n            padding-bottom: 1px;\n        }"}},{key:"getCardsStyles",value:function(){return"\n            msft-horizontal-card-slider msft-shopping-link, .vid_cds msft-shopping-link {\n                margin: 0 !important;\n            }\n            .vid_cds {\n                display: flex;\n                column-gap: 8px;\n            }\n            .vid_cds msft-shopping-link { flex: 1 }\n            msft-shopping-link + .vid_cds { margin-top: 5px; }\n            .vid_cds:last-of-type { margin-bottom: 5px; }\n            .vid_thv, .vid_thh { position: relative; }\n            .vid_thv img {\n                border-radius: 4px 4px 0 0;\n                max-width: 100%;\n            }\n            .vid_thh img {\n                border-radius: 4px 0 0 4px;\n            }\n            .vid_thov {\n                position: absolute;\n                bottom: 0;\n                right: 0;\n                margin: 8px;\n            }\n            .vid_thov span {\n                background-color: rgba(0,0,0,0.75);\n                color: #fff;\n                margin-left: 2px;\n                padding: 1px 5px;\n                font-weight: bold;\n                font-size: 11px;\n                line-height: 14px;\n                float: right;\n            }\n            .vid_thov .vid_thply {\n                background-image: url(".concat(this.getPlayIconUri(),");\n                background-repeat: no-repeat;\n                background-position: center;\n                width: 7px;\n                height: 14px;\n            }")}},{key:"getExpertReviewShoppingLinkShadowStyles",value:function(){return"\n            .control {\n                padding: 8px 15px !important;\n                grid-template-columns: auto 1fr auto !important;\n                grid-template-rows: 24px 1fr;\n                grid-row-gap: 8px;\n            }\n            .provider { font-size: 14px; }\n            .rating { font-size: 16px; }\n            .control .caption {\n                grid-column: 1 / 4;\n                font-weight: normal;\n                overflow: hidden;\n                text-overflow: ellipsis;\n                display: -webkit-box;\n                -webkit-line-clamp: 2;\n                -webkit-box-orient: vertical;\n            }"}},{key:"getCommonEntityHeaderStyles",value:function(){return"\n            .ce_head {\n                display: flex;\n                flex-direction: row;\n                width: 100%;\n            }\n            .ce_im {\n                display: flex;\n                align-items: center;\n            }\n            .ce_im img { object-fit: contain; }\n            .ce_im + .ce_info {\n                width: 216px;\n                margin-right: 0;\n            }\n            .ce_info {\n                display: flex;\n                flex-direction: column;\n                margin: 0 12px;\n            }\n            .ce_info > div {\n                margin-bottom: 8px;\n                text-align: initial;\n            }\n            .ce_pcbest {\n                display: flex;\n                font-size: 12px;\n            }\n            .ce_pcill { margin: 2px 6px 0 0; }\n            .ce_info .ce_pcbest {\n                background: rgba(16, 124, 16, 0.08);\n                padding: 4px 8px;\n                border-radius: 4px;\n                margin-bottom: 4px;\n            }\n            .ce_info .ce_title {\n                font-size: 16px;\n                font-weight: 600;\n                line-height: normal;\n                margin-top: 4px;\n                overflow: hidden;\n                text-overflow: ellipsis;\n                display: -webkit-box;\n                -webkit-line-clamp: 2;\n                -webkit-box-orient: vertical;\n            }\n            .ce_head .ph_ill > div { line-height: 16px; }"}},{key:"getPlayIconUri",value:function(){return"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAcAAAAIBAMAAADHKvg1AAAAIVBMVEX///////////////////////////////////////////9/gMdvAAAACnRSTlMAETNEVWaImbvuo4D1oAAAAB9JREFUCB1jmMoABKuaQcSqQhCxKgFGgLhNQIkpQAwA8zkLyQAl6F0AAAAASUVORK5CYII="}},{key:"getCommonEntityHeaderBestPriceIcon",value:function(t){var e=t===xe.Q2.Dark?"#4BDBA2":"#107C10";return'<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M8 0C12.4183 0 16 3.58172 16 8C16 12.4183 12.4183 16 8 16C3.58172 16 0 12.4183 0 8C0 3.58172 3.58172 0 8 0ZM10.5757 5.57574L7 9.15147L5.42426 7.57574C5.18995 7.34142 4.81005 7.34142 4.57574 7.57574C4.34142 7.81005 4.34142 8.18995 4.57574 8.42426L6.57574 10.4243C6.81005 10.6586 7.18995 10.6586 7.42426 10.4243L11.4243 6.42426C11.6586 6.18995 11.6586 5.81005 11.4243 5.57574C11.1899 5.34142 10.8101 5.34142 10.5757 5.57574Z" fill="'.concat(e,'"/></svg>')}}]),t}();function gh(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return vh(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return vh(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function vh(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function mh(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=(0,De.Z)(t);if(e){var r=(0,De.Z)(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return(0,ke.Z)(this,n)}}var yh=function(t){(0,Ie.Z)(n,t);var e=mh(n);function n(t,i,r){var o;return(0,ye.Z)(this,n),o=e.call(this),(0,Se.Z)((0,Ae.Z)(o),"stateManagement",void 0),(0,Se.Z)((0,Ae.Z)(o),"pageHandlerModule",void 0),(0,Se.Z)((0,Ae.Z)(o),"logModule",void 0),(0,Se.Z)((0,Ae.Z)(o),"flyoutData",void 0),(0,Se.Z)((0,Ae.Z)(o),"utilities",void 0),(0,Se.Z)((0,Ae.Z)(o),"assets",void 0),o.stateManagement=t,o.pageHandlerModule=r.pageHandlerModule,o.logModule=r.logModule,o.flyoutData=i,o.utilities=r.viewModulesUtilities,o.assets=new fh,o.stateManagement.addEventListener(Qn.e1.CreateInlineRating,(function(t){t.detail&&t.detail.moduleName&&t.detail.callback&&o.createInlineRating(t.detail.moduleName,t.detail.callback)})),o}return(0,Ce.Z)(n,[{key:"GetModuleName",value:function(){return xe.GX.RATINGSANDREVIEWS}},{key:"ShouldRenderModule",value:function(){var t=this.flyoutData.dataStoreModule.RatingsAndReviewsData,e=!!t&&(t.hasExpertReviews||t.hasVideos);return Promise.resolve(e)}},{key:"renderModule",value:function(){var t,e=this;if(!this.flyoutData.dataStoreModule.RatingsAndReviewsData||!this.ShouldRenderModule())return Promise.resolve(null);var i=this.flyoutData.dataStoreModule.RatingsAndReviewsData,r=this.utilities.createElement("msft-edge-shopping-section");r.id=n.ShoppingSectionId,r.accordion=!0,r.expanded=!1,r.title=null!==(t=i.sectionTitle)&&void 0!==t?t:i.hasExpertReviews?i.hasVideos?this.flyoutData.strings.rrExpertAndVideoReviews:this.flyoutData.strings.rrExpertReviews:this.flyoutData.strings.rrVideoReviews,this.utilities.applyStyles(this.flyoutData.common.shopping,this.assets.getCardsStyles());var o=i.hasOrderedCards?this.RankOrderedCards(i):this.RankUnorderedCards(i),a={l:[]};this.RenderCards(r,o,a);var s=JSON.stringify(a);this.logModule.LogInfoEvent(ve.R.EdgeFlyoutStatus,s,new ge.Z(ve.xu.RatingsAndReviewsRendered));r.addEventListener("click",(function t(){var n,o=null===(n=r.shadowRoot)||void 0===n?void 0:n.querySelector("fluent-accordion-item");null!=o&&o.expanded&&(e.logModule.LogInfoEvent(ve.R.ButtonClick,"First expand",new Jn.Z(ve.$S.ExpandRatingsAndReviews)),i.hasExpertReviews&&e.pageHandlerModule.RecordAsContentViewed(dr.r.PROFESSIONAL_REVIEWS),i.hasVideos&&e.pageHandlerModule.RecordAsContentViewed(dr.r.VIDEO_REVIEWS),r.removeEventListener("click",t))}));var l=this.CreateModule(r,xe.H7.RATINGSANDREVIEWS,xe.GX.RATINGSANDREVIEWS);return Promise.resolve(l)}},{key:"populateMainHeader",value:function(){var t=this.flyoutData.common.shopping.querySelector("#"+n.ShoppingSectionId);t&&(t.accordion=!1,this.logModule.LogInfoEvent(ve.R.EdgeFlyoutStatus,"Pole expand",new ge.Z(ve.xu.RatingsAndReviewsPolePosition)));var e=this.CreateCommonEntityHeader();e.slot="header-content",this.flyoutData.common.shopping.appendChild(e)}},{key:"CreateCommonEntityHeader",value:function(){var t,e,n,i,r,o=this.flyoutData.dataStoreModule.PriceComparisonData,a=null===(t=this.flyoutData.dataStoreModule.PriceHistoryData)||void 0===t?void 0:t.ProductDetails,s=this.utilities.createElement("div",{class:"ce_head"}),l=this.utilities.createElement("div",{class:"ce_info"}),c=null!==(e=null!==(n=null!==(i=null==a?void 0:a.title)&&void 0!==i?i:null==o?void 0:o.entityName)&&void 0!==n?n:null===(r=this.flyoutData.dataStoreModule.RatingsAndReviewsData)||void 0===r?void 0:r.entityName)&&void 0!==e?e:"Product";this.utilities.applyStyles(this.flyoutData.common.shopping,this.assets.getCommonEntityHeaderStyles());var u=null==a?void 0:a.base64ProductImage;if(u){var d=this.utilities.createElement("div",{class:"ce_im"}),h=document.createElement("IMG");h.src="data:image/png;base64,".concat(u),h.alt=c,h.width=103,h.height=109,d.appendChild(h),s.appendChild(d)}var p=this.flyoutData.common.shopping.querySelector("#divPriceHistory .ph_ill");if(!p&&null!=o&&o.CompetingPrices&&o.CompetingPrices.length>0&&o.lowestPrice<0){var f,g=this.utilities.createElement("div",{class:"ce_pcbest"},this.flyoutData.strings.pcBestPriceHeader),v=this.utilities.createElement("div",{class:"ce_pcill"});v.innerHTML=Je.Z.staticPolicy.createHTML(this.assets.getCommonEntityHeaderBestPriceIcon(this.flyoutData.common.currentTheme)),null===(f=v.firstElementChild)||void 0===f||f.setAttribute("role","presentation"),g.insertAdjacentElement("afterbegin",v),l.appendChild(g)}l.appendChild(this.utilities.createElement("div",{class:"ce_title"},c));var m=this.createInlineRating(xe.GX.RATINGSANDREVIEWS);return m&&l.appendChild(m),p&&l.appendChild(p),s.appendChild(l),s}},{key:"createInlineRating",value:function(t,e){var n=this.flyoutData.dataStoreModule.RatingsAndReviewsData;if(null!=n&&n.aggregateRating){var i=this.createAggregateRatingElement(n.aggregateRating);if(i){var r=this.utilities.createElement("div",{class:"rr_inl"}),o=r.attachShadow({mode:"open"});this.utilities.applyStyles(o,this.assets.getAggregateRatingLineStyles()),o.appendChild(i);var a=this.logModule;a.LogInfoEvent(ve.R.EdgeFlyoutStatus,t?"Rendered in ".concat(t):"Rendered",new ge.Z(ve.xu.InlineRatingRendered));return r.addEventListener("click",(function t(){a.LogInfoEvent(ve.R.ButtonClick,"First click",new Jn.Z(ve.$S.ClickInlineRating)),r.removeEventListener("click",t)})),e&&e(r),r}}}},{key:"RankUnorderedCards",value:function(t){var e=[];if(t.expertReviews)for(var i=t.hasVideos?n.MaxCardRows-1:n.MaxCardRows,r=0;r<t.expertReviews.length&&r<i;r++)e.push(t.expertReviews[r]);if(t.videos)for(var o=n.MaxCardRows-e.length,a=1===o?2:o,s=Math.min(a,t.videos.length),l=s>o?Pn.H:Pn.V,c=0;c<s;c++)t.videos[c].cardOrientation=l,e.push(t.videos[c]);return e}},{key:"RankOrderedCards",value:function(t){var e=[],n=t.hasExpertReviews,i=t.hasVideos;if(n&&!i&&t.expertReviews)e=t.expertReviews;else if(!n&&i&&t.videos){var r,o=gh(t.videos);try{for(o.s();!(r=o.n()).done;){r.value.cardOrientation=Pn.V}}catch(t){o.e(t)}finally{o.f()}e=t.videos}else t.expertReviews&&t.videos&&(e=t.expertReviews.concat(t.videos));return e.sort(Tn.Compare),e}},{key:"createStarRatingElement",value:function(t){var e=t.normalizedValue,n=e.toFixed(1),i=this.utilities.createElement("span",{class:"csrc",role:"img",title:"Star rating: ".concat(n," out of ").concat(In.NormalizedMaxRating)}),r="http://www.w3.org/2000/svg",o=this.flyoutData.common.currentTheme===xe.Q2.Dark?"#fff":"#2b2b2b",a=document.createElementNS(r,"svg");a.setAttribute("height",14..toString()),a.setAttribute("width",(16*In.NormalizedMaxRating).toString());var s=document.createElementNS(r,"defs"),l=document.createElementNS(r,"path");l.setAttribute("d","M7 1.435l1.386 4.161 4.221.09-3.364 2.662 1.223 4.217L7 10.049l-3.466 2.516 1.223-4.217-3.364-2.662 4.221-.09L7 1.435l1.386 4.161z"),l.setAttribute("id","rnr_st"),l.setAttribute("stroke",o),l.setAttribute("stroke-width","0.8"),s.appendChild(l),a.appendChild(s);for(var c=0;c<In.NormalizedMaxRating;c++){var u=void 0;if(e>=c+1)u=o;else if(e>c){var d=Math.round(15+70*(e-c))+"%",h=document.createElementNS(r,"linearGradient");h.id="rnr_sth";var p=document.createElementNS(r,"stop");p.setAttribute("offset",d),p.setAttribute("stop-color",o);var f=document.createElementNS(r,"stop");f.setAttribute("offset",d),f.setAttribute("stop-opacity","0"),h.appendChild(p),h.appendChild(f),a.appendChild(h),u="url(#rnr_sth)"}else u="none";var g=document.createElementNS(r,"use");g.setAttribute("fill",u),g.setAttribute("transform","translate(".concat(16*c," .5) scale(.95 .95)")),g.setAttribute("href","#rnr_st"),a.appendChild(g)}return i.appendChild(a),i}},{key:"createAggregateRatingElement",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"span";if(t){var n=this.utilities.createElement(e);if(n.appendChild(this.createStarRatingElement(t)),t.totalReviews){var i=this.utilities.createElement("span",{"aria-label":"User ratings",style:"color: var(--neutral-focus-hint); font-size: var(--type-ramp-minus-1-font-size);"},"(".concat(t.totalReviews,")"));n.appendChild(i)}return n}}},{key:"RenderCards",value:function(t,e,i){for(var r=0,o=0;r<e.length&&o<n.MaxCardRows;r++,o++){var a=e[r],s=Ln.Narrow(a),l=void 0===s?a:void 0;if(s){var c=[s];if(i.l.push({t:"V",id:s.id,o:Pn[s.cardOrientation]}),s.cardOrientation===Pn.H)for(;(null===(u=e[r+1])||void 0===u?void 0:u.cardOrientation)===Pn.H;){var u,d=e[++r];c.push(d),i.l.push({t:"V",id:d.id,o:Pn[d.cardOrientation]})}this.renderVideosCarousel(c,t)}else l&&(this.renderExpertReview(l,t),i.l.push({t:"R",id:l.id}))}}},{key:"addNavigateHandler",value:function(t,e,n,i,r,o){var a=this.logModule,s=this.pageHandlerModule,l=function(){a.LogInfoEvent(ve.R.ButtonClick,"Id:".concat(i),new Jn.Z(n)),s.RecordAsUserAction(o),e(s,i,r,qn.NEW_FOREGROUND_TAB)};t.addEventListener("click",(function(){l()})),t.addEventListener("mousedown",(function(t){1===t.button&&l()}))}},{key:"renderExpertReview",value:function(t,e){var n=this,i=this.utilities.createElement("msft-shopping-link");i.shadowRoot&&(i.href="#",this.addNavigateHandler(i,(function(t,e,n,i){return t.NavigateToProfessionalReviewWithDisposition(e,n,i)}),ve.$S.ClickExpertReview,t.id,t.url,ni.b.NAVIGATE_TO_PROFESSIONAL_REVIEW),this.utilities.applyStyles(i.shadowRoot,this.assets.getExpertReviewShoppingLinkShadowStyles()),G.SO.queueUpdate((function(){var e,r=null===(e=i.shadowRoot)||void 0===e?void 0:e.querySelector(".control");if(r){for(;r.childElementCount>0;)r.removeChild(r.children[0]);if(t.favIconDomain){var o=n.utilities.getFavIconSrc(t.favIconDomain);r.appendChild(n.utilities.createElement("img",{src:o,class:"icon",role:"presentation"}))}if(r.appendChild(n.utilities.createElement("div",{class:"provider"},t.provider)),t.rating&&r.appendChild(n.utilities.createElement("div",{class:"rating"},t.rating.rawValue.toFixed(1)+"/"+t.rating.maxValue)),t.caption){var a=t.caption;if(a.length>160){var s=a.match(/^.{160}\S{0,20}/),l=s&&s[0]?s[0]:a.substr(0,160);l.length<a.length&&(a=l+"...")}r.appendChild(n.utilities.createElement("div",{class:"caption"},a))}}})),e.appendChild(i))}},{key:"renderVideosCarousel",value:function(t,e){var i=this;if(t&&t.length>0){var r=e;if(t.length>2){var o=this.utilities.createElement("msft-horizontal-card-slider");G.SO.queueUpdate((function(){var t,e=i.utilities.createElement("style");if(e.textContent="\n                        :host { --element-gap: 8px !important; }\n                        .viewport ~ .flipper-container { visibility: hidden; }\n                        .viewport:hover ~ .flipper-container, .flipper-container:hover { visibility: visible; }",null===(t=o.shadowRoot)||void 0===t||t.appendChild(e),o.flipperNext){var n=i.logModule;o.flipperNext.addEventListener("click",(function t(){n.LogInfoEvent(ve.R.ButtonClick,"First next-flipper click",new Jn.Z(ve.$S.ScrollVideoReviews)),o.flipperNext.removeEventListener("click",t)}))}}));e.addEventListener("change",(function(){G.SO.queueUpdate((function(){o.handleSlotContentChange()}))})),r=o}else 2===t.length&&(r=this.utilities.createElement("div",{class:"vid_cds"}));for(var a=0;a<t.length&&a<n.MaxVideos;a++)this.renderVideo(t[a],r,t.length);t.length>1&&e.appendChild(r)}}},{key:"renderVideo",value:function(t,e,n){var i,r=n>2,o=n>1,a=r?128:o?166:146,s=o?160:82,l=t.publisher?t.creator?"".concat(t.publisher," > ").concat(t.creator):t.publisher:t.creator,c=t.title;t.creator&&(c+=" from "+t.creator),t.publisher&&(c+=" on "+t.publisher),c+=" · Duration: "+t.durationLabel;var u=this.utilities.createElement("msft-shopping-link",{"aria-label":c});u.textContent=t.title,u.retailer=l,u.href="#",this.addNavigateHandler(u,(function(t,e,n,i){return t.NavigateToVideoReviewWithDisposition(e,n,i)}),ve.$S.ClickVideoReview,t.id,t.clickthroughUrl,ni.b.NAVIGATE_TO_VIDEO_REVIEW);var d=this.utilities.createElement("style");d.textContent="\n.control {\n    height: ".concat(s," !important;\n    padding: 0 !important;\n}\n.control .content {\n    padding: 8px;\n    display: block;\n}\nmsft-attribution.attribution { grid-template-columns: initial; }"),o?(r&&(d.textContent+=".control { width: ".concat(a," !important; }")),d.textContent+="\n.control {\n    grid-template-columns: 1fr !important;\n    grid-template-rows: auto 1fr;\n}"):d.textContent+="\n.control {\n    grid-template-columns: auto 1fr !important;\n    column-gap: 2px !important;\n}\n.control .content { padding-right: 10px; }",null===(i=u.shadowRoot)||void 0===i||i.appendChild(d);var h=this.utilities.createElement("div",{class:o?"vid_thv":"vid_thh"});h.slot="image",o||(h.style.height=s+"px");var p=this.utilities.createElement("img",{role:"presentation"});p.width=a,p.height=o?s-74:s;var f=this.flyoutData.common.urlPrefix;t.thumbnailUrl?p.src="".concat(f).concat(t.thumbnailUrl,"&w=").concat(p.width,"&h=").concat(p.height,"&c=7&rs=1"):t.thumbnailId&&(p.src="".concat(f,"https://th.bing.com/th?id=").concat(t.thumbnailId,"&pid=Api&w=").concat(p.width,"&h=").concat(p.height,"&c=7&rs=1")),h.appendChild(p);var g=this.utilities.createElement("div",{class:"vid_thov"});t.durationText&&g.appendChild(this.utilities.createElement("span",{class:"vid_thdur"},t.durationText)),g.appendChild(this.utilities.createElement("span",{class:"vid_thply"})),h.appendChild(g),u.appendChild(h),e.appendChild(u)}}]),n}(fi);(0,Se.Z)(yh,"ShoppingSectionId","sectRatingsAndReviews"),(0,Se.Z)(yh,"MaxCardRows",3),(0,Se.Z)(yh,"MaxVideos",5);var Ch=yh;class bh extends Gt.o{}(0,r.gn)([(0,a.Lj)({attribute:"current-price"})],bh.prototype,"currentPrice",void 0),(0,r.gn)([(0,a.Lj)({attribute:"previous-price"})],bh.prototype,"previousPrice",void 0),(0,r.gn)([(0,a.Lj)({attribute:"badge"})],bh.prototype,"badge",void 0),(0,r.gn)([(0,a.Lj)({attribute:"product-title"})],bh.prototype,"productTitle",void 0);const Sh=c.d`
    <a
        class="control"
        part="control"
        ${(0,u.i)("control")}
        download="${t=>t.download}"
        href="${t=>t.href}"
        hreflang="${t=>t.hreflang}"
        ping="${t=>t.ping}"
        referrerpolicy="${t=>t.referrerpolicy}"
        rel="${t=>t.rel}"
        target="${t=>t.target}"
        type="${t=>t.type}"
        aria-atomic="${t=>t.ariaAtomic}"
        aria-busy="${t=>t.ariaBusy}"
        aria-controls="${t=>t.ariaControls}"
        aria-current="${t=>t.ariaCurrent}"
        aria-describedBy="${t=>t.ariaDescribedby}"
        aria-details="${t=>t.ariaDetails}"
        aria-disabled="${t=>t.ariaDisabled}"
        aria-errormessage="${t=>t.ariaErrormessage}"
        aria-expanded="${t=>t.ariaExpanded}"
        aria-flowto="${t=>t.ariaFlowto}"
        aria-haspopup="${t=>t.ariaHaspopup}"
        aria-hidden="${t=>t.ariaHidden}"
        aria-invalid="${t=>t.ariaInvalid}"
        aria-keyshortcuts="${t=>t.ariaKeyshortcuts}"
        aria-label="${t=>t.ariaLabel}"
        aria-labelledby="${t=>t.ariaLabelledby}"
        aria-live="${t=>t.ariaLive}"
        aria-owns="${t=>t.ariaOwns}"
        aria-relevant="${t=>t.ariaRelevant}"
        aria-roledescription="${t=>t.ariaRoledescription}"
    >
        <div class="content-container">
            <div class="image-container" part="image-container">
                ${(0,h.g)((t=>t.badge),c.d`
                        <div class="badge" part="badge" title="${t=>t.badge}">
                            ${t=>t.badge}
                        </div>
                    `)}
                <div class="image" part="image">
                    <slot name="image">
                        <svg
                            width="48"
                            height="48"
                            viewBox="0 0 48 48"
                            xmlns="http://www.w3.org/2000/svg"
                        >
                            <path
                                d="M42 12.5C42 8.91014 39.0898 6 35.5 6H12.5C8.91014 6 6 8.91014 6 12.5V21.5144C6.89262 20.7772 7.90354 20.178 9 19.7499V12.5C9 10.567 10.567 9 12.5 9H35.5C37.433 9 39 10.567 39 12.5V35.5C39 35.9176 38.9268 36.318 38.7928 36.6894L27.1484 25.2862L26.8916 25.0532C25.6182 23.9832 23.8928 23.7296 22.4052 24.2922C22.9232 25.144 23.3288 26.0718 23.6014 27.055C24.0996 26.9182 24.6546 27.043 25.0494 27.4296L36.661 38.8028C36.2978 38.9306 35.907 39 35.5 39H25.9496L26.9748 40.0252C27.5308 40.581 27.8606 41.2774 27.9642 42H35.5C39.0898 42 42 39.0898 42 35.5V12.5Z"
                            />
                            <path
                                d="M35.0084 17.5042C35.0084 15.0166 32.9918 13 30.5042 13C28.0166 13 26 15.0166 26 17.5042C26 19.9918 28.0166 22.0084 30.5042 22.0084C32.9918 22.0084 35.0084 19.9918 35.0084 17.5042ZM29 17.5042C29 16.6735 29.6734 16 30.5042 16C31.335 16 32.0084 16.6735 32.0084 17.5042C32.0084 18.335 31.335 19.0085 30.5042 19.0085C29.6734 19.0085 29 18.335 29 17.5042Z"
                            />
                            <path
                                d="M19.9 35.7788C21.2108 34.2152 22 32.1998 22 30C22 25.0294 17.9706 21 13 21C8.02944 21 4 25.0294 4 30C4 34.9706 8.02944 39 13 39C14.6849 39 16.2616 38.537 17.61 37.7312L23.4394 43.5606C24.0252 44.1464 24.9748 44.1464 25.5606 43.5606C26.1464 42.9748 26.1464 42.0252 25.5606 41.4394L19.9 35.7788ZM13 36C9.6863 36 7 33.3138 7 30C7 26.6862 9.6863 24 13 24C16.3137 24 19 26.6862 19 30C19 33.3138 16.3137 36 13 36Z"
                            />
                        </svg>
                    </slot>
                </div>
            </div>
            <div class="price-container" part="price-container">
                ${(0,h.g)((t=>t.currentPrice),c.d`<div
                        class="current-price"
                        part="current-price"
                    >
                        ${t=>t.currentPrice}
                    </div>`)}
                ${(0,h.g)((t=>t.previousPrice),c.d`<div
                            class="previous-price"
                            part="previous-price"
                        >
                            ${t=>t.previousPrice}
                        </div>
                        <br />`)}
                <span class="product-title" part="product-title">
                    <slot></slot>
                </span>
            </div>
        </div>
    </a>
`,xh=f.i`
    ${(0,g.j)("flex")} :host {
        border: calc(var(--outline-width) * 1px) solid transparent;
        border-radius: calc(var(--elevated-corner-radius) * 1px);
        box-sizing: border-box;
        color: ${v.sp.var};
        cursor: pointer;
        fill: currentcolor;
        font-family: var(--body-font);
        font-size: var(--type-ramp-minus-1-font-size);
        line-height: var(--type-ramp-minus-1-line-height);
        outline: none;
        position: relative;
    }

    .control {
        align-items: center;
        border: none;
        border-radius: inherit;
        box-sizing: border-box;
        color: inherit;
        cursor: inherit;
        --elevation: 4;
        ${ut.XC};
        fill: inherit;
        font-family: inherit;
        height: fit-content;
        justify-content: center;
        outline: none;
        text-decoration: none;
        width: 100%;
    }

    .control:hover {
        border-radius: calc(var(--elevated-corner-radius) * 1px);
        --elevation: 8;
        ${ut.XC};
    }

    .control:${H.b} {
        box-shadow: 0 0 0 calc(var(--focus-outline-width)* 1px) ${v.cI.var};
    }

    .content-container {
        align-items: flex-start;
        display: flex;
        flex-direction: column;
    }

    .image-container {
        display: flex;
        justify-content: flex-start;
        position: relative;
        width: 100%;
    }

    .image {
        align-items: center;
        display: flex;
        height: 154px;
        justify-content: center;
        width: 100%;
    }

    .image svg {
        fill: #BCBCBC;
    }

    ::slotted([slot="image"]) {
        max-height: 154px;
    }

    .badge {
        background-color: ${v.iq.var};
        border-top-right-radius: calc(var(--corner-radius) * 1px);
        bottom: 0px;
        box-sizing: border-box;
        color: ${v.Jd.var};
        font-size: var(--type-ramp-minus-1-font-size);
        height: 22px;
        line-height: var(--type-ramp-minus-1-line-height);
        overflow: hidden;
        padding: 3px 6px;
        position: absolute;
        max-width: calc(100% - 12px);
        display: -webkit-box;
        -webkit-line-clamp: 1;
        -webkit-box-orient: vertical;
    }

    .price-container {
        box-sizing: border-box;
        padding: 0 12px;
        margin-bottom: 8px;
        overflow: hidden;
        width: 100%;
        display: -webkit-box;
        -webkit-box-orient: vertical;
        -webkit-line-clamp: 3;
    }

    .current-price {
        display: inline-block;
        font-size: var(--type-ramp-plus-1-font-size);
        font-weight: 700;
        line-height: var(--type-ramp-plus-1-line-height);
        width: max-content;
    }

    .previous-price {
        color: ${v.oK.var};
        display: inline-block;
        font-size: var(--type-ramp-minus-1-font-size);
        line-height: var(--type-ramp-minus-1-line-height);
        text-decoration: line-through;
        width: max-content;
    }

    .product-title {
        color: ${v.oK.var};
        font-size: var(--type-ramp-minus-1-font-size);
        line-height: var(--type-ramp-minus-1-line-height);
        overflow: hidden;
    }
`.withBehaviors(v.iq,v.I,v.a,v.cI,v.Jd,v.oK,v.sp,(0,F.vF)(f.i`
       :host,
       .previous-price,
       .product-title {
            forced-color-adjust: auto;
            color: ${dt.H.LinkText};
        }

        :host .control:hover,
        :host([href]) .control:hover,
        :host([href]) .control:${H.b} {
            forced-color-adjust: none;
            box-shadow: inset 0 0 0 calc((var(--focus-outline-width) * 1px)) ${dt.H.LinkText};
        }

        .badge {
            forced-color-adjust: none;
            color: ${dt.H.ButtonText};
            background: ${dt.H.ButtonFace};
            box-shadow: 0 0 0 calc((var(--outline-width) * 1px)) ${dt.H.ButtonText};
        }

        .image svg {
            fill: ${dt.H.ButtonText};
        }
    `));let Eh=class extends bh{};Eh=(0,r.gn)([(0,o.M)({name:"msft-shopping-recommendation",template:Sh,styles:xh,shadowOptions:{delegatesFocus:!0}})],Eh);var wh=function(){function t(){(0,ye.Z)(this,t)}return(0,Ce.Z)(t,[{key:"getStyles",value:function(){return"\n            #recommendationsDiv img {\n                width: auto;\n                max-width: calc(100% - 10px);\n            }"}}]),t}();function Ah(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=(0,De.Z)(t);if(e){var r=(0,De.Z)(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return(0,ke.Z)(this,n)}}var Ih=function(t){(0,Ie.Z)(n,t);var e=Ah(n);function n(t,i){var r;return(0,ye.Z)(this,n),r=e.call(this),(0,Se.Z)((0,Ae.Z)(r),"flyoutData",void 0),(0,Se.Z)((0,Ae.Z)(r),"utilities",void 0),(0,Se.Z)((0,Ae.Z)(r),"pageHandlerModule",void 0),(0,Se.Z)((0,Ae.Z)(r),"logModule",void 0),(0,Se.Z)((0,Ae.Z)(r),"assets",void 0),r.flyoutData=t,r.utilities=i.viewModulesUtilities,r.pageHandlerModule=i.pageHandlerModule,r.logModule=i.logModule,r.assets=new wh,r}return(0,Ce.Z)(n,[{key:"GetModuleName",value:function(){return xe.GX.RECOMMENDATIONS}},{key:"ShouldRenderModule",value:function(){var t=this.hasRecommendations();this.pageHandlerModule.TriggerExperiment(Qe.H.showRecommendations);var e=this.flyoutData.experimentData.isExperimentActive(Qe.H.showRecommendations);this.pageHandlerModule.TriggerExperiment(Qe.H.showTrendingProducts);var n=this.flyoutData.experimentData.isExperimentActive(Qe.H.showTrendingProducts);return Promise.resolve(t&&(e||n))}},{key:"populateMainHeader",value:function(){var t,e,n=this.flyoutData.common.shopping;if(n&&this.flyoutData.dataStoreModule.CouponData&&(null===(t=this.flyoutData.dataStoreModule.CouponData)||void 0===t||null===(e=t.Recommendations)||void 0===e?void 0:e.length)>0){var i,r,o=this.utilities.createElement("H2");o.className="txtLarge",o.style.textAlign="center",o.style.fontWeight="500";var a=null!==(i=this.flyoutData.dataStoreModule.CouponData)&&void 0!==i&&i.FriendlyDomainName?"Trending on "+(null===(r=this.flyoutData.dataStoreModule.CouponData)||void 0===r?void 0:r.FriendlyDomainName):"Trending products!";o.textContent=a,o.slot="header-content",n.appendChild(o)}}},{key:"renderModule",value:function(){var t;this.utilities.applyStyles(this.flyoutData.common.shopping,this.assets.getStyles());var e=this.utilities.createElement("msft-edge-shopping-section");if(e.id="recommendationsDiv",null===(t=this.flyoutData.dataStoreModule.CouponData)||void 0===t?void 0:t.Recommendations){var n,i,r,o=null!==(n=this.flyoutData.dataStoreModule.CouponData)&&void 0!==n&&n.FriendlyDomainName?"Trending on "+(null===(i=this.flyoutData.dataStoreModule.CouponData)||void 0===i?void 0:i.FriendlyDomainName):"Trending products!";this.populateRecommendationsList(e,!1,!1);var a=this.flyoutData;this.utilities.createCommonListStructure(e,o,null===(r=this.flyoutData.dataStoreModule.CouponData)||void 0===r?void 0:r.Recommendations,(function(t){var e=xe.CS.RECOMMENDATIONS;return t&&"viewAll"===a.common.bannerContext&&(e=t.length),e}),this.populateRecommendationsList.bind(this))}e.addEventListener("click",(function t(){if(e){var n=e.shadowRoot;if(n){var i=n.querySelector("fluent-accordion-item");if(i&&!i.classList.contains("expanded")){var r=new Jn.Z(ve.$S.ExpandedRecommendations);s.RecordAsContentViewed(dr.r.RECOMMENDATIONS),l.LogInfoEvent(ve.R.ButtonClick,"Recommendations section was expanded",r,ei.g.CouponImpressionId),e&&e.removeEventListener("click",t)}}}}));var s=this.pageHandlerModule,l=this.logModule;return Promise.resolve(this.CreateModule(e,xe.H7.RECOMMENDATIONS,xe.GX.RECOMMENDATIONS))}},{key:"hasRecommendations",value:function(){var t,e=this.flyoutData.dataStoreModule.CouponData;return null!==(t=e&&e.Recommendations&&e.Recommendations.length>0)&&void 0!==t&&t}},{key:"populateRecommendationsList",value:function(t,e,n){var i,r=null===(i=this.flyoutData.dataStoreModule.CouponData)||void 0===i?void 0:i.Recommendations;if(r){var o=0;r.length>0&&(o=r.length);var a=0;e?a=xe.CS.RECOMMENDATIONS:o>xe.CS.RECOMMENDATIONS&&(o=xe.CS.RECOMMENDATIONS);for(var s=a;s<o;s++){var l=r[s],c=this.createRecommendationTile(l);t.appendChild(c),s===a&&e&&n&&this.flyoutData.common.currentDevice===xe.AS.Desktop&&c.focus()}}}},{key:"createRecommendationTile",value:function(t){var e,n=this.utilities.createElement("msft-shopping-recommendation",{style:"padding: 5px 2px 5px 5px;\n             width: 159px;"}),i=this.utilities.createElement("DIV",{style:"display: inline-block;\n            vertical-align: bottom;"});i.className="recommendationLink",n.textContent=t.title,n.setAttribute("current-price",null==t?void 0:t.newPrice),t.originalPrice&&t.originalPrice!==t.newPrice&&n.setAttribute("previous-price",null==t?void 0:t.originalPrice),n.setAttribute("href",null==t?void 0:t.offerUrl);var r="free shipping"===(null==t||null===(e=t.shippingText)||void 0===e?void 0:e.toLocaleLowerCase())?null==t?void 0:t.shippingText:"",o="";return""===r&&(t.discountPercentage?r=t.discountPercentage+"% OFF":t.priceDropPercentage&&(o=t.priceDropPercentage+"% Price Drop"),""!==o&&(r=o)),""!==r&&n.setAttribute("badge",r),this.createImage(null==t?void 0:t.imageUrl,n),i.appendChild(n),this.managePCLinkEvents(i,null==t?void 0:t.id,null==t?void 0:t.offerUrl),i}},{key:"createImage",value:function(t,e){if(t){var n=this.utilities.createElement("IMG");n.src=this.flyoutData.common.urlPrefix+"https://www.bing.com/"+t,n.slot="image",e.appendChild(n)}}},{key:"managePCLinkEvents",value:function(t,e,n){var i=this;t.addEventListener("click",(function(){i.flyoutData.common.currentDevice===xe.AS.Desktop&&i.navigateToOffer(e,n,qn.NEW_FOREGROUND_TAB)})),t.addEventListener("mousedown",(function(t){switch(t.button){case 1:i.navigateToOffer(e,n,qn.NEW_FOREGROUND_TAB)}}))}},{key:"navigateToOffer",value:function(t,e,n){var i=new Jn.Z(ve.$S.NavigateToRecommendedDeal);this.pageHandlerModule.RecordAsUserAction(ni.b.NAVIGATE_TO_RECOMMENDATION_OFFER),this.logModule.LogInfoEvent(ve.R.ButtonClick,"Clicked on recommended offer",i),this.pageHandlerModule.NavigateToRecommendationWithDisposition(t,e,n)}}]),n}(fi);function kh(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=(0,De.Z)(t);if(e){var r=(0,De.Z)(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return(0,ke.Z)(this,n)}}var Dh=function(t){(0,Ie.Z)(n,t);var e=kh(n);function n(t,i,r,o){var a;return(0,ye.Z)(this,n),a=e.call(this),(0,Se.Z)((0,Ae.Z)(a),"Points",void 0),(0,Se.Z)((0,Ae.Z)(a),"MaxPointsLimitPerDomainPerDay",void 0),(0,Se.Z)((0,Ae.Z)(a),"Domain",void 0),(0,Se.Z)((0,Ae.Z)(a),"TotalMaxPointsLimitPerDay",void 0),a.Points=t,a.MaxPointsLimitPerDomainPerDay=i,a.Domain=r,a.TotalMaxPointsLimitPerDay=o,a}return n}(li.Z),Th=function(){function t(){(0,ye.Z)(this,t)}return(0,Ce.Z)(t,[{key:"getStyles",value:function(){return"\n            .divRewardWrapper {\n                width: 336px;\n                height: 108px;\n                margin-top: 12px;\n                margin-bottom: 16px;\n                background: rgba(255, 219, 33, 0.1);\n                border: 1px solid rgba(250, 181, 39, 0.12);\n                box-sizing: border-box;\n                border-radius: 4px;\n            }\n            .divRewardTitle {\n                width: 210px;\n                height: 20px;\n                margin-left: 11px;\n                margin-top: 11px;\n                font-family: Segoe UI;\n                font-size: 16px;\n                font-weight: 600;\n                line-height: 22px;\n                display: flex;\n                align-items: center;\n                color: rgba(0, 0, 0, 0.83);\n            }\n            .divRewardLine {\n                height: 1px;\n                width: 360px;\n                margin-top: -27.5px;\n                margin-left: -10px;\n                bottom: 0px;\n                border: 1px solid rgba(0, 0, 0, 0.09);\n                box-sizing: border-box;\n            }\n            .divRewardPointSection {\n                width: 80px;\n                height: 16px;\n                margin-left: 238px;\n                margin-top: -17.5px;\n                font-family: Segoe UI;\n                font-size: 12px;\n                font-weight: 600;\n                line-height: 16px;\n                display: inline-block;\n                align-items: center;\n                color: rgba(0, 0, 0, 0.83);\n            }\n            .divRewardPoint {\n                width: 63px;\n                text-align: right;\n                display: inline-block;\n            }\n            .divRewardPointIcon {\n                width: 12px;\n                height: 12px;\n                float:right;\n                margin-top: 2.4px;\n            }\n            .divRewardDetailsSection {\n                width: 316px;\n                height: 32px;\n                margin-left: 11px;\n                margin-top: 10px;\n                font-family: Segoe UI;\n                font-size: 12px;\n                line-height: 16px;\n                color: #333333;\n            }\n            .divRewardAdditionalLink {\n                text-decoration-line: underline;\n                margin-top: 1px;\n                margin-left: 11px;\n            }\n            .divRewardFailedSignIn {\n                width: 200px;\n                height: 20px;\n                margin-top: 8px;\n                margin-left: 49px;\n                font-family: Segoe UI;\n                font-size: 16px;\n                line-height: 20px;\n                display: inline-block;\n                align-items: center;\n                text-align: center;\n            }\n            .divRewardErrorIcon {\n                float: left;\n                margin-top: 3px;\n                margin-left: 32px;\n            }\n            .divRewardArrowIcon {\n                width: 21.13px;\n                height: 54.42px;\n                margin-left: 260px;\n                margin-top: -56px;\n            }\n            .divRewardIconSet {\n                display: inline-block;\n                width: 303px;\n                height: 28px;\n                margin-top: 12px;\n                margin-left: 11px;\n                font-family: Segoe UI;\n                font-size: 14px;\n                font-weight: 600;\n                line-height: 25px;\n            }\n            .divCouponIconSection {\n                float: left;\n                display: inline-block;\n                width: 90px;\n                height: 28px;\n            }\n            .divIconSetIcon {\n                float: left;\n            }\n            .divIconSetMessage {\n                float: right;\n            }\n            .divCashbackIconSection {\n                display: inline-block;\n                width: 93.5px;\n                height: 28px;\n                margin-left: 16px;\n            }\n            .divRewardIconSection {\n                display: inline-block;\n                float: right;\n                width: 87px;\n                height: 28px;\n            }\n            #rewardButtonLearnMore {\n                margin-bottom: 12px;\n                margin-left: 11px;\n                width: 93%;\n                height: 32px;\n            }\n            #wrapperRewardMaxEarned {\n                height: 68px;\n            }\n            #titleRewardTwo {\n                width: 252px;\n                height: 30px;\n                margin-top: -20px;\n                font-size: 20px;\n                line-height: 28px;\n            }\n            #detailRewardTwo {\n                width: 275px;\n                height: 20px;\n                margin-top: 4px;\n                font-size: 14px;\n                line-height: 20px;\n            }\n            #lineRewardTwo {\n                margin-top: 10px;\n                margin-left: -10px;\n            }"}},{key:"getCupIcon",value:function(){return'<svg width="12" height="12" viewBox="0 0 12 12" fill="none" xmlns="http://www.w3.org/2000/svg">\n        <path d="M1.5 0C0.671573 0 0 0.671573 0 1.5V2.69253C0 3.21234 0.26912 3.6951 0.711267 3.96843L4.57713 6.35823C3.63807 6.86508 3 7.85803 3 9C3 10.6569 4.34315 12 6 12C7.65685 12 9 10.6569 9 9C9 7.85803 8.36193 6.86508 7.42287 6.35823L11.2887 3.96843C11.7309 3.6951 12 3.21234 12 2.69253V1.5C12 0.671573 11.3284 0 10.5 0H1.5ZM4 4.82581V1H8V4.82581L6.26291 5.89965C6.10179 5.99925 5.89821 5.99925 5.73709 5.89965L4 4.82581ZM6 7C7.10457 7 8 7.89543 8 9C8 10.1046 7.10457 11 6 11C4.89543 11 4 10.1046 4 9C4 7.89543 4.89543 7 6 7Z" fill="black" fill-opacity="0.83"/>\n        </svg>'}},{key:"getErrorCircleIcon",value:function(){return'<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">\n        <path d="M8 0C12.4183 0 16 3.58172 16 8C16 12.4183 12.4183 16 8 16C3.58172 16 0 12.4183 0 8C0 3.58172 3.58172 0 8 0ZM8 1C4.13401 1 1 4.13401 1 8C1 11.866 4.13401 15 8 15C11.866 15 15 11.866 15 8C15 4.13401 11.866 1 8 1ZM8 10.5C8.41421 10.5 8.75 10.8358 8.75 11.25C8.75 11.6642 8.41421 12 8 12C7.58579 12 7.25 11.6642 7.25 11.25C7.25 10.8358 7.58579 10.5 8 10.5ZM8 4C8.24546 4 8.44961 4.17688 8.49194 4.41012L8.5 4.5V9C8.5 9.27614 8.27614 9.5 8 9.5C7.75454 9.5 7.55039 9.32312 7.50806 9.08988L7.5 9V4.5C7.5 4.22386 7.72386 4 8 4Z" fill="#C42B1C"/>\n        </svg>'}},{key:"getCouponIcon",value:function(){return'<svg width="28" height="28" viewBox="0 0 28 28" fill="none" xmlns="http://www.w3.org/2000/svg">\n        <circle cx="14" cy="14" r="14" fill="#E0EFFA"/>\n        <path d="M16.6731 6.95142C16.0191 6.29744 14.9588 6.29744 14.3048 6.95142L6.95239 14.3038C6.29842 14.9578 6.29842 16.0181 6.95239 16.6721L7.82433 17.544C8.20443 17.9241 8.73798 17.8561 9.06037 17.6644C9.1988 17.5821 9.36033 17.5347 9.53463 17.5347C10.0484 17.5347 10.465 17.9513 10.465 18.465C10.465 18.6394 10.4176 18.8009 10.3353 18.9394C10.1436 19.2617 10.0756 19.7953 10.4557 20.1754L11.3277 21.0474C11.9817 21.7014 13.042 21.7014 13.696 21.0474L21.0483 13.695C21.7023 13.041 21.7023 11.9807 21.0483 11.3267L20.1764 10.4548C19.7963 10.0746 19.2626 10.1427 18.9402 10.3344C18.8018 10.4167 18.6402 10.4642 18.4659 10.4642C17.952 10.4642 17.5355 10.0476 17.5355 9.53383C17.5355 9.35949 17.5829 9.19793 17.6653 9.05947C17.857 8.73708 17.9251 8.20345 17.5449 7.82332L16.6731 6.95142Z" fill="#0078D4"/>\n        </svg>'}},{key:"getCashbackIcon",value:function(){return'<svg width="28" height="28" viewBox="0 0 28 28" fill="none" xmlns="http://www.w3.org/2000/svg">\n        <circle cx="14" cy="14" r="14" fill="#E4EFE4"/>\n        <path d="M6.46191 10.1877C6.46191 9.32033 7.16506 8.61719 8.03243 8.61719H20.1478C21.0152 8.61719 21.7183 9.32033 21.7183 10.1877V17.8159C21.7183 18.6833 21.0152 19.3864 20.1478 19.3864H8.03243C7.16506 19.3864 6.46191 18.6833 6.46191 17.8159V10.1877ZM9.15422 9.73898V10.6364C9.15422 11.0081 8.85287 11.3095 8.48114 11.3095H7.58371V12.6556H8.48114C9.59633 12.6556 10.5004 11.7516 10.5004 10.6364V9.73898H9.15422ZM14.0901 16.2454C15.2053 16.2454 16.1093 15.3413 16.1093 14.2262C16.1093 13.111 15.2053 12.2069 14.0901 12.2069C12.9749 12.2069 12.0709 13.111 12.0709 14.2262C12.0709 15.3413 12.9749 16.2454 14.0901 16.2454ZM7.58371 16.6941H8.48114C8.85287 16.6941 9.15422 16.9955 9.15422 17.3672V18.2646H10.5004V17.3672C10.5004 16.252 9.59633 15.348 8.48114 15.348H7.58371V16.6941ZM19.026 17.3672C19.026 16.9955 19.3274 16.6941 19.6991 16.6941H20.5965V15.348H19.6991C18.5839 15.348 17.6799 16.252 17.6799 17.3672V18.2646H19.026V17.3672ZM19.026 10.6364V9.73898H17.6799V10.6364C17.6799 11.7516 18.5839 12.6556 19.6991 12.6556H20.5965V11.3095H19.6991C19.3274 11.3095 19.026 11.0081 19.026 10.6364Z" fill="#0F7B0F"/>\n        </svg>'}},{key:"getRewardIcon",value:function(){return'<svg width="28" height="28" viewBox="0 0 28 28" fill="none" xmlns="http://www.w3.org/2000/svg">\n        <circle cx="14" cy="14" r="14" fill="#FFFBE9"/>\n        <path d="M9.15347 8.61719C8.26132 8.61719 7.53809 9.34042 7.53809 10.2326V11.5168C7.53809 12.0766 7.82791 12.5965 8.30407 12.8909L12.4673 15.4645C11.456 16.0104 10.7689 17.0797 10.7689 18.3095C10.7689 20.0938 12.2153 21.5403 13.9996 21.5403C15.7839 21.5403 17.2304 20.0938 17.2304 18.3095C17.2304 17.0797 16.5432 16.0104 15.5319 15.4645L19.6952 12.8909C20.1713 12.5965 20.4612 12.0766 20.4612 11.5168V10.2326C20.4612 9.34042 19.7379 8.61719 18.8458 8.61719H9.15347ZM11.8458 13.8142V9.69411H16.1535V13.8142L14.2828 14.9707C14.1092 15.0779 13.89 15.0779 13.7165 14.9707L11.8458 13.8142ZM13.9996 16.1556C15.1892 16.1556 16.1535 17.12 16.1535 18.3095C16.1535 19.499 15.1892 20.4633 13.9996 20.4633C12.8101 20.4633 11.8458 19.499 11.8458 18.3095C11.8458 17.12 12.8101 16.1556 13.9996 16.1556Z" fill="#D17D00"/>\n        </svg>'}}]),t}();function Mh(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=(0,De.Z)(t);if(e){var r=(0,De.Z)(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return(0,ke.Z)(this,n)}}var Ph=function(e){(0,Ie.Z)(r,e);var n=Mh(r);function r(t,e,i){var o;return(0,ye.Z)(this,r),o=n.call(this),(0,Se.Z)((0,Ae.Z)(o),"pageHandlerModule",void 0),(0,Se.Z)((0,Ae.Z)(o),"flyoutData",void 0),(0,Se.Z)((0,Ae.Z)(o),"utilities",void 0),(0,Se.Z)((0,Ae.Z)(o),"assets",void 0),(0,Se.Z)((0,Ae.Z)(o),"stateManagement",void 0),(0,Se.Z)((0,Ae.Z)(o),"rewardApplied",void 0),(0,Se.Z)((0,Ae.Z)(o),"stringifiedMap",void 0),(0,Se.Z)((0,Ae.Z)(o),"logModule",void 0),o.pageHandlerModule=e.pageHandlerModule,o.flyoutData=t,o.utilities=e.viewModulesUtilities,o.assets=new Th,o.stateManagement=i,o.logModule=e.logModule,o}return(0,Ce.Z)(r,[{key:"GetModuleName",value:function(){return xe.GX.REWARD}},{key:"ShouldRenderModule",value:function(){var t=this.stateManagement.getState(Qn.IY.canRenderCashback),e=this.flyoutData.dataStoreModule.RewardData;e&&(this.pageHandlerModule.TriggerExperiment(Qe.H.rewardFlyout),this.pageHandlerModule.TriggerExperiment(Qe.H.signinRewards),this.pageHandlerModule.TriggerExperiment(Qe.H.rewardNotification));var n=this.flyoutData.experimentData.isExperimentActive(Qe.H.signinRewards)&&this.flyoutData.experimentData.isExperimentActive(Qe.H.rewardFlyout)&&null!=e&&t;return Promise.resolve(n)}},{key:"renderModule",value:function(){var t=this.flyoutData.dataStoreModule.RewardData;if(this.utilities.applyStyles(this.flyoutData.common.shopping,this.assets.getStyles()),t){if(!t.shoudlRenderRewardNotification){this.disableCashbackAccordion();var e=document.createElement("msft-edge-shopping-section");e.accordion=!1;var n=this.renderBaseLine(),i=this.renderFailedSignInSection(),r=this.renderWrapper(t,!1);return e.appendChild(n),t.IsTrialUser&&t.ActivateRewardsStatus&&this.isFailedSignInState(t.ActivateRewardsStatus)&&e.appendChild(i),e.appendChild(r),Promise.resolve(this.CreateModule(e,xe.H7.REWARD,xe.GX.REWARD))}this.renderRewardNotification()}return Promise.resolve(null)}},{key:"populateMainHeader",value:function(){}},{key:"StringifyMap",value:function(){this.stringifiedMap=JSON.stringify(Array.from(this.rewardApplied.entries()))}},{key:"disableCashbackAccordion",value:function(){this.stateManagement.getState(Qn.IY.cashbackModuleOnTop)&&G.SO.queueUpdate((function(){var t=document.querySelector("#cashBackSection");t&&(t.accordion=!1)}))}},{key:"renderWrapper",value:function(t,e){var n=this.utilities.createElement("DIV");n.className="divRewardWrapper",null!=t.Points&&t.Points>=5e3&&(n.id="wrapperRewardMaxEarned");var i=this.renderTitle(t,e),r=this.renderPointSection(t),o=this.renderDetails(t);if(n.appendChild(i),n.appendChild(r),n.appendChild(o),null==t.Points||t.Points<5e3){var a=this.renderLinkToExploreAdditionalSites();n.appendChild(a)}return n}},{key:"renderRewardNotification",value:function(){var t=this.utilities.createElement("DIV",{style:"width: 100%;"}),e=this.utilities.createElement("DIV");e.className="divRewardTitle",e.id="titleRewardTwo",e.textContent=this.flyoutData.strings.rewardTitleRewardTwo;var n=this.utilities.createElement("DIV");n.className="divRewardDetailsSection",n.id="detailRewardTwo",n.textContent=this.flyoutData.strings.rewardDetailTwo;var i=this.renderIconSetSection(),r=this.renderBaseLine();r.id="lineRewardTwo";var o=this.renderLearnMoreButton();t.appendChild(e),t.appendChild(n),t.appendChild(i),t.appendChild(r),t.appendChild(o),this.flyoutData.common.shopping.appendChild(t)}},{key:"renderBaseLine",value:function(){var t=this.utilities.createElement("DIV");return t.className="line divRewardLine",t}},{key:"renderFailedSignInSection",value:function(){var t=this.utilities.createElement("DIV");t.className="divRewardFailedSignIn";var e=this.utilities.createElement("DIV");e.className="divRewardErrorIcon",e.innerHTML=Je.Z.staticPolicy.createHTML(this.assets.getErrorCircleIcon());var n=this.utilities.createElement("DIV",{style:"float: right;"});return n.textContent=this.flyoutData.strings.rewardFailedSignin,t.append(e),t.append(n),t}},{key:"isFailedSignInState",value:function(t){return t===xe.aE.FAILED_SWITCH_TO_MSA_PROFILE||t===xe.aE.FAILED_SWITCH_TO_MSA_DECLINED||t===xe.aE.FAILED_SIGN_INTO_PROFILE}},{key:"renderTitle",value:function(t,e){var n=this.utilities.createElement("DIV");return n.className="divRewardTitle",t.IsTrialUser?n.textContent=this.flyoutData.strings.rewardTitleDefault:null!=t.Points&&t.Points>=5e3?n.textContent=this.flyoutData.strings.rewardTitleEarnedMaximum:n.textContent=e?this.flyoutData.strings.rewardTitleRewardsAdded:this.flyoutData.strings.rewardTitleDefault,n}},{key:"renderPointSection",value:function(e){var n=this,r=this.utilities.createElement("DIV");r.className="divRewardPointSection";var o=this.utilities.createElement("DIV");o.className="divRewardPointIcon",o.innerHTML=Je.Z.staticPolicy.createHTML(this.assets.getCupIcon());var a=this.utilities.createElement("DIV");a.className="divRewardPoint";var s=0,l=nr("rewardPoints");if(l){var c=l.split("&");if(c){var u=c[0],d=parseInt(c[1],10);Date.now()-d<36e5?s=null===u||isNaN(parseInt(u,10))?e.Points?e.Points:0:parseInt(u,10):(rr("rewardPoints"),s=e.Points?e.Points:0)}}else s=e.Points?e.Points:0;return e.IsSignedInUser||e.IsAssociatedUser?a.textContent=s.toString():e.Points>=5e3?a.textContent=this.flyoutData.strings.rewardPointMax:a.textContent=s.toString()+this.flyoutData.strings.rewardPerMaxPoint,this.stateManagement.addEventListener(Qn.e1.onCashBackActivated,(0,t.Z)(i().mark((function t(){var r,o,l;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(e.IsTrialUser&&s>=5e3)){t.next=2;break}return t.abrupt("return");case 2:r=n.flyoutData.common.domain,o=nr("rewardMap"),n.rewardApplied=o?new Map(JSON.parse(o)):new Map,(l=n.rewardApplied.get(r))?Date.now()-l>=864e5&&n.updatePoints(s,a,r):n.updatePoints(s,a,r),n.StringifyMap(),ir("rewardMap",n.stringifiedMap);case 9:case"end":return t.stop()}}),t)})))),r.append(a),r.append(o),r}},{key:"updatePoints",value:function(t,e,n){ir("rewardPoints",(t+=20).toString()+"&"+Date.now()),setTimeout((function(){rr("rewardPoints")}),36e5),e.textContent=t.toString()+this.flyoutData.strings.rewardPerMaxPoint;var i=new Dh(20,20,n,200);this.logModule.LogInfoEvent(ve.R.RewardsActivity,"rewards points info",i),this.rewardApplied.set(n,Date.now())}},{key:"renderDetails",value:function(t){var e=this.utilities.createElement("DIV");e.className="divRewardDetailsSection";var n=this.renderLinkForMoreDetails();if(t.IsSignedInUser){var i=this.utilities.createElement("DIV");i.textContent=this.flyoutData.strings.rewardDetailPart1;var r=this.utilities.createElement("DIV",{style:"display: inline-block;"});n.textContent=this.flyoutData.strings.rewardRedeem;var o=this.utilities.createElement("div",{style:"float: right;"});o.textContent=this.flyoutData.strings.rewardDetailPart2,r.append(n),r.append(o),e.appendChild(i),e.appendChild(r)}else if(t.IsAssociatedUser){var a=this.utilities.createElement("DIV",{style:"display: inline-block;"}),s=this.renderLinkToSignIn(!0);s.style.position="relative",s.style.top="-4.5px";var l=this.utilities.createElement("div",{style:"display: inline;"});l.textContent=this.flyoutData.strings.rewardAssociateDetails,a.append(s),a.append(l),e.appendChild(a)}else if(null!=t.Points&&t.Points>=5e3){var c=this.utilities.createElement("DIV",{style:"display: inline-block;"});n.textContent=this.flyoutData.strings.rewardRedeemPoints;var u=this.utilities.createElement("div",{style:"float: right;"});u.textContent=this.flyoutData.strings.rewardDetailPart2,c.append(n),c.append(u),e.appendChild(c)}else if(t.IsTrialUser){var d=this.utilities.createElement("DIV");d.textContent=this.flyoutData.strings.rewardDetailPart1;var h=this.utilities.createElement("DIV",{style:"display: inline-block;"}),p=this.renderLinkToSignIn(!1),f=this.utilities.createElement("div",{style:"float: right;"});f.textContent=this.flyoutData.strings.rewardDetailPart2,h.append(p),h.append(f),e.appendChild(d),e.appendChild(h)}return e}},{key:"renderLinkToExploreAdditionalSites",value:function(){var t=this,e=this.utilities.createElement("fluent-anchor");return e.className="divRewardAdditionalLink",e.appearance="lightweight",e.href="#",e.textContent=this.flyoutData.strings.rewardAdditionalLink,e.addEventListener("click",(function(){t.pageHandlerModule.NavigateToMoreRebatesSites()})),e}},{key:"renderLinkToSignIn",value:function(e){var n=this,r=this.utilities.createElement("fluent-anchor",{style:"text-decoration-line: underline;\n                height: 16px;"});return r.appearance="lightweight",r.href="#",r.addEventListener("click",(0,t.Z)(i().mark((function t(){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n.pageHandlerModule.ActivateRewards(!0);case 1:case"end":return t.stop()}}),t)})))),r.textContent=e?this.flyoutData.strings.rewardAssociateSignIn:this.flyoutData.strings.rewardSignIn,r}},{key:"renderLinkForMoreDetails",value:function(){var t=this,e=this.utilities.createElement("fluent-anchor",{style:"text-decoration-line: underline;\n                    height: 16px;"});return e.appearance="lightweight",e.href="#",e.addEventListener("click",(function(){t.pageHandlerModule.NavigateToRedeemRewards()})),e}},{key:"renderIconSetSection",value:function(){var t=this.utilities.createElement("DIV");t.className="divRewardIconSet";var e=this.utilities.createElement("DIV");e.className="divCouponIconSection";var n=this.utilities.createElement("DIV");n.innerHTML=Je.Z.staticPolicy.createHTML(this.assets.getCouponIcon()),n.className="divIconSetIcon";var i=this.utilities.createElement("DIV");i.className="divIconSetMessage",i.textContent=this.flyoutData.strings.rewardCoupons,e.append(n),e.append(i);var r=this.utilities.createElement("DIV");r.className="divCashbackIconSection";var o=this.utilities.createElement("DIV");o.innerHTML=Je.Z.staticPolicy.createHTML(this.assets.getCashbackIcon()),o.className="divIconSetIcon";var a=this.utilities.createElement("DIV");a.className="divIconSetMessage",a.textContent=this.flyoutData.strings.rewardCashback,r.append(o),r.append(a);var s=this.utilities.createElement("DIV");s.className="divRewardIconSection";var l=this.utilities.createElement("DIV");l.innerHTML=Je.Z.staticPolicy.createHTML(this.assets.getRewardIcon()),l.className="divIconSetIcon";var c=this.utilities.createElement("DIV");return c.className="divIconSetMessage",c.textContent=this.flyoutData.strings.rewardRewards,s.append(l),s.append(c),t.appendChild(e),t.appendChild(r),t.appendChild(s),t}},{key:"renderLearnMoreButton",value:function(){var t=this,e=this.utilities.createElement("fluent-button");return e.className+=" actionsButton",e.id="rewardButtonLearnMore",e.textContent=this.flyoutData.strings.rewardButtonTitle,e.appearance="accent",e.addEventListener("click",(function(){t.pageHandlerModule.NavigateToRewardsInfo()})),e}}]),r}(fi),Rh=n(8011),Oh=n(3403);const Lh=(0,n(4734).Z)((t=>{let e=(0,yt.in)(t);if(null!==e)return e;if(e=(0,yt.hg)(t),null!==e)return e;throw new Error(`${t} cannot be converted to a ColorRGBA64. Color strings must be one of the following formats: "#RGB", "#RRGGBB", or "rgb(r, g, b)"`)}));class _h{constructor(t,e,n){this.light=t,this.dark=e,this.source=n,this.attached=null}handleChange(t){this.attach(t.backgroundColor)}attach(t){const e=function(t){return(0,Oh.hM)(Lh(t))}(t)<=Rh.he.DarkMode?"dark":"light";this.attached!==this[e]&&(null!==this.attached&&this.source.$fastController.removeStyles(this.attached),this.attached=this[e],null!==this.attached&&this.source.$fastController.addStyles(this.attached))}}const Nh=f.i`
    .delivery-label.has-shipping-cost {
        color: var(--shipping-cost-color);
    }
`,Hh=f.i`
    .delivery-label.has-shipping-cost {
        color: var(--shipping-cost-color-dark-mode);
    }
`,Fh=f.i`
    :host {
        --content-max-lines: 2;
        --corner-radius: 4;
        --shipping-cost-color: #9d6600;
        --shipping-cost-color-dark-mode: #bc9751;
        outline: none;
        font-family: var(--body-font);
        font-size: var(--type-ramp-minus-1-font-size);
        font-weight: 500;
        line-height: var(--type-ramp-minus-1-line-height);
        min-width: calc(${B.i} * 1px);
        border-radius: calc(var(--elevated-corner-radius) * 1px);
        box-sizing: border-box;
        color: ${v.sp.var};
        fill: currentcolor;
        min-height: 78px;
        display: block;
    }

    :host(:active) {
        background-color: ${v.a.var};
    }

    .control {
        display: grid;
        grid-template-columns: 1fr 90px;
        grid-column-gap: 8px;
        box-sizing: border-box;
        background: transparent;
        justify-content: center;
        align-items: flex-start;
        padding: 5px 0;
        padding-inline: 12px;
        padding-block: 13px 12px;
        outline: none;
        text-decoration: none;
        border: calc(var(--outline-width) * 1px) solid transparent;
        color: inherit;
        border-radius: inherit;
        fill: inherit;
        cursor: inherit;
        font-family: inherit;
        width: 100%;
        height: 100%;
        --elevation: 4;
        min-height: 78px;
        ${ut.XC};
    }

    .price-container {
        grid-column: 2;
        grid-row: 1;
        display: flex;
        flex-direction: column;
        justify-self: end;
        align-items: flex-end;
        justify-content: center;
        font-size: var(--type-ramp-plus-1-font-size);
        text-overflow: ellipsis;
        height: 100%;
        overflow: hidden;
        min-height: var(--type-ramp-minus-1-line-height);
        max-width: 90px;
        min-height: 12px;
    }

    .action-button {
        height: 24px;
        margin: 0 1px;
    }

    .action-button::part(control) {
        max-height: 24px;
        padding: 0 8px;
        font-size: 12px;
    }

    .shipper-link::part(control) {
        text-decoration: none;
        border-bottom: none;
        margin: calc(var(--outline-width) * 1px);
    }

    .shipper-link::part(control):focus {
        border: calc(var(--outline-width) * 1px) solid var(--neutral-focus);
        margin: 0;
    }

    .item-title {
        margin-bottom: 5px;
    }

    .delivery-label,
    .shipper-label,
    .rating-label {
        color: var(--neutral-foreground-hint);
    }

    .shipper-link {
        font-weight: 400;
    }

    .content {
        display: flex;
        flex-direction: column;
        align-items: flex-start;
        justify-content: space-between;
    }

    .item-price {
        overflow: hidden;
        text-overflow: ellipsis;
        padding-inline-end: 4px;
        font-weight: 600;
        margin-block-end: 7px;
    }

    @media (max-width: 655px) {
        :host {
            max-width: 602px;
        }
    }
`.withBehaviors(new class{constructor(t,e){this.cache=new WeakMap,this.light=t,this.dark=e}bind(t){const e=C.hO.findProvider(t);null!==e&&(e.$fastController&&e.$fastController.isConnected?this.attach(t,e):(Array.isArray(e.disconnectedRegistry)||(e.disconnectedRegistry=[]),e.disconnectedRegistry.push(this.attach.bind(this,t))))}unbind(t){const e=this.cache.get(t);e&&s.y$.getNotifier(e[0].designSystem).unsubscribe(e[1])}attach(t,e){const n=new _h(this.light,this.dark,t);s.y$.getNotifier(e.designSystem).subscribe(n,"backgroundColor"),n.attach(e.designSystem.backgroundColor),this.cache.set(t,[e,n])}}(Nh,Hh),v.a,v.oK,v.sp,v.BO,v.i2);pe.X;const Zh=c.d`
    <fluent-button
        appearance="accent"
        class="action-button"
        aria-label="${t=>t.actionButtonAriaLabel}"
        aria-describedby="${t=>t.itemTitleId} ${t=>t.deliveryLabelId} ${t=>t.deliveryInfoId} ${t=>t.shipperLabelId} ${t=>t.shipperLinkId} ${t=>t.ratingLabelId} ${t=>t.ratingId}"
        @click="${t=>t.onClickHandler()}"
        @keyup="${(t,e)=>t.onKeyPressHandler(e.event)}"
    >
        ${t=>t.actionButtonText}
    </fluent-button>
`,Bh=c.d`
    <div class="control" part="control">
        <div class="price-container" part="price-container">
            <span class="item-price" part="item-price">${t=>t.itemPrice}</span>
            ${(0,h.g)((t=>t.actionButtonText),c.d` ${Zh} `)}
        </div>
        <div class="content" part="content">
            <div class="item-title" id="${t=>t.itemTitleId}">
                ${t=>t.itemTitle}
            </div>
            <div>
                <div>
                    <span
                        id="${t=>t.deliveryLabelId}"
                        class="delivery-label ${t=>t.hasShippingCost?"has-shipping-cost":""}"
                        part="delivery-label"
                        >${t=>t.deliveryLabel}</span
                    >
                    <span
                        id="${t=>t.deliveryInfoId}"
                        class="delivery-info"
                        part="delivery-info"
                        >${t=>t.deliveryInfo}</span
                    >
                </div>
                <div>
                    <span
                        class="shipper-label"
                        part="shipper-label"
                        id="${t=>t.shipperLabelId}"
                        >${t=>t.shipperLabel}</span
                    >
                    <fluent-anchor
                        id="${t=>t.shipperLinkId}"
                        appearance="hypertext"
                        class="shipper-link"
                        part="shipper-link"
                        href="${t=>t.shipperUrl}"
                        @click="${t=>t.linkClickHandler()}"
                        @keyup="${(t,e)=>t.linkKeyPressHandler(e.event)}"
                        >${t=>t.shipperName}</fluent-anchor
                    >
                </div>
                ${(0,h.g)((t=>t.rating),c.d`
                        <div>
                            <span
                                class="rating-label"
                                part="rating-label"
                                id="${t=>t.ratingLabelId}"
                                >${t=>t.ratingLabel}</span
                            >
                            <span id="${t=>t.ratingId}" class="rating" part="rating"
                                >${t=>t.rating}</span
                            >
                        </div>
                    `)}
            </div>
        </div>
    </div>
`;class $h extends o.H{constructor(){super(...arguments),this.hasShippingCost=!1,this.itemTitleId=st("itemTitleId"),this.deliveryLabelId=st("deliveryLabelId"),this.deliveryInfoId=st("deliveryInfoId"),this.shipperLabelId=st("shipperLabelId"),this.ratingLabelId=st("ratingLabelId"),this.ratingId=st("ratingId"),this.shipperLinkId=st("shipperLinkId"),this.onKeyPressHandler=t=>{switch(t.keyCode){case 32:t.preventDefault(),this.onClickHandler()}},this.linkKeyPressHandler=t=>{switch(t.keyCode){case 32:t.preventDefault(),this.linkClickHandler()}}}onClickHandler(){this.$emit("add-to-cart")}linkClickHandler(){this.$emit("link-invoked")}}(0,r.gn)([(0,a.Lj)({attribute:"item-title"})],$h.prototype,"itemTitle",void 0),(0,r.gn)([(0,a.Lj)({attribute:"item-price"})],$h.prototype,"itemPrice",void 0),(0,r.gn)([(0,a.Lj)({attribute:"delivery-label"})],$h.prototype,"deliveryLabel",void 0),(0,r.gn)([(0,a.Lj)({attribute:"delivery-info"})],$h.prototype,"deliveryInfo",void 0),(0,r.gn)([(0,a.Lj)({attribute:"shipper-label"})],$h.prototype,"shipperLabel",void 0),(0,r.gn)([(0,a.Lj)({attribute:"shipper-name"})],$h.prototype,"shipperName",void 0),(0,r.gn)([(0,a.Lj)({attribute:"rating-label"})],$h.prototype,"ratingLabel",void 0),(0,r.gn)([(0,a.Lj)({attribute:"rating"})],$h.prototype,"rating",void 0),(0,r.gn)([(0,a.Lj)({attribute:"shipper-url"})],$h.prototype,"shipperUrl",void 0),(0,r.gn)([(0,a.Lj)({attribute:"has-shipping-cost",mode:"boolean"})],$h.prototype,"hasShippingCost",void 0),(0,r.gn)([(0,a.Lj)({attribute:"action-button-text"})],$h.prototype,"actionButtonText",void 0),(0,r.gn)([(0,a.Lj)({attribute:"action-button-aria-label"})],$h.prototype,"actionButtonAriaLabel",void 0);let Uh=class extends $h{};Uh=(0,r.gn)([(0,o.M)({name:"msft-shopping-similar-seller",styles:Fh,template:Bh,shadowOptions:{delegatesFocus:!0}})],Uh);var Vh=function(){function t(){(0,ye.Z)(this,t)}return(0,Ce.Z)(t,[{key:"getStyles",value:function(){return"\n            .divNotificationContent {\n                text-align: center;\n                overflow: hidden;\n                margin-top: -10px;\n            }\n            ::part(sections) {\n            height: 25px!important;\n        }"}}]),t}(),Gh=function(){function t(){(0,ye.Z)(this,t),(0,Se.Z)(this,"stringValue",void 0)}return(0,Ce.Z)(t,null,[{key:"Create",value:function(e){var n=new t;return n.stringValue=e.stringValue,n}}]),t}(),jh=function(){function e(){(0,ye.Z)(this,e)}var n,r;return(0,Ce.Z)(e,null,[{key:"shouldRenderConfirmationNotification",value:(r=(0,t.Z)(i().mark((function t(n,r){var o;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("amazon.com"===r.common.domain){t.next=2;break}return t.abrupt("return",Promise.resolve(!1));case 2:if(n.TriggerExperiment(Qe.H.showAmazonOtherSellers),r.experimentData.isExperimentActive(Qe.H.showAmazonOtherSellers)){t.next=6;break}return t.abrupt("return",Promise.resolve(!1));case 6:return t.next=8,e.getOtherSellerConfirmationData(n,r);case 8:if(!(o=t.sent)||!0!==o.ProductAddedNotification){t.next=11;break}return t.abrupt("return",Promise.resolve(!0));case 11:return t.abrupt("return",Promise.resolve(!1));case 12:case"end":return t.stop()}}),t)}))),function(t,e){return r.apply(this,arguments)})},{key:"getOtherSellerConfirmationData",value:(n=(0,t.Z)(i().mark((function t(e,n){var r,o,a,s;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.GetStorageValue("OtherSellersConfirmationData");case 3:if(!(r=t.sent)){t.next=10;break}if(!(o=r)||!o.value){t.next=10;break}if(!(s=null===(a=Gh.Create(r.value))||void 0===a?void 0:a.stringValue)){t.next=10;break}return t.abrupt("return",Promise.resolve(JSON.parse(s)));case 10:t.next=16;break;case 12:return t.prev=12,t.t0=t.catch(0),t.abrupt("return",Promise.resolve(null));case 16:return t.abrupt("return",Promise.resolve(null));case 17:case"end":return t.stop()}}),t,null,[[0,12]])}))),function(t,e){return n.apply(this,arguments)})}]),e}();function zh(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=(0,De.Z)(t);if(e){var r=(0,De.Z)(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return(0,ke.Z)(this,n)}}var Wh=function(e){(0,Ie.Z)(c,e);var n,r,o,a,s,l=zh(c);function c(t,e){var n;return(0,ye.Z)(this,c),n=l.call(this),(0,Se.Z)((0,Ae.Z)(n),"flyoutData",void 0),(0,Se.Z)((0,Ae.Z)(n),"utilities",void 0),(0,Se.Z)((0,Ae.Z)(n),"pageHandlerModule",void 0),(0,Se.Z)((0,Ae.Z)(n),"logModule",void 0),(0,Se.Z)((0,Ae.Z)(n),"assets",void 0),(0,Se.Z)((0,Ae.Z)(n),"commonAssets",void 0),(0,Se.Z)((0,Ae.Z)(n),"shouldRenderSimilarSellers",void 0),(0,Se.Z)((0,Ae.Z)(n),"otherSellersData",void 0),n.flyoutData=t,n.utilities=e.viewModulesUtilities,n.pageHandlerModule=e.pageHandlerModule,n.logModule=e.logModule,n.assets=new Vh,n.commonAssets=new be,n.setShouldShowOtherSellersModule(),n}return(0,Ce.Z)(c,[{key:"GetModuleName",value:function(){return xe.GX.SIMILARSELLERS}},{key:"ShouldRenderModule",value:(s=(0,t.Z)(i().mark((function t(){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(void 0===this.shouldRenderSimilarSellers){t.next=2;break}return t.abrupt("return",this.shouldRenderSimilarSellers);case 2:return t.next=4,this.setShouldShowOtherSellersModule();case 4:return t.abrupt("return",!!this.shouldRenderSimilarSellers);case 5:case"end":return t.stop()}}),t,this)}))),function(){return s.apply(this,arguments)})},{key:"populateMainHeader",value:function(){var t,e,n=this.flyoutData.common.shopping;if(n&&this.otherSellersData&&(null===(t=this.otherSellersData)||void 0===t||null===(e=t.otherSellers)||void 0===e?void 0:e.length)>0){var i=this.utilities.replaceValueInKey(this.flyoutData.strings.similarSellerString,"$$");try{var r,o=parseFloat(this.otherSellersData.productPrice.replace("$",""))-parseFloat(null===(r=this.otherSellersData.otherSellers[0])||void 0===r?void 0:r.price.replace("$","")),a=this.otherSellersData.otherSellers[0].delivery.split(" ");if((null==a?void 0:a.length)>0&&a[0]){var s=parseFloat(a[0].replace("$",""));isNaN(s)||(o-=s)}o>0&&(i=this.utilities.replaceValueInKey(this.flyoutData.strings.similarSellerString,"$"+o.toFixed(2)))}catch(t){}var l=this.utilities.createElement("H2");l.innerText=i,l.className="txtLarge",l.style.textAlign="center",l.style.fontWeight="500";var c=i;l.textContent=c,l.slot="header-content",n.appendChild(l)}}},{key:"renderModule",value:(a=(0,t.Z)(i().mark((function t(){var e,n,r,o,a,s,l,c;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,(e=this.utilities.createElement("msft-edge-shopping-section")).id="similarSellerDiv",this.flyoutData.common.openedWith!==xe.Te.Auto||this.flyoutData.common.popupOrigination!==hi.s.AUTO_SHOW_ITEM_ADDED_TO_CART_FROM_OTHER_SELLER){t.next=9;break}return t.next=7,this.renderSimilarSellerNotification();case 7:t.next=20;break;case 9:if(!(this.otherSellersData&&(null===(n=this.otherSellersData.otherSellers)||void 0===n?void 0:n.length)>0)){t.next=20;break}return r=function(t){var e=xe.CS.SIMILARSELLERS;return t&&"viewAll"===s.common.bannerContext&&(e=t.length),e},o=function t(){if(e){var n=e.shadowRoot;if(n){var i=n.querySelector("fluent-accordion-item");if(i&&!i.classList.contains("expanded")){l.RecordAsContentViewed(dr.r.OTHER_SELLER);var r=new Jn.Z(ve.$S.ExpandedSimilarSellers);c.LogInfoEvent(ve.R.ButtonClick,"Similar Seller section was expanded",r,ei.g.CouponImpressionId),e&&e.removeEventListener("click",t)}}}},a=this.flyoutData.strings.similarSellerStringCollapsed,this.populateOtherSellersList(e,!1,!1),s=this.flyoutData,this.utilities.createCommonListStructure(e,a,this.otherSellersData.otherSellers,r,this.populateOtherSellersList.bind(this)),e.addEventListener("click",o),l=this.pageHandlerModule,c=this.logModule,t.abrupt("return",Promise.resolve(this.CreateModule(e,xe.H7.SIMILARSELLERS,xe.GX.SIMILARSELLERS)));case 20:t.next=26;break;case 22:return t.prev=22,t.t0=t.catch(0),t.abrupt("return",Promise.resolve(null));case 26:return t.abrupt("return",Promise.resolve(null));case 27:case"end":return t.stop()}}),t,this,[[0,22]])}))),function(){return a.apply(this,arguments)})},{key:"renderSimilarSellerNotification",value:(o=(0,t.Z)(i().mark((function t(){var e,n,r,o,a,s,l,c;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.utilities.applyStyles(this.flyoutData.common.shopping,this.assets.getStyles()),t.next=3,jh.getOtherSellerConfirmationData(this.pageHandlerModule,this.flyoutData);case 3:e=t.sent,(n=this.flyoutData.common.shopping)&&(this.utilities.applyStyles(this.flyoutData.common.shopping,this.assets.getStyles()),(r=this.utilities.createElement("DIV",{id:"productAddedPopup"})).slot="header-content",(o=this.utilities.createElement("DIV",{class:"txtMedium"})).className="divNotificationContent",a="",a=null!=e&&e.Success?this.utilities.replaceValueInKey(this.flyoutData.strings.similarSellerNotificationTitle,"$"+e.Savings):this.flyoutData.strings.similarSellerNotificationError,s=this.utilities.createElement("H2",{style:"margin: 0px; font-weight: 500; font-size: 24px; line-height: 34px;"},a),o.appendChild(s),r.appendChild(o),n.appendChild(r),null!=e&&e.Success&&(l=this.createAddedToCartButton())&&n.appendChild(l),c=new ge.Z(ve.xu.AddedToCartNotification),this.logModule.LogInfoEvent(ve.R.EdgeFlyoutStatus,"User saw other seller added to cart notification",c,ei.g.CouponImpressionId));case 6:case"end":return t.stop()}}),t,this)}))),function(){return o.apply(this,arguments)})},{key:"populateOtherSellersList",value:function(t,e,n){var i,r,o=null===(i=this.otherSellersData)||void 0===i?void 0:i.otherSellers,a=null===(r=this.otherSellersData)||void 0===r?void 0:r.productPrice;if(o){var s=0;o.length>0&&(s=o.length);var l=0;e?l=xe.CS.SIMILARSELLERS:s>xe.CS.SIMILARSELLERS&&(s=xe.CS.SIMILARSELLERS);for(var c=l;c<s;c++){var u=o[c],d=this.createSellerTile(u,null!=a?a:"",c);t.appendChild(d),c===l&&e&&n&&this.flyoutData.common.currentDevice===xe.AS.Desktop&&d.focus()}}}},{key:"setShouldShowOtherSellersModule",value:(r=(0,t.Z)(i().mark((function t(){var e;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("amazon.com"===this.flyoutData.common.domain){t.next=4;break}return this.shouldRenderSimilarSellers=!1,t.abrupt("return");case 4:if(this.pageHandlerModule.TriggerExperiment(Qe.H.showAmazonOtherSellers),this.flyoutData.experimentData.isExperimentActive(Qe.H.showAmazonOtherSellers)){t.next=9;break}return this.shouldRenderSimilarSellers=!1,t.abrupt("return");case 9:return t.next=11,this.getSimilarSellersData();case 11:this.otherSellersData=t.sent,this.otherSellersData&&(null===(e=this.otherSellersData.otherSellers)||void 0===e?void 0:e.length)>0&&(this.shouldRenderSimilarSellers=!0);case 13:case"end":return t.stop()}}),t,this)}))),function(){return r.apply(this,arguments)})},{key:"getSimilarSellersData",value:(n=(0,t.Z)(i().mark((function t(){var e,n,r,o,a;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.pageHandlerModule.GetStorageValue("OtherSellersData");case 3:if(!(e=t.sent)||""===e){t.next=10;break}if(!(n=e)){t.next=10;break}if(!((o=this.deserializeStorageData(null==n?void 0:n.value))&&(null===(r=o.otherSellers)||void 0===r?void 0:r.length)>0)){t.next=10;break}return t.abrupt("return",Promise.resolve(o));case 10:t.next=17;break;case 12:t.prev=12,t.t0=t.catch(0),a=new ge.Z(ve.xu.OtherSeller),this.logModule.LogInfoEvent(ve.R.EdgeFlyoutStatus,"Failed to deserialize data",a,ei.g.CouponImpressionId);case 17:return t.abrupt("return",Promise.resolve(null));case 18:case"end":return t.stop()}}),t,this,[[0,12]])}))),function(){return n.apply(this,arguments)})},{key:"deserializeStorageData",value:function(t){var e,n=null===(e=Gh.Create(t))||void 0===e?void 0:e.stringValue;if(n)return JSON.parse(n)}},{key:"createAddedToCartButton",value:function(){var t=this.utilities.createElement("fluent-button"),e=this.utilities.createElement("DIV");return e.innerHTML=Je.Z.staticPolicy.createHTML(this.commonAssets.getGreenCheck()),e.slot="start",e.setAttribute("aria-hidden","true"),t.disabled=!0,t.slot="actions",t.textContent=this.flyoutData.strings.similarSellerAddedToCartTitle,t.appendChild(e),t.style.backgroundColor="transparent",t.style.boxSizing="border-box",t.style.borderRadius="4px",t.style.opacity="1",t.style.border="1px solid rgba(0, 0, 0, 0.07)",t.style.maxWidth="218px",t.style.width="100%",t.style.marginTop="10px",this.flyoutData.common.currentTheme===xe.Q2.Dark?(t.style.color="#FFFFFF",t.style.borderColor="#FFFFFF"):t.style.color="#000000",t}},{key:"createSellerTile",value:function(t,e,n){var i=this,r=this.utilities.createElement("msft-shopping-similar-seller");try{if(r.actionButtonText=this.flyoutData.strings.similarSellerAddToCartTitle,r.actionButtonAriaLabel=this.flyoutData.strings.similarSellerAddToCartAriaLable,r.onClickHandler=function(){try{var r=new Jn.Z(ve.$S.AddToCart);i.pageHandlerModule.RecordAsUserAction(ni.b.ADD_TO_CART_FROM_OTHER_SELLER),i.pageHandlerModule.AddItemFromOtherSeller(JSON.stringify({OtherSeller:{ItemIndex:n,ItemPrice:t.price.replace("$",""),OriginalItemPrice:e.replace("$","")},SkipAutoApply:!0})),i.logModule.LogInfoEvent(ve.R.ButtonClick,"Added to the cart",r,ei.g.CouponImpressionId)}catch(t){}},r.itemTitle=t.heading,r.itemTitleId=t.heading,r.itemPrice=t.price,t.delivery){var o=t.delivery.replace(/  |\r\n|\n|\r/gm," ").trim().split(":"),a="",s="";o.length<2?(o=t.delivery.split("FREE Delivery"),a=this.flyoutData.strings.similarSellerFreeDelivery,o.length>=2&&(s=o[1].trim())):(a=o[0].trim(),s=o[1].trim()),s=(s=(s=s&&s.indexOf("Fastest")>=0?s.substring(0,s.indexOf("Fastest")).trim():s)&&s.indexOf("Order")>=0?s.substring(0,s.indexOf("Order")).trim():s)&&s.indexOf("Details")>=0?s.substring(0,s.indexOf("Details")).trim():s,r.deliveryLabel=a+": ",r.deliveryLabelId=r.deliveryLabel,r.deliveryInfo=s,r.deliveryInfoId=s,a.includes("$")&&(r.hasShippingCost=!0)}r.shipperLabel=this.flyoutData.strings.similarSellerShipFromString,r.shipperLabelId=this.flyoutData.strings.similarSellerShipFromString,r.shipperName=c.CapitalizeText(t.soldBy.toString());var l=t.soldBy.split(" ");return(null==l?void 0:l.length)>=4&&(r.shipperName=l.slice(-2).join(" ")),r.shipperLinkId=r.shipperName,this.flyoutData.dataLoader.IsServerData()&&t.sellerUrl&&(r.shipperUrl="https://www.amazon.com/"+t.sellerUrl,r.linkClickHandler=function(){i.navigateToOtherSeller(r.shipperUrl,qn.NEW_FOREGROUND_TAB)}),t.rating&&(r.ratingLabel=this.flyoutData.strings.similarSellerRatingLabel,r.ratingLabelId=this.flyoutData.strings.similarSellerRatingLabel,r.rating=t.rating.toString(),r.ratingId=r.rating),r}catch(t){}return new HTMLElement}},{key:"navigateToOtherSeller",value:function(t,e){var n=new Jn.Z(ve.$S.NavigateToOtherSeller);this.pageHandlerModule.RecordAsUserAction(ni.b.ADD_TO_CART_FROM_OTHER_SELLER),this.logModule.LogInfoEvent(ve.R.ButtonClick,"Clicked on other seller link",n),this.pageHandlerModule.NavigateToOtherSellerWithDisposition(t,e)}}],[{key:"CapitalizeText",value:function(t){if(t){var e="";return t.split(" ").forEach((function(t){t.length>0&&(e+=t[0].toUpperCase()+t.substring(1)+" ")})),e.substring(0,e.length-1)}return t}}]),c}(fi),Yh=function(){function t(){(0,ye.Z)(this,t)}return(0,Ce.Z)(t,[{key:"getStyles",value:function(){return"\n            .iconDiv {\n                display: flex;\n                flex-direction: column;\n                align-items: center;\n                justify-content: center;\n                margin-inline-end: 12px;\n                overflow: hidden;\n                background: rgba(0, 0, 0, 0.02);\n                border: 1px solid transparent;\n                border-radius: calc(var(--corner-radius) * 2px);\n            }\n            .tipsDiv {\n                box-shadow: 0 0 calc((var(--elevation) * 0.225px) + 2px) rgba(0, 0, 0, calc(0.11 * (2 - var(--background-luminance, 1)))), 0 calc(var(--elevation) * 0.4px) calc((var(--elevation) * 0.9px)) rgba(0, 0, 0, calc(0.13 * (2 - var(--background-luminance, 1))));\n            }\n            .restIcon:hover path{\n                stroke: #000;\n            }\n            .feedbackIcon {\n                width: 25px;\n                height: 25px;\n                display: flex;\n                align-items: center;\n                justify-content: center;\n                cursor: pointer;\n            }\n            @media (prefers-color-scheme: dark) {\n                .restIcon path {\n                    stroke: #FFFFFF!important;\n                }\n                .restIcon:hover path {\n                    stroke: #FFFFFF!important;\n                }\n                .fillIcon path {\n                    fill: #52A3E2!important;\n                }\n            }\n            @media (forced-colors: active) {\n                .restIcon path {\n                    fill: highlight!important;\n                }\n                .restIcon:hover path {\n                    fill: highlight!important;\n                }\n                .fillIcon path {\n                    fill: highlight!important;\n                }\n            }\n            "}},{key:"getFillLikeIcon",value:function(){return'<svg class="fillIcon" width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">\n        <path d="M10.0377 6.54467C10.3449 5.59327 10.5 4.76053 10.5 4.04247C10.5 2.44333 9.874 1.21087 8.83334 1.21087C8.3002 1.21087 8.11474 1.51067 7.91167 2.24187L7.7318 2.92287C7.66454 3.162 7.54733 3.5692 7.38047 4.14353C7.376 4.15893 7.36947 4.17347 7.36087 4.1868L5.44971 7.17727C4.99768 7.88453 4.3307 8.4282 3.54678 8.7284L2.70862 9.04927C2.17971 9.2518 1.87263 9.80489 1.98044 10.3609L2.43788 12.72C2.54931 13.2947 2.98484 13.752 3.55337 13.8914L9.05307 15.2393C10.7405 15.6529 12.4461 14.6296 12.8754 12.9461L13.9246 8.83093C14.1748 7.8498 13.5822 6.85167 12.6011 6.60147C12.4531 6.56373 12.3009 6.54467 12.1481 6.54467L10.0377 6.54467Z" fill="#0078D4"/>\n        </svg>'}},{key:"getRestLikeIcon",value:function(){return'<svg class="restIcon" width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">\n        <path d="M10.9998 4.0102C10.9998 2.38227 10.2397 1.21107 8.99551 1.21107C8.34558 1.21107 8.10124 1.57293 7.86811 2.40827L7.73071 2.92287C7.66337 3.162 7.54618 3.5692 7.37938 4.14353C7.37491 4.15893 7.36831 4.17346 7.35978 4.1868L5.44858 7.17727C4.99655 7.88453 4.32957 8.4282 3.54565 8.7284L3.23013 8.8492C2.39897 9.1674 1.91642 10.0366 2.08584 10.9103L2.3555 12.301C2.51645 13.1311 3.14556 13.7917 3.96677 13.993L9.05191 15.2393C10.7394 15.6529 12.445 14.6296 12.8742 12.9461L13.8175 9.2466C14.1132 8.08713 13.4128 6.90747 12.2533 6.6118C12.0784 6.5672 11.8986 6.54467 11.718 6.54467L10.5024 6.54467C10.8332 5.45607 10.9998 4.6162 10.9998 4.0102ZM3.06755 10.7199C2.99055 10.3228 3.20989 9.92771 3.58769 9.78306L3.90321 9.66226C4.88695 9.2856 5.72394 8.60333 6.2912 7.7158L8.20237 4.72533C8.26237 4.6314 8.30864 4.52933 8.33971 4.42233L8.70764 3.14213L8.84877 2.6146C8.94171 2.28927 8.98851 2.21107 8.99551 2.21107C9.57397 2.21107 9.99977 2.86713 9.99977 4.0102C9.99977 4.59987 9.78257 5.5672 9.34391 6.88693C9.23631 7.2106 9.47724 7.54467 9.81837 7.54467L11.718 7.54467C11.8152 7.54467 11.912 7.5568 12.0062 7.5808C12.6306 7.74 13.0077 8.3752 12.8485 8.99953L11.9052 12.699C11.6115 13.8509 10.4446 14.551 9.28997 14.2681L4.20483 13.0217C3.76263 12.9133 3.42389 12.5576 3.33722 12.1107L3.06755 10.7199Z" fill="#959595"/>\n        </svg>'}},{key:"getFillDislikeIcon",value:function(){return'<svg class="fillIcon" width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">\n        <path d="M10.0376 9.78639C10.3448 10.7378 10.4999 11.5705 10.4999 12.2886C10.4999 13.8877 9.87388 15.1202 8.83321 15.1202C8.30008 15.1202 8.11461 14.8204 7.91155 14.0892L7.73168 13.4082C7.66441 13.1691 7.54721 12.7619 7.38035 12.1875C7.37588 12.1721 7.36935 12.1576 7.36075 12.1443L5.44959 9.15379C4.99756 8.44652 4.33058 7.90286 3.54666 7.60266L2.7085 7.28179C2.17959 7.07925 1.8725 6.52616 1.98032 5.97016L2.43776 3.61105C2.54919 3.03639 2.98472 2.57905 3.55325 2.4397L9.05295 1.09175C10.7404 0.678155 12.446 1.70144 12.8753 3.385L13.9245 7.50012C14.1747 8.48125 13.5821 9.47939 12.6009 9.72959C12.4529 9.76732 12.3007 9.78639 12.148 9.78639H10.0376Z" fill="#0078D4"/>\n        </svg>'}},{key:"getRestDislikeIcon",value:function(){return'<svg class="restIcon" width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">\n        <path d="M10.9998 11.9898C10.9998 13.6177 10.2397 14.7889 8.99551 14.7889C8.34557 14.7889 8.10124 14.4271 7.86811 13.5917L7.73071 13.0771C7.66337 12.838 7.54617 12.4308 7.37937 11.8565C7.37491 11.8411 7.36831 11.8265 7.35977 11.8132L5.44858 8.82273C4.99655 8.11547 4.32957 7.5718 3.54565 7.2716L3.23013 7.1508C2.39897 6.8326 1.91642 5.96342 2.08584 5.08971L2.3555 3.69899C2.51645 2.86893 3.14556 2.20833 3.96677 2.00705L9.05191 0.760694C10.7394 0.347101 12.445 1.37039 12.8742 3.05394L13.8175 6.7534C14.1132 7.91287 13.4128 9.09253 12.2533 9.3882C12.0784 9.4328 11.8986 9.45533 11.718 9.45533H10.5024C10.8332 10.5439 10.9998 11.3838 10.9998 11.9898ZM3.06755 5.28007C2.99055 5.67721 3.20989 6.07229 3.58769 6.21694L3.90321 6.33774C4.88695 6.7144 5.72394 7.39667 6.2912 8.2842L8.20237 11.2747C8.26237 11.3686 8.30864 11.4707 8.33971 11.5777L8.70764 12.8579L8.84877 13.3854C8.94171 13.7107 8.98851 13.7889 8.99551 13.7889C9.57397 13.7889 9.99977 13.1329 9.99977 11.9898C9.99977 11.4001 9.78257 10.4328 9.34391 9.11307C9.23631 8.7894 9.47724 8.45533 9.81837 8.45533H11.718C11.8152 8.45533 11.912 8.4432 12.0062 8.4192C12.6306 8.26 13.0077 7.6248 12.8485 7.00047L11.9052 3.30101C11.6115 2.14911 10.4446 1.44896 9.28997 1.73195L4.20483 2.9783C3.76263 3.08668 3.42389 3.44239 3.33722 3.88935L3.06755 5.28007Z" fill="#959595"/>\n        </svg>'}}]),t}();function qh(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=(0,De.Z)(t);if(e){var r=(0,De.Z)(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return(0,ke.Z)(this,n)}}var Xh=function(e){(0,Ie.Z)(s,e);var n,r,o,a=qh(s);function s(t,e){var n;return(0,ye.Z)(this,s),n=a.call(this),(0,Se.Z)((0,Ae.Z)(n),"tipsFeedbackStorageKey",void 0),(0,Se.Z)((0,Ae.Z)(n),"flyoutData",void 0),(0,Se.Z)((0,Ae.Z)(n),"utilities",void 0),(0,Se.Z)((0,Ae.Z)(n),"pageHandlerModule",void 0),(0,Se.Z)((0,Ae.Z)(n),"logModule",void 0),(0,Se.Z)((0,Ae.Z)(n),"assets",void 0),(0,Se.Z)((0,Ae.Z)(n),"likeButtonClickState",void 0),(0,Se.Z)((0,Ae.Z)(n),"disLikeButtonClickState",void 0),n.tipsFeedbackStorageKey="TipsFeedback",n.flyoutData=t,n.utilities=e.viewModulesUtilities,n.pageHandlerModule=e.pageHandlerModule,n.logModule=e.logModule,n.likeButtonClickState=!1,n.disLikeButtonClickState=!1,n.assets=new Yh,n}return(0,Ce.Z)(s,[{key:"GetModuleName",value:function(){return xe.GX.TIPS}},{key:"ShouldRenderModule",value:function(){var t=this.hasTips();this.pageHandlerModule.TriggerExperiment(Qe.H.showNudgeTips);var e=this.flyoutData.experimentData.isExperimentActive(Qe.H.showNudgeTips);return Promise.resolve(t&&e)}},{key:"populateMainHeader",value:function(){var t,e,n=this.flyoutData.common.shopping;if(n&&this.flyoutData.dataStoreModule.NudgeTipsData&&(null===(t=this.flyoutData.dataStoreModule.NudgeTipsData)||void 0===t||null===(e=t.Tips)||void 0===e?void 0:e.length)>0){var i=this.utilities.createElement("H2");i.className="txtLarge",i.style.textAlign="center",i.style.fontWeight="500";var r=this.flyoutData.dataStoreModule.NudgeTipsData.Tips.length>1?this.utilities.replaceValueInKey(this.flyoutData.strings.tipsMainTitle,this.flyoutData.dataStoreModule.NudgeTipsData.Tips.length.toString()):this.flyoutData.strings.tipsTiltleSingle;i.textContent=r,i.slot="header-content",n.appendChild(i)}}},{key:"renderModule",value:function(){var t;this.utilities.applyStyles(this.flyoutData.common.shopping,this.assets.getStyles());var e=this.utilities.createElement("msft-edge-shopping-section"),n=null===(t=this.flyoutData.dataStoreModule.NudgeTipsData)||void 0===t?void 0:t.Tips;if(n){var i,r=n.length>1?this.utilities.replaceValueInKey(this.flyoutData.strings.tipsSubTitle,n.length.toString()):this.flyoutData.strings.tipsSubTitleSingle;this.populateTipsList(e,!1,!1);var o=this.flyoutData;this.utilities.createCommonListStructure(e,r,null===(i=this.flyoutData.dataStoreModule.NudgeTipsData)||void 0===i?void 0:i.Tips,(function(t){var e=xe.CS.TIPS;return t&&"viewAll"===o.common.bannerContext&&(e=t.length),e}),this.populateTipsList.bind(this));var a=new Jn.Z(ve.$S.NavigateToRetailerOffer);this.logModule.LogInfoEvent(ve.R.ButtonClick,"Clicked on retailer offer",a)}return Promise.resolve(this.CreateModule(e,xe.H7.TIPS,xe.GX.TIPS))}},{key:"hasTips",value:function(){var t,e=this.flyoutData.dataStoreModule.NudgeTipsData;return null!==(t=e&&e.Tips&&e.Tips.length>0)&&void 0!==t&&t}},{key:"populateTipsList",value:(o=(0,t.Z)(i().mark((function t(e,n,r){var o,a,s,l,c,u,d;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(a=null===(o=this.flyoutData.dataStoreModule.NudgeTipsData)||void 0===o?void 0:o.Tips)){t.next=17;break}s=0,a.length>0&&(s=a.length),l=0,n?l=xe.CS.TIPS:s>xe.CS.TIPS&&(s=xe.CS.TIPS),c=l;case 7:if(!(c<s+1)){t.next=17;break}return u=a[c],t.next=11,this.createTipTile(u,c,a.length);case 11:d=t.sent,e.appendChild(d),c===l&&n&&r&&this.flyoutData.common.currentDevice===xe.AS.Desktop&&d.focus();case 14:c++,t.next=7;break;case 17:case"end":return t.stop()}}),t,this)}))),function(t,e,n){return o.apply(this,arguments)})},{key:"createTipTile",value:(r=(0,t.Z)(i().mark((function t(e,n,r){var o,a,s,l,c,u,d,h,p,f,g,v,m,y,C,b=this;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n!==r){t.next=41;break}if(!this.showFeedbackSection()){t.next=40;break}return o=this.utilities.createElement("DIV",{style:"background: transparent;\n                --elevation: 5;\n                overflow: hidden;\n                align-items: center;\n                text-align: left;\n                display: table;\n                width: 100%;"}),a=this.utilities.createElement("DIV",{style:"position: relative; height: 100%; display: grid; grid-template-columns: auto 0% auto; margin-right: -120px;"}),o.appendChild(a),s=this.utilities.createElement("DIV",{style:"justify-content: space-around;\n                    flex-direction: column;"}),a.appendChild(s),(l=this.utilities.createElement("P",{style:"margin: 0px;\n                        margin-bottom: 5px;"})).className="txtSmall",l.style.fontSize="12px",l.style.lineHeight="16px",l.style.fontWeight="600",l.style.color="var(--neutral-foreground-rest)",l.textContent=this.flyoutData.strings.tipsFeedbackText,s.appendChild(l),(c=this.utilities.createElement("DIV")).className="feedbackIcon",c.innerHTML=Je.Z.staticPolicy.createHTML(this.assets.getRestLikeIcon()),(u=this.utilities.createElement("DIV",{style:"margin-left: 30px"})).className="feedbackIcon",u.innerHTML=Je.Z.staticPolicy.createHTML(this.assets.getRestDislikeIcon()),c.setAttribute("aria-label",this.flyoutData.strings.tipsLike),u.setAttribute("aria-label",this.flyoutData.strings.tipsDislike),c.setAttribute("role","button"),u.setAttribute("role","button"),c.setAttribute("aria-pressed","false"),u.setAttribute("aria-pressed","false"),c.setAttribute("tabindex","0"),u.setAttribute("tabindex","0"),c.addEventListener("click",(function(){b.tipsLikeClickHandler(c,u)})),u.addEventListener("click",(function(){b.tipsDiskikeClickHandler(c,u)})),c.addEventListener("keyup",(function(){b.tipsLikeClickHandler(c,u)})),u.addEventListener("keyup",(function(){b.tipsDiskikeClickHandler(c,u)})),a.appendChild(c),a.appendChild(u),o.setAttribute("aria-label",this.flyoutData.strings.tipsFeedbackText),o.setAttribute("role","div"),t.abrupt("return",o);case 40:return t.abrupt("return",this.utilities.createElement("DIV"));case 41:if((d=this.utilities.createElement("DIV",{style:"background: transparent;\n            --elevation: 5;\n            overflow: hidden;\n            align-items: center;\n            padding: 10px 0 10px 0;\n            margin-bottom: 10px;\n            border: calc(var(--outline-width) * 1px) solid transparent;\n            border-radius: calc(var(--elevated-corner-radius) * 1px);\n            text-align: left;\n            display: table;\n            background: rgba(0,0,0, 0.02);\n            width: 100%;"})).className="tipsDiv",h=this.utilities.createElement("DIV",{style:"position: relative; height: 100%; display: grid; grid-template-columns: auto 60% auto;"}),d.appendChild(h),(p=this.utilities.createElement("DIV")).className="iconDiv",f=this.utilities.createElement("IMG",{style:"width: 110px; height: 66px; place-self: center"}),"Shipping"===e.IconType?f.src=this.flyoutData.common.resourcesEndpoing+"tips/Shipping.png":"Gift"===e.IconType?f.src=this.flyoutData.common.resourcesEndpoing+"tips/Gift.png":(e.IconType,f.src=this.flyoutData.common.resourcesEndpoing+"tips/Money.png"),f.addEventListener("error",(function(){h.style.gridTemplateColumns="auto",h.removeChild(f)})),f.setAttribute("aria-hidden","true"),p.appendChild(f),h.appendChild(p),g=this.utilities.createElement("DIV",{style:"justify-content: space-around;\n                flex-direction: column;\n                margin-top: 10px;\n                max-width: 192px;"}),h.appendChild(g),(v=this.utilities.createElement("P",{style:"margin: 0px;\n                    margin-bottom: 5px;"})).className="txtSmall",v.style.fontSize="12px",v.style.lineHeight="16px",v.style.color="var(--neutral-foreground-rest)",v.textContent=e.Text,!e.MinimumPurchase){t.next=66;break}return t.next=64,this.GetAmountForFreeShipping(e);case 64:(m=t.sent)>0?(y=e.Text.replace("$x","$"+m.toFixed(2).toString()),v.textContent=y):(C=this.utilities.replaceValueInKey(this.flyoutData.strings.tipsFreeShipping,"$"+e.MinimumPurchase.toString()),v.textContent=C);case 66:return g.appendChild(v),d.setAttribute("aria-label","".concat(e.Text)),d.setAttribute("tabIndex","0"),t.abrupt("return",d);case 70:case"end":return t.stop()}}),t,this)}))),function(t,e,n){return r.apply(this,arguments)})},{key:"GetAmountForFreeShipping",value:(n=(0,t.Z)(i().mark((function t(e){var n,r,o,a,s,l,c;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e){t.next=21;break}if(!(n=e.RetailerData.GetCurrentCheckoutPageByPathName(this.flyoutData.common.lastCommittedURL))){t.next=21;break}if(r=n.orderSubTotalElementSelector,o=n.orderTotalDataElementSelector,!r){t.next=14;break}return t.next=8,this.pageHandlerModule.RunQuerySelectorOnBodyWithReponse(r);case 8:if(a=t.sent,!(s=a.innerText)||!e.MinimumPurchase){t.next=12;break}return t.abrupt("return",e.MinimumPurchase-Le.GetPriceStringAsNumber(s));case 12:t.next=21;break;case 14:if(!o){t.next=21;break}return t.next=17,this.pageHandlerModule.RunQuerySelectorOnBodyWithReponse(o);case 17:if(l=t.sent,!(c=l.innerText)||!e.MinimumPurchase){t.next=21;break}return t.abrupt("return",e.MinimumPurchase-Le.GetPriceStringAsNumber(c));case 21:return t.abrupt("return",0);case 22:case"end":return t.stop()}}),t,this)}))),function(t){return n.apply(this,arguments)})},{key:"tipsLikeClickHandler",value:function(t,e){var n=new Jn.Z(ve.$S.TipsLike);this.logModule.LogInfoEvent(ve.R.ButtonClick,"Clicked on tips like",n),this.likeButtonClickState?(rr(this.tipsFeedbackStorageKey),t.innerHTML=Je.Z.staticPolicy.createHTML(this.assets.getRestLikeIcon())):(ir(this.tipsFeedbackStorageKey,JSON.stringify(new Date)),t.innerHTML=Je.Z.staticPolicy.createHTML(this.assets.getFillLikeIcon())),e.innerHTML=Je.Z.staticPolicy.createHTML(this.assets.getRestDislikeIcon()),this.likeButtonClickState=!this.likeButtonClickState,this.disLikeButtonClickState=!1,t.setAttribute("aria-pressed","".concat(this.likeButtonClickState)),e.setAttribute("aria-pressed","false"),this.pageHandlerModule.RecordAsUserAction(ni.b.TIPS_CLICK)}},{key:"tipsDiskikeClickHandler",value:function(t,e){var n=new Jn.Z(ve.$S.TipsDislike);this.logModule.LogInfoEvent(ve.R.ButtonClick,"Clicked on tips dislike",n),this.disLikeButtonClickState?(rr(this.tipsFeedbackStorageKey),e.innerHTML=Je.Z.staticPolicy.createHTML(this.assets.getRestDislikeIcon())):(ir(this.tipsFeedbackStorageKey,JSON.stringify(new Date)),e.innerHTML=Je.Z.staticPolicy.createHTML(this.assets.getFillDislikeIcon())),t.innerHTML=Je.Z.staticPolicy.createHTML(this.assets.getRestLikeIcon()),this.disLikeButtonClickState=!this.disLikeButtonClickState,this.likeButtonClickState=!1,e.setAttribute("aria-pressed","".concat(this.disLikeButtonClickState)),t.setAttribute("aria-pressed","false"),this.pageHandlerModule.RecordAsUserAction(ni.b.TIPS_CLICK)}},{key:"showFeedbackSection",value:function(){var t=nr(this.tipsFeedbackStorageKey);try{if(t){var e=new Date(JSON.parse(t)),n=new Date;return!((Date.UTC(n.getFullYear(),n.getMonth(),n.getDate())-Date.UTC(e.getFullYear(),e.getMonth(),e.getDate()))/864e5<7)&&(rr(this.tipsFeedbackStorageKey),!0)}}catch(t){}return!0}}]),s}(fi),Kh=function(){function t(e,n,i){(0,ye.Z)(this,t),(0,Se.Z)(this,"cashBackModule",void 0),(0,Se.Z)(this,"checkoutAutofillModule",void 0),(0,Se.Z)(this,"couponsModule",void 0),(0,Se.Z)(this,"dealsModule",void 0),(0,Se.Z)(this,"recommendationsModule",void 0),(0,Se.Z)(this,"clippingModule",void 0),(0,Se.Z)(this,"priceComparisonModule",void 0),(0,Se.Z)(this,"priceHistoryModule",void 0),(0,Se.Z)(this,"bannerModule",void 0),(0,Se.Z)(this,"flyoutRendererModule",void 0),(0,Se.Z)(this,"ratingsAndReviewsModule",void 0),(0,Se.Z)(this,"stateManagementModule",void 0),(0,Se.Z)(this,"productHistoryModule",void 0),(0,Se.Z)(this,"similarSellerModule",void 0),(0,Se.Z)(this,"tipsModule",void 0),(0,Se.Z)(this,"flyoutData",void 0),(0,Se.Z)(this,"utilities",void 0),(0,Se.Z)(this,"commonAssets",void 0),(0,Se.Z)(this,"rewardModule",void 0),this.flyoutData=e,this.utilities=n,this.commonAssets=i}return(0,Ce.Z)(t,[{key:"GetCouponModule",value:function(){return this.couponsModule||(this.couponsModule=new wr(this.GetStateManagementModule(),this.flyoutData,this.utilities,this.commonAssets)),this.couponsModule}},{key:"GetDealsModule",value:function(){return this.dealsModule||(this.dealsModule=new kr(this.flyoutData,this.utilities)),this.dealsModule}},{key:"GetRecommendationsModule",value:function(){return this.recommendationsModule||(this.recommendationsModule=new Ih(this.flyoutData,this.utilities)),this.recommendationsModule}},{key:"GetSimilarSellerModule",value:function(){return this.similarSellerModule||(this.similarSellerModule=new Wh(this.flyoutData,this.utilities)),this.similarSellerModule}},{key:"GetTipsModule",value:function(){return this.tipsModule||(this.tipsModule=new Xh(this.flyoutData,this.utilities)),this.tipsModule}},{key:"GetCashBackModule",value:function(){return this.cashBackModule||(this.cashBackModule=new vi(this.GetStateManagementModule(),this.flyoutData,this.utilities)),this.cashBackModule}},{key:"GetPriceComparisonModule",value:function(){return this.priceComparisonModule||(this.priceComparisonModule=new Rr(this.GetStateManagementModule(),this.flyoutData,this.utilities)),this.priceComparisonModule}},{key:"GetPriceHistoryModule",value:function(){return this.priceHistoryModule||(this.priceHistoryModule=new uh(this.GetStateManagementModule(),this.flyoutData,this.utilities)),this.priceHistoryModule}},{key:"GetClippingModule",value:function(){return this.clippingModule||(this.clippingModule=new Cr(this.flyoutData,this.utilities)),this.clippingModule}},{key:"GetRatingsAndReviewsModule",value:function(){return this.ratingsAndReviewsModule||(this.ratingsAndReviewsModule=new Ch(this.GetStateManagementModule(),this.flyoutData,this.utilities)),this.ratingsAndReviewsModule}},{key:"GetBannerModule",value:function(){return this.bannerModule||(this.bannerModule=new ii(this.GetCashBackModule(),this.GetPriceComparisonModule(),this.GetPriceHistoryModule(),this.GetCouponModule(),this.flyoutData,this.GetStateManagementModule(),this.utilities)),this.bannerModule}},{key:"GetFlyoutRendererModule",value:function(){return this.flyoutRendererModule||(this.flyoutRendererModule=new Kn.Z(this.GetStateManagementModule(),this.flyoutData,this.utilities,this.commonAssets,this.GetAvailableModules(),this.GetBannerModule())),this.flyoutRendererModule}},{key:"GetCheckoutAutofillModule",value:function(){return this.checkoutAutofillModule||(this.checkoutAutofillModule=new gr(this.GetStateManagementModule(),this.flyoutData,this.utilities)),this.checkoutAutofillModule}},{key:"GetStateManagementModule",value:function(){return this.stateManagementModule||(this.stateManagementModule=new Qn.ZP(this.utilities.logModule,this.flyoutData.common.shopping)),this.stateManagementModule}},{key:"GetProductHistoryModule",value:function(){return this.productHistoryModule||(this.productHistoryModule=new ph(this.flyoutData,this.utilities)),this.productHistoryModule}},{key:"GetRewardModule",value:function(){return this.rewardModule||(this.rewardModule=new Ph(this.flyoutData,this.utilities,this.GetStateManagementModule())),this.rewardModule}},{key:"GetAvailableModules",value:function(){return[this.GetPriceHistoryModule(),this.GetPriceComparisonModule(),this.GetCouponModule(),this.GetClippingModule(),this.GetDealsModule(),this.GetCashBackModule(),this.GetRatingsAndReviewsModule(),this.GetRecommendationsModule(),this.GetCheckoutAutofillModule(),this.GetProductHistoryModule(),this.GetRewardModule(),this.GetSimilarSellerModule(),this.GetTipsModule()]}}]),t}(),Qh=n(4335),Jh=function t(e,n,i){(0,ye.Z)(this,t),(0,Se.Z)(this,"AppInfoClientName",void 0),(0,Se.Z)(this,"JSVersion",void 0),(0,Se.Z)(this,"BuildVersion",void 0),this.AppInfoClientName=e,this.JSVersion=n,this.BuildVersion=i},tp=function(){function t(e,n,i,r,o,a){(0,ye.Z)(this,t),(0,Se.Z)(this,"EventType",void 0),(0,Se.Z)(this,"JsonData",void 0),(0,Se.Z)(this,"LogLevel",void 0),(0,Se.Z)(this,"Message",void 0),(0,Se.Z)(this,"ClientContext",void 0),(0,Se.Z)(this,"ImpressionId",void 0),(0,Se.Z)(this,"EventTime",void 0),this.LogLevel=e,this.EventType=n,this.JsonData=i,this.Message=r,this.ClientContext=a,this.ImpressionId=o,this.EventTime=(new Date).getTime()}return(0,Ce.Z)(t,[{key:"ToString",value:function(){return JSON.stringify(this)}}]),t}(),ep=function(){function t(){(0,ye.Z)(this,t)}return(0,Ce.Z)(t,null,[{key:"GetBuildVersion",value:function(){try{var t=navigator.userAgent.match(/Edg\/([0-9]+)\.([0-9]+)\.([0-9]+)\.([0-9]+)/);if(t&&t.length>1&&t[0]&&t[0].length>4)return t[0].substr(4)}catch(t){}}}]),t}();function np(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=(0,De.Z)(t);if(e){var r=(0,De.Z)(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return(0,ke.Z)(this,n)}}var ip=function(t){(0,Ie.Z)(n,t);var e=np(n);function n(t,i){var r;return(0,ye.Z)(this,n),r=e.call(this),(0,Se.Z)((0,Ae.Z)(r),"pagehandlerModule",void 0),(0,Se.Z)((0,Ae.Z)(r),"jsVersion",void 0),(0,Se.Z)((0,Ae.Z)(r),"appClientInfoIname",void 0),(0,Se.Z)((0,Ae.Z)(r),"edgeImpressionId",void 0),(0,Se.Z)((0,Ae.Z)(r),"couponImpressionId",void 0),(0,Se.Z)((0,Ae.Z)(r),"domainName",void 0),(0,Se.Z)((0,Ae.Z)(r),"buildVersion",void 0),r.jsVersion=i,r.appClientInfoIname=ve.BN.Edge,r.pagehandlerModule=t,r.buildVersion=ep.GetBuildVersion(),r}return(0,Ce.Z)(n,[{key:"setData",value:function(t,e){t===ei.g.EdgeImpressionId?this.edgeImpressionId=e:t===ei.g.CouponImpressionId?this.couponImpressionId=e:t===ei.g.DomainName?this.domainName=e:t===ei.g.Client&&(this.appClientInfoIname=e)}},{key:"LogClientEvent",value:function(t,e,n,i){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:ei.g.EdgeImpressionId;this.domainName&&(i.Domain=this.domainName);var o="";switch(r){case ei.g.CouponImpressionId:o=this.couponImpressionId||this.edgeImpressionId;break;case ei.g.EdgeImpressionId:default:o=this.edgeImpressionId||this.couponImpressionId}var a=new Jh(this.appClientInfoIname,this.jsVersion,this.buildVersion),s=new tp(t,e,JSON.stringify(i),n,o,a);this.pagehandlerModule.SendBingTelemetry(s.ToString())}}]),n}(function(){function t(){(0,ye.Z)(this,t)}return(0,Ce.Z)(t,[{key:"LogInfoEvent",value:function(t,e,n,i){this.LogClientEvent(ve.in.Information,t,e,n,i)}},{key:"LogErrorEvent",value:function(t,e,n,i){this.LogClientEvent(ve.in.Error,t,e,n,i)}}]),t}()),rp=function(){function e(t){(0,ye.Z)(this,e),(0,Se.Z)(this,"PopupOrigination",void 0),(0,Se.Z)(this,"AutoShowFeature",void 0),(0,Se.Z)(this,"pageHandler",void 0),(0,Se.Z)(this,"shoppingActions",void 0),(0,Se.Z)(this,"shoppingContent",void 0),(0,Se.Z)(this,"shoppingEngagement",void 0),(0,Se.Z)(this,"shoppingWindowOpenDisposition",void 0),(0,Se.Z)(this,"telemetryFunctionName","sendBingTelemetry"),t?this.pageHandler=t:(this.PopupOrigination=mojom.PopupOrigination,this.AutoShowFeature=mojom.AutoShowFeature,this.pageHandler=mojom&&mojom.ShoppingHandler.getRemote(),this.shoppingActions=mojom.ShoppingActions,this.shoppingContent=mojom.ShoppingContent,this.shoppingEngagement=mojom.ShoppingEngagement,this.shoppingWindowOpenDisposition=mojom.ShoppingWindowOpenDisposition,this.InitiatePageInterface())}var n,r,o,a,s,l,c;return(0,Ce.Z)(e,[{key:"onActivateRebatesStateChanged",value:function(t){t!==xe.FA.ACTIVATED&&t!==xe.FA.STARTED&&t!==xe.FA.PENDING_ACTIVATION_IN_PROFILE&&t!==xe.FA.PENDING_ENROLL_REBATES_USER&&t!==xe.FA.PENDING_SIGN_INTO_PROFILE&&t!==xe.FA.PENDING_SWITCH_TO_MSA_PROFILE?this.SendPageHandlerErrorTelemetry("Cashback activation error - ".concat(t)):t===xe.FA.ACTIVATED&&this.SendPageHandlerRebatesActivatedTelemetry("Cashback activated")}},{key:"onActivateRewardsStateChanged",value:function(t){}},{key:"InitiatePageInterface",value:function(){var t=this;if(mojom&&"function"==typeof mojom.PageCallbackRouter){var e=new mojom.PageCallbackRouter;this.CallPageHandlerFunction(this.pageHandler.registerPage,"registerPage",e.$.bindNewPipeAndPassRemote()),e.onActivateRebatesStateChanged.addListener(function(e){t.onActivateRebatesStateChanged(e)}.bind(this));try{e.onActivateRewardsStateChanged.addListener(function(e){t.onActivateRewardsStateChanged(e)}.bind(this))}catch(t){}}}},{key:"NavigateToSettings",value:function(){this.CallPageHandlerFunction(this.pageHandler.navigateToSettings,"navigateToSettings")}},{key:"NavigateToPrivacyStatement",value:function(){this.CallPageHandlerFunction(this.pageHandler.navigateToPrivacyStatement,"navigateToPrivacyStatement")}},{key:"NavigateToLearnMore",value:function(t){var e=this.shoppingWindowOpenDisposition[t];void 0!==e&&this.CallPageHandlerFunction(this.pageHandler.navigateToLearnMore,"navigateToLearnMore",e)}},{key:"NavigateToMoreSellers",value:function(t){var e=this.shoppingWindowOpenDisposition[t];void 0!==e&&this.CallPageHandlerFunction(this.pageHandler.navigateToMoreSellers,"navigateToMoreSellers",e)}},{key:"NavigateToRedeemRewards",value:function(){this.NavigateToUrl("https://rewards.microsoft.com/Signin?idru=%2Fredeem/")}},{key:"NavigateToMoreRebatesSites",value:function(){this.NavigateToUrl("https://www.bing.com/stores/edge/cashback")}},{key:"NavigateToRewardsInfo",value:function(){this.NavigateToUrl("https://bing.com/rewards")}},{key:"GetStorageValue",value:(c=(0,t.Z)(i().mark((function t(e){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.pageHandler.getStorageValue(e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t,this)}))),function(t){return c.apply(this,arguments)})},{key:"SetStorageValue",value:function(t,e){this.CallPageHandlerFunction(this.pageHandler.setStorageValue,"setStorageValue",t,e)}},{key:"AddItemFromOtherSeller",value:function(t){this.CallPageHandlerFunction(this.pageHandler.addItemFromOtherSeller,"addItemFromOtherSeller",t)}},{key:"NavigateToAlternateRetailerWithDisposition",value:function(t,e){var n=this.shoppingWindowOpenDisposition[e];void 0!==n&&this.CallPageHandlerFunction(this.pageHandler.navigateToAlternateRetailerWithDisposition,"navigateToAlternateRetailerWithDisposition",t,n)}},{key:"NavigateToRebatesPayouts",value:function(t){var e=this.shoppingWindowOpenDisposition[t];void 0!==e&&this.CallPageHandlerFunction(this.pageHandler.navigateToRebatesPayouts,"navigateToRebatesPayouts",e)}},{key:"NavigateToDealWithDisposition",value:function(t,e,n){var i=this.shoppingWindowOpenDisposition[n];void 0!==i&&this.CallPageHandlerFunction(this.pageHandler.navigateToDealWithDisposition,"navigateToDealWithDisposition",t,i)}},{key:"NavigateToRecommendationWithDisposition",value:function(t,e,n){var i=this.shoppingWindowOpenDisposition[n];void 0!==i&&this.CallPageHandlerFunction(this.pageHandler.navigateToRecommendationWithDisposition,"navigateToRecommendationWithDisposition",t,i)}},{key:"NavigateToOtherSellerWithDisposition",value:function(t,e){var n=this.shoppingWindowOpenDisposition[e];void 0!==n&&this.CallPageHandlerFunction(this.pageHandler.navigateToOtherSellerWithDisposition,"navigateToOtherSellerWithDisposition",t,n)}},{key:"NavigateToRebatesAccount",value:function(t){var e=this.shoppingWindowOpenDisposition[t];void 0!==e&&this.CallPageHandlerFunction(this.pageHandler.navigateToRebatesAccount,"navigateToRebatesAccount",e)}},{key:"NavigateToProfessionalReviewWithDisposition",value:function(t,e,n){var i=this.shoppingWindowOpenDisposition[n];void 0!==i&&this.CallPageHandlerFunction(this.pageHandler.navigateToProfessionalReviewWithDisposition,"navigateToProfessionalReviewWithDisposition",t,i)}},{key:"NavigateToVideoReviewWithDisposition",value:function(t,e,n){var i=this.shoppingWindowOpenDisposition[n];void 0!==i&&this.CallPageHandlerFunction(this.pageHandler.navigateToVideoReviewWithDisposition,"navigateToVideoReviewWithDisposition",t,i)}},{key:"SendBingTelemetry",value:function(t){this.CallPageHandlerFunction(this.pageHandler.sendBingTelemetry,"sendBingTelemetry",t,"-1.0")}},{key:"RecordAsUserAction",value:function(t){var e=this.shoppingActions[t];void 0!==e&&this.CallPageHandlerFunction(this.pageHandler.recordAsUserAction,"recordAsUserAction",e)}},{key:"RecordAsUserEngagement",value:function(t){var e=this.shoppingEngagement[t];void 0!==e&&this.CallPageHandlerFunction(this.pageHandler.recordAsUserEngagement,"recordAsUserEngagement",e)}},{key:"RecordAsContentViewed",value:function(t){var e=this.shoppingContent[t];void 0!==e&&this.CallPageHandlerFunction(this.pageHandler.recordAsContentViewed,"recordAsContentViewed",e)}},{key:"StartShopping",value:function(t,e){this.CallPageHandlerFunction(this.pageHandler.startShopping,"startShopping",t,e)}},{key:"DismissPopup",value:function(){this.CallPageHandlerFunction(this.pageHandler.dismissPopup,"dismissPopup")}},{key:"AllowAutoShow",value:function(t,e){this.pageHandler.allowAutoShowForFeature&&"function"==typeof this.pageHandler.allowAutoShowForFeature&&e?this.CallPageHandlerFunction(this.pageHandler.allowAutoShowForFeature,"allowAutoShowForFeature",t,e):this.CallPageHandlerFunction(this.pageHandler.allowAutoShow,"allowAutoShow",t)}},{key:"SetAllowOrganicRebates",value:function(t){this.CallPageHandlerFunction(this.pageHandler.setAllowOrganicRebates,"setAllowOrganicRebates",t)}},{key:"TriggerExperiment",value:function(t){this.CallPageHandlerFunction(this.pageHandler.triggerExperiment,"triggerExperiment",t)}},{key:"TriggerSupportedExperiments",value:function(t){this.CallPageHandlerFunction(this.pageHandler.triggerSupportedExperiments,"triggerSupportedExperiments",t)}},{key:"SendBingVisibilityRequest",value:function(t){this.CallPageHandlerFunction(this.pageHandler.sendBingVisibilityRequest,"sendBingVisibilityRequest",t)}},{key:"ApplyAllCoupons",value:function(){this.CallPageHandlerFunction(this.pageHandler.applyAllCoupons,"applyAllCoupons")}},{key:"ApplyAllCouponsWithExpressCheckout",value:function(t){this.CallPageHandlerFunction(this.pageHandler.applyAllCouponsWithExpressCheckout,"applyAllCouponsWithExpressCheckout",t.ToString())}},{key:"ActivateRebates",value:(l=(0,t.Z)(i().mark((function t(e){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e){t.next=7;break}return t.next=4,this.pageHandler.activateRebates();case 4:return t.abrupt("return",t.sent);case 7:return this.pageHandler.activateRebates(),t.abrupt("return",{activated:!0});case 9:case"end":return t.stop()}}),t,this)}))),function(t){return l.apply(this,arguments)})},{key:"ActivateRewards",value:(s=(0,t.Z)(i().mark((function t(e){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e){t.next=6;break}return t.next=3,this.pageHandler.activateRewards();case 3:return t.abrupt("return",t.sent);case 6:return this.pageHandler.activateRewards(),t.abrupt("return",{activated:!0});case 8:case"end":return t.stop()}}),t,this)}))),function(t){return s.apply(this,arguments)})},{key:"RunQuerySelectorOnBodyWithReponse",value:(a=(0,t.Z)(i().mark((function t(e){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.pageHandler.runQuerySelectorOnBody(e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t,this)}))),function(t){return a.apply(this,arguments)})},{key:"RunQuerySelectorOnBodyWithValues",value:(o=(0,t.Z)(i().mark((function t(e,n){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.pageHandler.runQuerySelectorOnBodyWithValues(e,n);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t,this)}))),function(t,e){return o.apply(this,arguments)})},{key:"CopyCoupon",value:function(t){navigator.clipboard.writeText(t)}},{key:"GetProfilesData",value:(r=(0,t.Z)(i().mark((function t(){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t,e){if(!chrome||!chrome.autofillPrivate)return e("can not find profiles.");chrome.autofillPrivate.getAddressList((function(n){n?t(n):e("can not find profiles")}))})));case 1:case"end":return t.stop()}}),t)}))),function(){return r.apply(this,arguments)})},{key:"GetPaymentsData",value:(n=(0,t.Z)(i().mark((function t(){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t,e){if(!chrome||!chrome.autofillPrivate)return e("can not find payments.");chrome.autofillPrivate.getCreditCardList((function(n){n?t(n):e("can not find payments")}))})));case 1:case"end":return t.stop()}}),t)}))),function(){return n.apply(this,arguments)})},{key:"CallPageHandlerFunction",value:function(t,e){try{if(t&&"function"==typeof t){for(var n=arguments.length,i=new Array(n>2?n-2:0),r=2;r<n;r++)i[r-2]=arguments[r];i?t.apply(this.pageHandler,i):t.apply(this.pageHandler)}else if(e!==this.telemetryFunctionName){var o="".concat(e," is not a function");this.SendPageHandlerErrorTelemetry(o)}}catch(t){if(e!==this.telemetryFunctionName){var a="Error calling function ".concat(e," - ").concat(t);this.SendPageHandlerErrorTelemetry(a)}}}},{key:"SendPageHandlerErrorTelemetry",value:function(t){var e=new ge.Z(ve.xu.PageHandlerFunctionError),n=new Jh(ve.BN.Edge,me),i=new tp(ve.in.Error,ve.R.EdgeFlyoutStatus,JSON.stringify(e),t,"",n);this.SendBingTelemetry(i.ToString())}},{key:"SendPageHandlerRebatesActivatedTelemetry",value:function(t){var e=new ge.Z(ve.xu.CashBackActivated),n=new Jh(ve.BN.Edge,me),i=new tp(ve.in.Information,ve.R.EdgeFlyoutStatus,JSON.stringify(e),t,"",n);this.SendBingTelemetry(i.ToString())}},{key:"NavigateToUrl",value:function(t){t&&window.open(t,"_blank","noopener,noreferrer")}}]),e}();function op(){return(op=(0,t.Z)(i().mark((function t(){var e,n,r,o,a,s,l,c,u,d;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e=new Xn,n=new Wn(xe.AS.Desktop,e),r=new rp,o=new ip(r,me),a=new Je.Z(r,o,n),s=new be,l=new Kh(n,a,s),ap(n,a.viewModulesUtilities,s),a.viewModulesUtilities.addCommonStyles(s),t.next=12,n.initializeModuleData(o,r,n);case 12:n.experimentData.experiments&&n.experimentData.experiments.length>0&&r.TriggerSupportedExperiments(n.experimentData.experiments),sp(n.dataStoreModule,n.common.domain,o,e),a.viewModulesUtilities.trapFlyoutFocusMac(),l.GetFlyoutRendererModule().createModules(),up(n.common.popupOrigination,o,r,l),lp(e,n.common.openedWith,n.common.isCheckoutPage,o),t.next=29;break;case 20:t.prev=20,t.t0=t.catch(0),c=new rp,u=new ip(c,me),d=new ge.Z(ve.xu.OnErrorInvoked),u.setData(ei.g.Client,ve.BN.Edge),u.LogErrorEvent(ve.R.EdgeFlyoutStatus,null===t.t0||void 0===t.t0?void 0:t.t0.message,d),document.querySelector("msft-edge-shopping")||hp(u,c,new be,new Xn);case 29:case"end":return t.stop()}}),t,null,[[0,20]])})))).apply(this,arguments)}function ap(t,e,n){var i=document.querySelector("head"),r=t.common.shopping;if(i){var o=i.querySelector("title"),a=t.strings;if(!o||o.innerText!==a.commonFixedTitle){var s=e.createElement("title");s.innerText=a.commonFixedTitle,i.appendChild(s),function(t,e){var n=document.createElement("DIV");n.innerHTML=Je.Z.staticPolicy.createHTML(t.getHeaderIcon()),n.slot="header-icon",e.appendChild(n)}(n,r),r.fixedTitle=a.commonFixedTitle}}}function sp(t,e,n,i){try{var r=i.GetLoadTimeDataValue("impressionId",""),o=t.ApiData?t.ApiData.impressionId:"",a=null!=r?r:"";n.setData(ei.g.CouponImpressionId,o),n.setData(ei.g.EdgeImpressionId,a),n.setData(ei.g.DomainName,e),n.setData(ei.g.Client,ve.BN.Edge)}catch(t){var s=new ge.Z(ve.xu.OnErrorInvoked);n.LogErrorEvent(ve.R.EdgeFlyoutStatus,"Data creation Exception at InitializeCouponsApiData",s)}}function lp(t,e,n,i){var r=e&&e===xe.Te.Auto?ve.xu.AutoTrigger:ve.xu.UserTrigger,o=new ge.Z(r);if(i.LogInfoEvent(ve.R.EdgeFlyoutStatus,function(t){var e={lastCommittedUrl:t.GetLoadTimeDataValue("lastCommittedURL",""),navChain:cp(t)};return JSON.stringify(e)}(t),o),n){var a=new ge.Z(ve.xu.OpenedInCheckout);i.LogInfoEvent(ve.R.EdgeFlyoutStatus,"",a)}}function cp(t){var e=t.GetLoadTimeDataValue("bingRedirectChainForInitialDomainNavigation",null),n="";return e&&e instanceof Array&&e.length>0&&(n=e.filter((function(t){return t.includes("bing.com")||t.includes("microsoft.com")})).join("||")),n}function up(t,e,n,i){return dp.apply(this,arguments)}function dp(){return(dp=(0,t.Z)(i().mark((function t(e,n,r,o){var a,s,l;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(void 0!==e){t.next=2;break}return t.abrupt("return");case 2:if(t.prev=2,a=null,s=r.PopupOrigination,e!==(null==s?void 0:s.AUTO_SHOW_BING_SEARCH)){t.next=11;break}return t.next=8,o.GetCouponModule().ShouldRenderModule();case 8:a=t.sent,t.next=27;break;case 11:if(e!==(null==s?void 0:s.AUTO_SHOW_URL_PARAM_REBATES)){t.next=17;break}return t.next=14,o.GetCashBackModule().ShouldRenderModule();case 14:a=t.sent,t.next=27;break;case 17:if(e!==(null==s?void 0:s.AUTO_SHOW_URL_PARAM_PRICE_COMPARISON)){t.next=23;break}return t.next=20,o.GetPriceComparisonModule().ShouldRenderModule();case 20:a=t.sent,t.next=27;break;case 23:if(e!==(null==s?void 0:s.AUTO_SHOW_URL_PARAM_PRICE_HISTORY)){t.next=27;break}return t.next=26,o.GetPriceHistoryModule().ShouldRenderModule();case 26:a=t.sent;case 27:null!==a&&(l=new ge.Z(ve.xu.AutoOpenUsingUrlParam),n.LogInfoEvent(ve.R.EdgeFlyoutStatus,"Auto open using url param - ".concat(e," - is succeeded: ").concat(a),l)),t.next=33;break;case 30:t.prev=30,t.t0=t.catch(2);case 33:case"end":return t.stop()}}),t,null,[[2,30]])})))).apply(this,arguments)}function hp(t,e,n,i){var r=new zn(i),o=xe.m5.LTR,a=xe.Q2.Light;try{r.Create(xe.AS.Desktop);var s=i.GetLoadTimeDataValue("dark_theme",!1);a=xe.Q2.Light,s&&(a=xe.Q2.Dark);var l=i.GetLoadTimeDataValue("is_rtl",!1);o=xe.m5.LTR,l&&(o=xe.m5.RTL)}catch(t){}new Qh.Z(t,e,r,a,o,n).renderErrorUI()}pe.X,Gt.o,pe.X,fe.h,te._,pt.M,window.onerror=function(t,e,n,i,r){var o=new ge.Z(ve.xu.OnErrorInvoked),a=new rp,s=new ip(a,me);return s.setData(ei.g.Client,ve.BN.Edge),s.LogErrorEvent(ve.R.EdgeFlyoutStatus,(null==r?void 0:r.message)||JSON.stringify(t),o),document.querySelector("msft-edge-shopping")||hp(s,a,new be,new Xn),!0},document.addEventListener("DOMContentLoaded",(function(){return op.apply(this,arguments)}))}()}();