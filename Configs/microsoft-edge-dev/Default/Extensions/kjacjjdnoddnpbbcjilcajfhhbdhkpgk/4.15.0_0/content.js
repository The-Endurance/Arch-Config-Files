(()=>{var Pr=Object.create,Q=Object.defineProperty,kr=Object.getPrototypeOf,Or=Object.prototype.hasOwnProperty,Rr=Object.getOwnPropertyNames,qr=Object.getOwnPropertyDescriptor;var Br=r=>Q(r,"__esModule",{value:!0});var A=(r,e)=>()=>(e||r((e={exports:{}}).exports,e),e.exports);var Nr=(r,e,t)=>{if(e&&typeof e=="object"||typeof e=="function")for(let s of Rr(e))!Or.call(r,s)&&s!=="default"&&Q(r,s,{get:()=>e[s],enumerable:!(t=qr(e,s))||t.enumerable});return r},ee=r=>Nr(Br(Q(r!=null?Pr(kr(r)):{},"default",r&&r.__esModule&&"default"in r?{get:()=>r.default,enumerable:!0}:{value:r,enumerable:!0})),r);var te=A((re,Ee)=>{(function(r,e){if(typeof define=="function"&&define.amd)define("webextension-polyfill",["module"],e);else if(typeof re!="undefined")e(Ee);else{var t={exports:{}};e(t),r.browser=t.exports}})(typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:re,function(r){"use strict";if(typeof browser=="undefined"||Object.getPrototypeOf(browser)!==Object.prototype){let e="The message port closed before a response was received.",t="Returning a Promise is the preferred way to send a reply from an onMessage/onMessageExternal listener, as the sendResponse will be removed from the specs (See https://developer.mozilla.org/docs/Mozilla/Add-ons/WebExtensions/API/runtime/onMessage)",s=n=>{let o={alarms:{clear:{minArgs:0,maxArgs:1},clearAll:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getAll:{minArgs:0,maxArgs:0}},bookmarks:{create:{minArgs:1,maxArgs:1},get:{minArgs:1,maxArgs:1},getChildren:{minArgs:1,maxArgs:1},getRecent:{minArgs:1,maxArgs:1},getSubTree:{minArgs:1,maxArgs:1},getTree:{minArgs:0,maxArgs:0},move:{minArgs:2,maxArgs:2},remove:{minArgs:1,maxArgs:1},removeTree:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1},update:{minArgs:2,maxArgs:2}},browserAction:{disable:{minArgs:0,maxArgs:1,fallbackToNoCallback:!0},enable:{minArgs:0,maxArgs:1,fallbackToNoCallback:!0},getBadgeBackgroundColor:{minArgs:1,maxArgs:1},getBadgeText:{minArgs:1,maxArgs:1},getPopup:{minArgs:1,maxArgs:1},getTitle:{minArgs:1,maxArgs:1},openPopup:{minArgs:0,maxArgs:0},setBadgeBackgroundColor:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setBadgeText:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setIcon:{minArgs:1,maxArgs:1},setPopup:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setTitle:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},browsingData:{remove:{minArgs:2,maxArgs:2},removeCache:{minArgs:1,maxArgs:1},removeCookies:{minArgs:1,maxArgs:1},removeDownloads:{minArgs:1,maxArgs:1},removeFormData:{minArgs:1,maxArgs:1},removeHistory:{minArgs:1,maxArgs:1},removeLocalStorage:{minArgs:1,maxArgs:1},removePasswords:{minArgs:1,maxArgs:1},removePluginData:{minArgs:1,maxArgs:1},settings:{minArgs:0,maxArgs:0}},commands:{getAll:{minArgs:0,maxArgs:0}},contextMenus:{remove:{minArgs:1,maxArgs:1},removeAll:{minArgs:0,maxArgs:0},update:{minArgs:2,maxArgs:2}},cookies:{get:{minArgs:1,maxArgs:1},getAll:{minArgs:1,maxArgs:1},getAllCookieStores:{minArgs:0,maxArgs:0},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}},devtools:{inspectedWindow:{eval:{minArgs:1,maxArgs:2,singleCallbackArg:!1}},panels:{create:{minArgs:3,maxArgs:3,singleCallbackArg:!0}}},downloads:{cancel:{minArgs:1,maxArgs:1},download:{minArgs:1,maxArgs:1},erase:{minArgs:1,maxArgs:1},getFileIcon:{minArgs:1,maxArgs:2},open:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},pause:{minArgs:1,maxArgs:1},removeFile:{minArgs:1,maxArgs:1},resume:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1},show:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},extension:{isAllowedFileSchemeAccess:{minArgs:0,maxArgs:0},isAllowedIncognitoAccess:{minArgs:0,maxArgs:0}},history:{addUrl:{minArgs:1,maxArgs:1},deleteAll:{minArgs:0,maxArgs:0},deleteRange:{minArgs:1,maxArgs:1},deleteUrl:{minArgs:1,maxArgs:1},getVisits:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1}},i18n:{detectLanguage:{minArgs:1,maxArgs:1},getAcceptLanguages:{minArgs:0,maxArgs:0}},identity:{launchWebAuthFlow:{minArgs:1,maxArgs:1}},idle:{queryState:{minArgs:1,maxArgs:1}},management:{get:{minArgs:1,maxArgs:1},getAll:{minArgs:0,maxArgs:0},getSelf:{minArgs:0,maxArgs:0},setEnabled:{minArgs:2,maxArgs:2},uninstallSelf:{minArgs:0,maxArgs:1}},notifications:{clear:{minArgs:1,maxArgs:1},create:{minArgs:1,maxArgs:2},getAll:{minArgs:0,maxArgs:0},getPermissionLevel:{minArgs:0,maxArgs:0},update:{minArgs:2,maxArgs:2}},pageAction:{getPopup:{minArgs:1,maxArgs:1},getTitle:{minArgs:1,maxArgs:1},hide:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setIcon:{minArgs:1,maxArgs:1},setPopup:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setTitle:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},show:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},permissions:{contains:{minArgs:1,maxArgs:1},getAll:{minArgs:0,maxArgs:0},remove:{minArgs:1,maxArgs:1},request:{minArgs:1,maxArgs:1}},runtime:{getBackgroundPage:{minArgs:0,maxArgs:0},getPlatformInfo:{minArgs:0,maxArgs:0},openOptionsPage:{minArgs:0,maxArgs:0},requestUpdateCheck:{minArgs:0,maxArgs:0},sendMessage:{minArgs:1,maxArgs:3},sendNativeMessage:{minArgs:2,maxArgs:2},setUninstallURL:{minArgs:1,maxArgs:1}},sessions:{getDevices:{minArgs:0,maxArgs:1},getRecentlyClosed:{minArgs:0,maxArgs:1},restore:{minArgs:0,maxArgs:1}},storage:{local:{clear:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}},managed:{get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1}},sync:{clear:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}}},tabs:{captureVisibleTab:{minArgs:0,maxArgs:2},create:{minArgs:1,maxArgs:1},detectLanguage:{minArgs:0,maxArgs:1},discard:{minArgs:0,maxArgs:1},duplicate:{minArgs:1,maxArgs:1},executeScript:{minArgs:1,maxArgs:2},get:{minArgs:1,maxArgs:1},getCurrent:{minArgs:0,maxArgs:0},getZoom:{minArgs:0,maxArgs:1},getZoomSettings:{minArgs:0,maxArgs:1},highlight:{minArgs:1,maxArgs:1},insertCSS:{minArgs:1,maxArgs:2},move:{minArgs:2,maxArgs:2},query:{minArgs:1,maxArgs:1},reload:{minArgs:0,maxArgs:2},remove:{minArgs:1,maxArgs:1},removeCSS:{minArgs:1,maxArgs:2},sendMessage:{minArgs:2,maxArgs:3},setZoom:{minArgs:1,maxArgs:2},setZoomSettings:{minArgs:1,maxArgs:2},update:{minArgs:1,maxArgs:2}},topSites:{get:{minArgs:0,maxArgs:0}},webNavigation:{getAllFrames:{minArgs:1,maxArgs:1},getFrame:{minArgs:1,maxArgs:1}},webRequest:{handlerBehaviorChanged:{minArgs:0,maxArgs:0}},windows:{create:{minArgs:0,maxArgs:1},get:{minArgs:1,maxArgs:2},getAll:{minArgs:0,maxArgs:1},getCurrent:{minArgs:0,maxArgs:1},getLastFocused:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},update:{minArgs:2,maxArgs:2}}};if(Object.keys(o).length===0)throw new Error("api-metadata.json has not been included in browser-polyfill");class d extends WeakMap{constructor(a,f=void 0){super(f);this.createItem=a}get(a){return this.has(a)||this.set(a,this.createItem(a)),super.get(a)}}let u=i=>i&&typeof i=="object"&&typeof i.then=="function",h=(i,a)=>(...f)=>{n.runtime.lastError?i.reject(n.runtime.lastError):a.singleCallbackArg||f.length<=1&&a.singleCallbackArg!==!1?i.resolve(f[0]):i.resolve(f)},v=i=>i==1?"argument":"arguments",c=(i,a)=>function(p,...b){if(b.length<a.minArgs)throw new Error(`Expected at least ${a.minArgs} ${v(a.minArgs)} for ${i}(), got ${b.length}`);if(b.length>a.maxArgs)throw new Error(`Expected at most ${a.maxArgs} ${v(a.maxArgs)} for ${i}(), got ${b.length}`);return new Promise((P,k)=>{if(a.fallbackToNoCallback)try{p[i](...b,h({resolve:P,reject:k},a))}catch(g){console.warn(`${i} API method doesn't seem to support the callback parameter, falling back to call it without a callback: `,g),p[i](...b),a.fallbackToNoCallback=!1,a.noCallback=!0,P()}else a.noCallback?(p[i](...b),P()):p[i](...b,h({resolve:P,reject:k},a))})},w=(i,a,f)=>new Proxy(a,{apply(p,b,P){return f.call(b,i,...P)}}),R=Function.call.bind(Object.prototype.hasOwnProperty),S=(i,a={},f={})=>{let p=Object.create(null),b={has(k,g){return g in i||g in p},get(k,g,O){if(g in p)return p[g];if(!(g in i))return;let y=i[g];if(typeof y=="function")if(typeof a[g]=="function")y=w(i,i[g],a[g]);else if(R(f,g)){let M=c(g,f[g]);y=w(i,i[g],M)}else y=y.bind(i);else if(typeof y=="object"&&y!==null&&(R(a,g)||R(f,g)))y=S(y,a[g],f[g]);else if(R(f,"*"))y=S(y,a[g],f["*"]);else return Object.defineProperty(p,g,{configurable:!0,enumerable:!0,get(){return i[g]},set(M){i[g]=M}}),y;return p[g]=y,y},set(k,g,O,y){return g in p?p[g]=O:i[g]=O,!0},defineProperty(k,g,O){return Reflect.defineProperty(p,g,O)},deleteProperty(k,g){return Reflect.deleteProperty(p,g)}},P=Object.create(i);return new Proxy(P,b)},L=i=>({addListener(a,f,...p){a.addListener(i.get(f),...p)},hasListener(a,f){return a.hasListener(i.get(f))},removeListener(a,f){a.removeListener(i.get(f))}}),q=!1,_=new d(i=>typeof i!="function"?i:function(f,p,b){let P=!1,k,g=new Promise(j=>{k=function(B){q||(console.warn(t,new Error().stack),q=!0),P=!0,j(B)}}),O;try{O=i(f,p,k)}catch(j){O=Promise.reject(j)}let y=O!==!0&&u(O);if(O!==!0&&!y&&!P)return!1;let M=j=>{j.then(B=>{b(B)},B=>{let Z;B&&(B instanceof Error||typeof B.message=="string")?Z=B.message:Z="An unexpected error occurred",b({__mozWebExtensionPolyfillReject__:!0,message:Z})}).catch(B=>{console.error("Failed to send onMessage rejected reply",B)})};return M(y?O:g),!0}),l=({reject:i,resolve:a},f)=>{n.runtime.lastError?n.runtime.lastError.message===e?a():i(n.runtime.lastError):f&&f.__mozWebExtensionPolyfillReject__?i(new Error(f.message)):a(f)},m=(i,a,f,...p)=>{if(p.length<a.minArgs)throw new Error(`Expected at least ${a.minArgs} ${v(a.minArgs)} for ${i}(), got ${p.length}`);if(p.length>a.maxArgs)throw new Error(`Expected at most ${a.maxArgs} ${v(a.maxArgs)} for ${i}(), got ${p.length}`);return new Promise((b,P)=>{let k=l.bind(null,{resolve:b,reject:P});p.push(k),f.sendMessage(...p)})},x={runtime:{onMessage:L(_),onMessageExternal:L(_),sendMessage:m.bind(null,"sendMessage",{minArgs:1,maxArgs:3})},tabs:{sendMessage:m.bind(null,"sendMessage",{minArgs:2,maxArgs:3})}},E={clear:{minArgs:1,maxArgs:1},get:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}};return o.privacy={network:{"*":E},services:{"*":E},websites:{"*":E}},S(n,x,o)};if(typeof chrome!="object"||!chrome||!chrome.runtime||!chrome.runtime.id)throw new Error("This script should only be loaded in a browser extension.");r.exports=s(chrome)}else r.exports=browser})});var se=A((vt,we)=>{"use strict";we.exports=function(e,t){return function(){for(var n=new Array(arguments.length),o=0;o<n.length;o++)n[o]=arguments[o];return e.apply(t,n)}}});var C=A((bt,Ce)=>{"use strict";var Ur=se(),D=Object.prototype.toString;function Te(r){return D.call(r)==="[object Array]"}function ne(r){return typeof r=="undefined"}function Ir(r){return r!==null&&!ne(r)&&r.constructor!==null&&!ne(r.constructor)&&typeof r.constructor.isBuffer=="function"&&r.constructor.isBuffer(r)}function _r(r){return D.call(r)==="[object ArrayBuffer]"}function Mr(r){return typeof FormData!="undefined"&&r instanceof FormData}function Dr(r){var e;return typeof ArrayBuffer!="undefined"&&ArrayBuffer.isView?e=ArrayBuffer.isView(r):e=r&&r.buffer&&r.buffer instanceof ArrayBuffer,e}function Hr(r){return typeof r=="string"}function jr(r){return typeof r=="number"}function Se(r){return r!==null&&typeof r=="object"}function Fr(r){return D.call(r)==="[object Date]"}function $r(r){return D.call(r)==="[object File]"}function Wr(r){return D.call(r)==="[object Blob]"}function Le(r){return D.call(r)==="[object Function]"}function Kr(r){return Se(r)&&Le(r.pipe)}function zr(r){return typeof URLSearchParams!="undefined"&&r instanceof URLSearchParams}function Vr(r){return r.replace(/^\s*/,"").replace(/\s*$/,"")}function Gr(){return typeof navigator!="undefined"&&(navigator.product==="ReactNative"||navigator.product==="NativeScript"||navigator.product==="NS")?!1:typeof window!="undefined"&&typeof document!="undefined"}function $(r,e){if(!(r===null||typeof r=="undefined"))if(typeof r!="object"&&(r=[r]),Te(r))for(var t=0,s=r.length;t<s;t++)e.call(null,r[t],t,r);else for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&e.call(null,r[n],n,r)}function Pe(){var r={};function e(n,o){typeof r[o]=="object"&&typeof n=="object"?r[o]=Pe(r[o],n):r[o]=n}for(var t=0,s=arguments.length;t<s;t++)$(arguments[t],e);return r}function oe(){var r={};function e(n,o){typeof r[o]=="object"&&typeof n=="object"?r[o]=oe(r[o],n):typeof n=="object"?r[o]=oe({},n):r[o]=n}for(var t=0,s=arguments.length;t<s;t++)$(arguments[t],e);return r}function Xr(r,e,t){return $(e,function(n,o){t&&typeof n=="function"?r[o]=Ur(n,t):r[o]=n}),r}Ce.exports={isArray:Te,isArrayBuffer:_r,isBuffer:Ir,isFormData:Mr,isArrayBufferView:Dr,isString:Hr,isNumber:jr,isObject:Se,isUndefined:ne,isDate:Fr,isFile:$r,isBlob:Wr,isFunction:Le,isStream:Kr,isURLSearchParams:zr,isStandardBrowserEnv:Gr,forEach:$,merge:Pe,deepMerge:oe,extend:Xr,trim:Vr}});var ie=A((Et,ke)=>{"use strict";var H=C();function Oe(r){return encodeURIComponent(r).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}ke.exports=function(e,t,s){if(!t)return e;var n;if(s)n=s(t);else if(H.isURLSearchParams(t))n=t.toString();else{var o=[];H.forEach(t,function(h,v){h===null||typeof h=="undefined"||(H.isArray(h)?v=v+"[]":h=[h],H.forEach(h,function(w){H.isDate(w)?w=w.toISOString():H.isObject(w)&&(w=JSON.stringify(w)),o.push(Oe(v)+"="+Oe(w))}))}),n=o.join("&")}if(n){var d=e.indexOf("#");d!==-1&&(e=e.slice(0,d)),e+=(e.indexOf("?")===-1?"?":"&")+n}return e}});var qe=A((wt,Re)=>{"use strict";var Jr=C();function W(){this.handlers=[]}W.prototype.use=function(e,t){return this.handlers.push({fulfilled:e,rejected:t}),this.handlers.length-1};W.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)};W.prototype.forEach=function(e){Jr.forEach(this.handlers,function(s){s!==null&&e(s)})};Re.exports=W});var Ne=A((Ct,Be)=>{"use strict";var Yr=C();Be.exports=function(e,t,s){return Yr.forEach(s,function(o){e=o(e,t)}),e}});var ae=A((Tt,Ue)=>{"use strict";Ue.exports=function(e){return!!(e&&e.__CANCEL__)}});var _e=A((St,Ie)=>{"use strict";var Zr=C();Ie.exports=function(e,t){Zr.forEach(e,function(n,o){o!==t&&o.toUpperCase()===t.toUpperCase()&&(e[t]=n,delete e[o])})}});var De=A((Lt,Me)=>{"use strict";Me.exports=function(e,t,s,n,o){return e.config=t,s&&(e.code=s),e.request=n,e.response=o,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},e}});var ue=A((Pt,He)=>{"use strict";var Qr=De();He.exports=function(e,t,s,n,o){var d=new Error(e);return Qr(d,t,s,n,o)}});var Fe=A((kt,je)=>{"use strict";var et=ue();je.exports=function(e,t,s){var n=s.config.validateStatus;!n||n(s.status)?e(s):t(et("Request failed with status code "+s.status,s.config,null,s.request,s))}});var We=A((Ot,$e)=>{"use strict";$e.exports=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}});var ze=A((Rt,Ke)=>{"use strict";Ke.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}});var Ge=A((qt,Ve)=>{"use strict";var rt=We(),tt=ze();Ve.exports=function(e,t){return e&&!rt(t)?tt(e,t):t}});var Je=A((Bt,Xe)=>{"use strict";var le=C(),st=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];Xe.exports=function(e){var t={},s,n,o;return e&&le.forEach(e.split(`
`),function(u){if(o=u.indexOf(":"),s=le.trim(u.substr(0,o)).toLowerCase(),n=le.trim(u.substr(o+1)),s){if(t[s]&&st.indexOf(s)>=0)return;s==="set-cookie"?t[s]=(t[s]?t[s]:[]).concat([n]):t[s]=t[s]?t[s]+", "+n:n}}),t}});var Qe=A((Nt,Ye)=>{"use strict";var Ze=C();Ye.exports=Ze.isStandardBrowserEnv()?function(){var e=/(msie|trident)/i.test(navigator.userAgent),t=document.createElement("a"),s;function n(o){var d=o;return e&&(t.setAttribute("href",d),d=t.href),t.setAttribute("href",d),{href:t.href,protocol:t.protocol?t.protocol.replace(/:$/,""):"",host:t.host,search:t.search?t.search.replace(/^\?/,""):"",hash:t.hash?t.hash.replace(/^#/,""):"",hostname:t.hostname,port:t.port,pathname:t.pathname.charAt(0)==="/"?t.pathname:"/"+t.pathname}}return s=n(window.location.href),function(d){var u=Ze.isString(d)?n(d):d;return u.protocol===s.protocol&&u.host===s.host}}():function(){return function(){return!0}}()});var rr=A((Ut,er)=>{"use strict";var K=C();er.exports=K.isStandardBrowserEnv()?function(){return{write:function(t,s,n,o,d,u){var h=[];h.push(t+"="+encodeURIComponent(s)),K.isNumber(n)&&h.push("expires="+new Date(n).toGMTString()),K.isString(o)&&h.push("path="+o),K.isString(d)&&h.push("domain="+d),u===!0&&h.push("secure"),document.cookie=h.join("; ")},read:function(t){var s=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return s?decodeURIComponent(s[3]):null},remove:function(t){this.write(t,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}()});var me=A((It,tr)=>{"use strict";var z=C(),nt=Fe(),ot=ie(),it=Ge(),at=Je(),ut=Qe(),ce=ue();tr.exports=function(e){return new Promise(function(s,n){var o=e.data,d=e.headers;z.isFormData(o)&&delete d["Content-Type"];var u=new XMLHttpRequest;if(e.auth){var h=e.auth.username||"",v=e.auth.password||"";d.Authorization="Basic "+btoa(h+":"+v)}var c=it(e.baseURL,e.url);if(u.open(e.method.toUpperCase(),ot(c,e.params,e.paramsSerializer),!0),u.timeout=e.timeout,u.onreadystatechange=function(){if(!(!u||u.readyState!==4)&&!(u.status===0&&!(u.responseURL&&u.responseURL.indexOf("file:")===0))){var L="getAllResponseHeaders"in u?at(u.getAllResponseHeaders()):null,q=!e.responseType||e.responseType==="text"?u.responseText:u.response,_={data:q,status:u.status,statusText:u.statusText,headers:L,config:e,request:u};nt(s,n,_),u=null}},u.onabort=function(){!u||(n(ce("Request aborted",e,"ECONNABORTED",u)),u=null)},u.onerror=function(){n(ce("Network Error",e,null,u)),u=null},u.ontimeout=function(){var L="timeout of "+e.timeout+"ms exceeded";e.timeoutErrorMessage&&(L=e.timeoutErrorMessage),n(ce(L,e,"ECONNABORTED",u)),u=null},z.isStandardBrowserEnv()){var w=rr(),R=(e.withCredentials||ut(c))&&e.xsrfCookieName?w.read(e.xsrfCookieName):void 0;R&&(d[e.xsrfHeaderName]=R)}if("setRequestHeader"in u&&z.forEach(d,function(L,q){typeof o=="undefined"&&q.toLowerCase()==="content-type"?delete d[q]:u.setRequestHeader(q,L)}),z.isUndefined(e.withCredentials)||(u.withCredentials=!!e.withCredentials),e.responseType)try{u.responseType=e.responseType}catch(S){if(e.responseType!=="json")throw S}typeof e.onDownloadProgress=="function"&&u.addEventListener("progress",e.onDownloadProgress),typeof e.onUploadProgress=="function"&&u.upload&&u.upload.addEventListener("progress",e.onUploadProgress),e.cancelToken&&e.cancelToken.promise.then(function(L){!u||(u.abort(),n(L),u=null)}),o===void 0&&(o=null),u.send(o)})}});var ge=A((_t,sr)=>{"use strict";var T=C(),nr=_e(),lt={"Content-Type":"application/x-www-form-urlencoded"};function or(r,e){!T.isUndefined(r)&&T.isUndefined(r["Content-Type"])&&(r["Content-Type"]=e)}function ct(){var r;return typeof XMLHttpRequest!="undefined"?r=me():typeof process!="undefined"&&Object.prototype.toString.call(process)==="[object process]"&&(r=me()),r}var V={adapter:ct(),transformRequest:[function(e,t){return nr(t,"Accept"),nr(t,"Content-Type"),T.isFormData(e)||T.isArrayBuffer(e)||T.isBuffer(e)||T.isStream(e)||T.isFile(e)||T.isBlob(e)?e:T.isArrayBufferView(e)?e.buffer:T.isURLSearchParams(e)?(or(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):T.isObject(e)?(or(t,"application/json;charset=utf-8"),JSON.stringify(e)):e}],transformResponse:[function(e){if(typeof e=="string")try{e=JSON.parse(e)}catch(t){}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(e){return e>=200&&e<300}};V.headers={common:{Accept:"application/json, text/plain, */*"}};T.forEach(["delete","get","head"],function(e){V.headers[e]={}});T.forEach(["post","put","patch"],function(e){V.headers[e]=T.merge(lt)});sr.exports=V});var ur=A((Mt,ir)=>{"use strict";var ar=C(),fe=Ne(),mt=ae(),gt=ge();function de(r){r.cancelToken&&r.cancelToken.throwIfRequested()}ir.exports=function(e){de(e),e.headers=e.headers||{},e.data=fe(e.data,e.headers,e.transformRequest),e.headers=ar.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),ar.forEach(["delete","get","head","post","put","patch","common"],function(n){delete e.headers[n]});var t=e.adapter||gt.adapter;return t(e).then(function(n){return de(e),n.data=fe(n.data,n.headers,e.transformResponse),n},function(n){return mt(n)||(de(e),n&&n.response&&(n.response.data=fe(n.response.data,n.response.headers,e.transformResponse))),Promise.reject(n)})}});var pe=A((Dt,lr)=>{"use strict";var I=C();lr.exports=function(e,t){t=t||{};var s={},n=["url","method","params","data"],o=["headers","auth","proxy"],d=["baseURL","url","transformRequest","transformResponse","paramsSerializer","timeout","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","maxContentLength","validateStatus","maxRedirects","httpAgent","httpsAgent","cancelToken","socketPath"];I.forEach(n,function(c){typeof t[c]!="undefined"&&(s[c]=t[c])}),I.forEach(o,function(c){I.isObject(t[c])?s[c]=I.deepMerge(e[c],t[c]):typeof t[c]!="undefined"?s[c]=t[c]:I.isObject(e[c])?s[c]=I.deepMerge(e[c]):typeof e[c]!="undefined"&&(s[c]=e[c])}),I.forEach(d,function(c){typeof t[c]!="undefined"?s[c]=t[c]:typeof e[c]!="undefined"&&(s[c]=e[c])});var u=n.concat(o).concat(d),h=Object.keys(t).filter(function(c){return u.indexOf(c)===-1});return I.forEach(h,function(c){typeof t[c]!="undefined"?s[c]=t[c]:typeof e[c]!="undefined"&&(s[c]=e[c])}),s}});var fr=A((Ht,cr)=>{"use strict";var G=C(),ft=ie(),mr=qe(),dt=ur(),gr=pe();function F(r){this.defaults=r,this.interceptors={request:new mr,response:new mr}}F.prototype.request=function(e){typeof e=="string"?(e=arguments[1]||{},e.url=arguments[0]):e=e||{},e=gr(this.defaults,e),e.method?e.method=e.method.toLowerCase():this.defaults.method?e.method=this.defaults.method.toLowerCase():e.method="get";var t=[dt,void 0],s=Promise.resolve(e);for(this.interceptors.request.forEach(function(o){t.unshift(o.fulfilled,o.rejected)}),this.interceptors.response.forEach(function(o){t.push(o.fulfilled,o.rejected)});t.length;)s=s.then(t.shift(),t.shift());return s};F.prototype.getUri=function(e){return e=gr(this.defaults,e),ft(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")};G.forEach(["delete","get","head","options"],function(e){F.prototype[e]=function(t,s){return this.request(G.merge(s||{},{method:e,url:t}))}});G.forEach(["post","put","patch"],function(e){F.prototype[e]=function(t,s,n){return this.request(G.merge(n||{},{method:e,url:t,data:s}))}});cr.exports=F});var he=A((jt,dr)=>{"use strict";function Ae(r){this.message=r}Ae.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")};Ae.prototype.__CANCEL__=!0;dr.exports=Ae});var Ar=A((Ft,pr)=>{"use strict";var pt=he();function X(r){if(typeof r!="function")throw new TypeError("executor must be a function.");var e;this.promise=new Promise(function(n){e=n});var t=this;r(function(n){t.reason||(t.reason=new pt(n),e(t.reason))})}X.prototype.throwIfRequested=function(){if(this.reason)throw this.reason};X.source=function(){var e,t=new X(function(n){e=n});return{token:t,cancel:e}};pr.exports=X});var xr=A(($t,hr)=>{"use strict";hr.exports=function(e){return function(s){return e.apply(null,s)}}});var br=A((Wt,xe)=>{"use strict";var yr=C(),At=se(),J=fr(),ht=pe(),xt=ge();function vr(r){var e=new J(r),t=At(J.prototype.request,e);return yr.extend(t,J.prototype,e),yr.extend(t,e),t}var N=vr(xt);N.Axios=J;N.create=function(e){return vr(ht(N.defaults,e))};N.Cancel=he();N.CancelToken=Ar();N.isCancel=ae();N.all=function(e){return Promise.all(e)};N.spread=xr();xe.exports=N;xe.exports.default=N});var wr=A((Kt,Er)=>{Er.exports=br()});var U=ee(te()),ye=ee(wr());var Y="BLOCK_CONTENT",Cr="HIDE_OVERLAY",Tr="FAILED";var Sr=ee(te());var Lr=r=>{(r||window.document).querySelectorAll("[intl-id]").forEach(s=>s.textContent=Sr.default.i18n.getMessage(s.getAttribute("intl-id")))};var ve=!1,be=!1;(async()=>{"use strict";let r=U.default.i18n.getMessage("overlay_tree_still_growing"),e=U.default.i18n.getMessage("overlay_tree_is_dead");function t(l){return ve?(l.preventDefault(),l.stopImmediatePropagation(),!1):!0}function s(l){U.default.runtime.sendMessage({giveUp:!0}).catch(()=>{}),o(l)}function n(l){let m=l.getElementById("forest-popup"),x=l.getElementById("forest-popup-mask");!m||!x||(m.classList.remove("disappear"),x.classList.remove("disappear"),setTimeout(()=>m.classList.remove("forest-popup-shrink"),0),setTimeout(()=>x.classList.add("forest-popup-masked"),0))}function o(l){let m=l.getElementById("forest-popup"),x=l.getElementById("forest-popup-mask");!m||!x||(m.classList.add("forest-popup-shrink"),setTimeout(()=>m.classList.add("disappear"),300),x.classList.remove("forest-popup-masked"),setTimeout(()=>x.classList.add("disappear"),300))}let d=async()=>{window.addEventListener("keydown",t,!0),window.addEventListener("keypress",t,!0),window.addEventListener("keyup",t,!0);let l=U.default.runtime.getURL("content.html"),m=U.default.runtime.getURL("css/content.css"),{data:x}=await ye.default.get(l),{data:E}=await ye.default.get(m),i=document.createElement("div");i.id="forest-content-host";let a=i.attachShadow({mode:"open"});return a.innerHTML=`<style>${E}</style>${x}`,[i,a]},u=l=>{let m=l.getElementById("forest-tree-ball");m.style.backgroundImage=`url("${U.default.extension.getURL("images/main/planting_circle.svg")}")`,l.getElementById("forest-giveup-button").addEventListener("click",()=>n(l),!1),l.getElementById("forest-popup-mask").addEventListener("click",()=>o(l),!1),l.getElementById("forest-popup-confirm-button").addEventListener("click",()=>s(l),!1),l.getElementById("forest-popup-cancel-button").addEventListener("click",()=>o(l),!1),Lr(l)},h=(l,m,x,E)=>{let i=E.getElementById("forest-overlay-top-text");i.textContent=l===Y?r:e;let a=E.getElementById("forest-tree"),f=`url("${U.default.runtime.getURL(x)}")`;a.style.backgroundImage!==f&&(a.style.backgroundImage=f);let p=E.getElementById("forest-overlay-bottom-text");l===Y&&(p.textContent=m)},v=l=>{document.body.appendChild(l),document.body.classList.add("forest-body-lock");let m=document.createElement("style");m.innerHTML=".forest-body-lock { overflow: hidden !important; }",m.id="forest-body-lock-style",document.head.appendChild(m)},c=l=>{let m=l.querySelector("#forest-overlay"),x=l.getElementById("forest-giveup-button");m.classList.remove("overlay-fadeout"),x.classList.remove("disappear")},w=async l=>{let m=l.getElementById("forest-overlay");!m||(m.classList.add("overlay-fadeout"),await new Promise(x=>setTimeout(x,300)),document.head.querySelector("#forest-body-lock-style")?.remove(),document.body.classList.remove("forest-body-lock"),ve=!1,l.host.remove())},R=l=>{l.getElementById("forest-giveup-button").classList.add("disappear"),o(l)},S=async(l,m,x)=>{if(!document.body||be)return;let E=document.querySelector("#forest-content-host");if(E){let i=E.shadowRoot;h(l,m,x,i)}else{be=!0;let[i,a]=await d();u(a),h(l,m,x,a),v(i),c(a),be=!1}ve=!0},L=(l,m,x)=>{if(!document.body)return;let E=document.querySelector("#forest-content-host");if(!E)return;let i=E.shadowRoot;h(l,m,x,i),R(i),setTimeout(()=>w(i),2e3)},q=()=>{if(!document.body)return;let l=document.querySelector("#forest-content-host");if(!l)return;let m=l.shadowRoot;R(m),w(m)},_=({type:l,payload:m})=>{switch(l){case Y:S(l,m.timerText,m.treeUrl);break;case Tr:L(l,m.timerText,m.treeUrl);break;case Cr:q();break;default:break}return Promise.resolve("message received")};U.default.runtime.onMessage.addListener(_)})();})();
